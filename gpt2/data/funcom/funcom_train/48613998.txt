TDAT: public void send email for forgot password ( string token , string email ) {  <NL>  <NL> simple mail message message = new simple mail message ( password token message ) ;  <NL> message . set to ( email ) ;  <NL> string text = message . get text ( ) ;  <NL> text = string utils . replace ( text , " % token % " , token ) ;  <NL> text = string utils . replace ( text , " % base _ web _ app _ path % " , base web app path ) ;  <NL> message . set text ( text ) ;  <NL>  <NL> try {  <NL> mail sender . send ( message ) ;  <NL>  } catch ( exception e ) {  <NL> log . error ( e . get message ( ) ) ;  <NL> throw new illegal state exception ( e ) ;  <NL>  }  <NL>  }  COM: <s> sends email with the token to change password </s>