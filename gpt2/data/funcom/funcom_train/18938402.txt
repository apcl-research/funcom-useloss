TDAT: private void update state ( task task ) {  <NL>  <NL> boolean task running = has task in execution ( ) ;  <NL>  <NL> if ( grid process state . finished . equals ( task . get state ( ) ) ) {  <NL> if ( task running ) {  <NL> state = grid process state . running ;  <NL>  } else {  <NL> state = has any task failed ( ) ? grid process state . failed : grid process state . finished ;  <NL>  }  <NL>  } else if ( grid process state . failed . equals ( task . get state ( ) ) ) {  <NL> state = task running ? grid process state . running : grid process state . failed ;  <NL>  }  <NL>  }  COM: <s> updates the state of this code job code according to the last </s>