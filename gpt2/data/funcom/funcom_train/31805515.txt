TDAT: final synchronized public void wait for reply ( long timeout ) {  <NL> if ( timeout < = 0 ) {  <NL> wait for reply ( ) ;  <NL>  } else {  <NL> long until = system . current time millis ( ) + timeout ;  <NL> long reft ;  <NL>  <NL> while ( available = = false <NL>  & & ( reft = ( until - system . current time millis ( ) ) ) > 0 ) {  <NL> try {  <NL> wait ( reft ) ;  <NL>  } catch ( interrupted exception ex ) {  <NL> ex . print stack trace ( ) ;  <NL>  }  <NL>  }  <NL>  }  <NL>  }  COM: <s> suspends the caller for the specified timeout or until a future reply comes </s>