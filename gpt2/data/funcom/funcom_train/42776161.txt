TDAT: private long get snap time stamp ( int time stamp ) {  <NL> int snap distance _ ppq = agent . get snap distance _ ppq ( ) ;  <NL>  <NL> if ( snap distance _ ppq < = 0 )  <NL> return time stamp ;  <NL>  <NL> int remainder = time stamp % snap distance _ ppq ;  <NL> if ( remainder = = 0 )  <NL> return time stamp ;  <NL> if ( ( ( double ) remainder / ( double ) snap distance _ ppq ) > 0 . 5 )  <NL> return snap distance _ ppq * ( time stamp / snap distance _ ppq ) + snap distance _ ppq ;  <NL> else <NL> return snap distance _ ppq * ( time stamp / snap distance _ ppq ) ;  <NL>  }  COM: <s> returns the time stamp rounded to the nearest snap distance </s>