TDAT: protected void broadcast node event ( message message , boolean include all ) {  <NL> collection < jid > jids = new array list < jid > ( ) ;  <NL> for ( node subscription subscription : subscriptions by id . values ( ) ) {  <NL> if ( include all || subscription . can send node events ( ) ) {  <NL> jids . add ( subscription . get jid ( ) ) ;  <NL>  }  <NL>  }  <NL>  / / broadcast packet to subscribers <NL> service . broadcast ( this , message , jids ) ;  <NL>  }  COM: <s> broadcasts a node event to subscribers of the node </s>