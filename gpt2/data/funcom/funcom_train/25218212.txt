TDAT: public string apply sort rule ( string text , int level ) {  <NL>  <NL> list < rule > rules = sort rules map . get ( integer . value of ( level ) ) ;  <NL>  <NL> if ( rules = = null || rules . is empty ( ) ) {  <NL> return ( fallback = = null / /  <NL>  ? text <NL>  : fallback . apply sort rule fallback ( text , level ) ) ;  <NL>  }  <NL> return rule . apply ( rules , text ) ;  <NL>  }  COM: <s> apply the sort rules </s>