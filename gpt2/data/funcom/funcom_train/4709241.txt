TDAT: public double get speed ( ) {  <NL> long time factor = time . get elapsed time ( ) / refresh rate ;  <NL> update ( time factor ) ;  <NL>  <NL> double sum = 0 ;  <NL> for ( int i = 0 ; i < values . length ; i + + ) {  <NL> int index = get index ( time factor - i - 1 ) ;  <NL> sum + = values [ index ] * rate [ i ] ;  <NL>  }  <NL> return sum * 1000 / refresh rate / values . length ;  <NL>  }  COM: <s> get current speed unit s </s>