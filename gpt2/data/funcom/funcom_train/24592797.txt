TDAT: private void try unlock new towns ( world the world ) {  <NL>  / / unlock new towns <NL> int town unlocked = the world . get towns unlocked ( ) ;  <NL>  / / is the prosperity high enough to advance ?  <NL> while ( town unlocked = = 0 ) {  <NL>  / / unlock next town <NL> the world . unlock town ( ) ;  <NL>  + + town unlocked ;  <NL>  }  <NL>  / / update prosperity needed for next town <NL> the world . set next town prosperity ( prosperity to proceed ( the world ,  <NL> town unlocked ) ) ;  <NL>  }  COM: <s> unlock new town s if total prosperity is high enough </s>