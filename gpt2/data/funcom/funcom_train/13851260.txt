TDAT: private void check inbound ration ( ) {  <NL> assert thread . holds lock ( session lock ) ;  <NL> assert ! in ration infinite ;  <NL>  <NL> if ( in state > = finished ) {  <NL> return ;  <NL>  }  <NL> int mark = mux . initial inbound ration / 2 ;  <NL> int used = in buf remaining + in ration ;  <NL> if ( used < = mark ) {  <NL> int inc = mux . initial inbound ration - used ;  <NL> mux . async send increment ration ( session id , inc ) ;  <NL> in ration + = inc ;  <NL>  }  <NL>  }  COM: <s> sends ration increment if read drained buffers below </s>