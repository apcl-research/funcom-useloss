TDAT: static public subject get subject ( ) {  <NL> subject subject = null ;  <NL> if ( get identity ( ) ! = null ) {  <NL> subject = get identity ( ) . get subject ( ) ;  <NL>  }  <NL> if ( subject = = null ) {  <NL> try {  <NL> subject = ( subject ) policy context <NL>  . get context ( " javax . security . auth . subject . container " ) ;  <NL>  } catch ( exception e ) {  <NL>  / / e . print stack trace ( ) ;  <NL>  }  <NL>  }  <NL> if ( subject = = null ) {  <NL>  / / todo need to handle lookup with credentials in unit tests to remove this dependency <NL> subject = security association . get subject ( ) ;  <NL>  }  <NL> return subject ;  <NL>  }  COM: <s> get the current subject </s>