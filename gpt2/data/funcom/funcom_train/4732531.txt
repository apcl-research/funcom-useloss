TDAT: public void end ( ) {  <NL> if ( row num ! = img info . height - 1 ) {  <NL> throw new png output exception ( " all rows have not been written " ) ;  <NL>  }  <NL> try {  <NL> dat stream deflated . finish ( ) ;  <NL> dat stream . flush ( ) ;  <NL> endchunk ( ) ;  <NL> os . close ( ) ;  <NL>  } catch ( io exception e ) {  <NL> throw new png output exception ( e ) ;  <NL>  }  <NL>  }  COM: <s> finalizes the image creation and closes the file stream </s>