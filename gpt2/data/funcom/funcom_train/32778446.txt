TDAT: public boolean sample ( ) {  <NL>  <NL> increment observations ( ) ; / / increase count of samples <NL>  <NL>  / / direct mapping between probability [ 0 , 1 ] and sample from <NL>  / / randomgenerator [ 0 , 1 ]  <NL>  / / probability indicates level when to return " true " .  <NL> boolean new sample = random generator . next double ( ) < true probability ;  <NL> if ( antithetic )  <NL> new sample = ! new sample ;  <NL>  <NL> if ( this . currently send trace notes ( ) )  <NL> this . trace last sample ( boolean . to string ( new sample ) ) ;  <NL>  <NL> return new sample ;  <NL>  <NL>  }  COM: <s> returns the next bernoulli distributed sample of the distribution </s>