TDAT: private list add if not null and not already contained ( object object , list list ) {  <NL> if ( object ! = null ) {  <NL> if ( list = = collections . empty _ list ) {  <NL> list = new array list ( change events . size ( ) ) ;  <NL>  }  <NL>  <NL>  / / we rely on the object implementing equals correctly <NL>  / / oh , well we know it ' s an x path <NL> if ( ! list . contains ( object ) ) {  <NL> list . add ( object ) ;  <NL>  }  <NL>  }  <NL> return list ;  <NL>  }  COM: <s> extracted logic common to undo and redo </s>