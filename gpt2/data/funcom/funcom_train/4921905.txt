TDAT: private buffer squirt element slice write buffer for reading ( ) {  <NL>  <NL>  / / obtain the write buffer squirt usage and buffer <NL> buffer squirt usage usage = this . tail . squirt . usage ;  <NL> byte buffer buffer = this . tail . squirt . get buffer ( ) ;  <NL>  <NL>  / / add remaining buffer content as squirt <NL> byte buffer append buffer = buffer . slice ( ) ;  <NL> buffer squirt element write element = new buffer squirt element (  <NL> new managed buffer squirt ( usage , append buffer ) ) ;  <NL> buffer squirt element read element = this . tail ;  <NL> this . tail . next = write element ;  <NL> this . tail = write element ;  <NL>  <NL>  / / setup content for reading <NL> buffer . flip ( ) ;  <NL>  <NL>  / / return the read element <NL> return read element ;  <NL>  }  COM: <s> slices the write buffer to allow reading </s>