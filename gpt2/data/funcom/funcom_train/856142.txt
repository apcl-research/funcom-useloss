TDAT: private void calc preferred size ( ) {  <NL> int comp width , comp height ;  <NL>  <NL>  / / determine size .  <NL> comp width = ( this . map . get width ( ) + this . map . get height ( ) )  <NL>  * ( this . field image width / 2 ) ;  <NL> comp height = ( this . map . get width ( ) + this . map . get height ( ) - 1 )  <NL>  * this . field height + ( this . field image height - this . field height ) ;  <NL> this . set preferred size ( new dimension ( comp width , comp height ) ) ;  <NL>  }  COM: <s> calculates the preferred size of the component </s>