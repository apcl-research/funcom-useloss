TDAT: public i board state prepare board state for player ( i board state state , player player ) {  <NL>  / / clone for local operation <NL> i board state local state = ( i board state ) state . clone ( ) ;  <NL>  / / reset all spaces to locked , then selectively unlock the ones open for player <NL> for ( i board space space : local state . get all board spaces ( ) ) {  <NL> space . set is locked ( true ) ;  <NL>  }  <NL>  <NL> return this . unlock board spaces for player ( local state , player ) ;  <NL>  }  COM: <s> prepares the board state for the next player </s>