TDAT: private string rename user ( document document , string user name , string new user name ) throws app exception , app exception {  <NL> if ( user name = = null ) {  <NL> throw new app exception ( " application . error . userrequired " ) ;  <NL>  }  <NL>  <NL> if ( new user name = = null ) {  <NL> throw new app exception ( " application . error . newuserrequired " ) ;  <NL>  }  <NL>  <NL> user user = document . find user ( user name ) ;  <NL>  <NL> if ( user = = null ) {  <NL> throw new app exception ( " application . error . unabletofinduser " , user name ) ;  <NL>  }  <NL>  <NL> user . set name ( new user name ) ;  <NL>  <NL> return new file generator ( document ) . generate ( true ) ;  <NL>  }  COM: <s> renames an existing user </s>