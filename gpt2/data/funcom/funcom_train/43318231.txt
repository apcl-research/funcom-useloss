TDAT: private resource event build resource event ( http servlet request request ) throws io exception {  <NL> string path info = request . get path info ( ) ;  <NL> event context ctx = new web event context ( this , request ) ;  <NL> for ( enumeration locales = request . get locales ( ) ; locales . has more elements ( ) ; ) {  <NL> locale l = ( locale ) locales . next element ( ) ;  <NL> ctx . get locales ( ) . add ( l ) ;  <NL>  }  <NL> if ( request . get user principal ( ) ! = null ) {  <NL> ctx . set user name ( request . get user principal ( ) . get name ( ) ) ;  <NL>  }  <NL> resource event event = handler manager . build resource event ( path info , request . get query string ( ) , ctx ) ;  <NL> get request data ( request , event ) ;  <NL> return event ;  <NL>  }  COM: <s> build the resource event from the http request </s>