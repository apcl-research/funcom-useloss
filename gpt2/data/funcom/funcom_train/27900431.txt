TDAT: private string make filename ( file file , file dest dir ) {  <NL> if ( file = = null ) return null ;  <NL> string name = util . encode filename ( file . get name ( ) ) ;  <NL> if ( ( new file ( dest dir , " image " ) . exists ( ) ) ) {  <NL> name = " image / " + name ;  <NL>  }  <NL> return name ;  <NL>  }  COM: <s> makes a canonical filename out of a possibly messy input filename </s>