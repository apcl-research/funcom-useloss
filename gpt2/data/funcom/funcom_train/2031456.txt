TDAT: public lifecycle helper set action ( object key , instance listener a ) {  <NL> final object state = cc . get state ( ) ;  <NL> if ( state = = null ) {  <NL> final map map = new java . util . hash map ( ) ;  <NL> map . put ( key , a ) ;  <NL> this . cc = this . cc . with state ( map ) ;  <NL>  }  <NL> else {  <NL> final map map = ( map ) state ;  <NL> map . put ( key , a ) ;  <NL>  }  <NL> return this ;  <NL>  }  COM: <s> add an action identified by an action key to the user state </s>