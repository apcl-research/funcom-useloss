TDAT: private void refresh image ( ) {  <NL> synchronized ( this ) {  <NL>  / / clear out width / height / realoadimage flag and set loading flag <NL> state = ( state | loading _ flag | reload _ image _ flag | width _ flag | height _ flag ) ^ ( width _ flag | height _ flag | reload _ image _ flag ) ;  <NL> width = height = 0 ;  <NL>  }  <NL>  <NL> try {  <NL>  <NL>  / / and update the size params <NL> update image size ( ) ;  <NL>  } finally {  <NL> synchronized ( this ) {  <NL>  / / clear out state in case someone threw an exception .  <NL> state = ( state | loading _ flag ) ^ loading _ flag ;  <NL>  }  <NL>  }  <NL>  }  COM: <s> loads the image and updates the size accordingly </s>