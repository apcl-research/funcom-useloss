TDAT: private command make cmd from redo ( internal cmd token tok in ) {  <NL> affine transform old pos = tok in . old position ;  <NL> unit command cmd = ( unit command ) tok in . cmd ;  <NL> cmd . set action id ( mouse handler . h _ undo ) ;  <NL> cmd . set new location ( old pos ) ;  <NL> model facade . change model ( cmd ) ;  <NL> return ( cmd ) ;  <NL>  }  COM: <s> will take a cmd token then create the last position as a command </s>