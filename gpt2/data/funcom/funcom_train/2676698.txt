TDAT: protected void notify modified ( ) {  <NL> if ( update counter > 0 ) {  <NL>  / / we ' re inside a begin update . . . end update block <NL> return ;  <NL>  }  <NL>  <NL> if ( modified ) {  <NL>  / / the client sent at least one update - > increase version of so <NL> update version ( ) ;  <NL> last modified = system . current time millis ( ) ;  <NL>  }  <NL>  <NL> if ( modified & & storage ! = null ) {  <NL> if ( ! storage . save ( this ) ) {  <NL> log . error ( " could not store shared object . " ) ;  <NL>  }  <NL>  }  <NL>  <NL> send updates ( ) ;  <NL>  }  COM: <s> send notification about modification of so </s>