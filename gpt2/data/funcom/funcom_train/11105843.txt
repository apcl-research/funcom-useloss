TDAT: private token processor get token processor ( faces context context ) {  <NL>  <NL> token processor tp = ( token processor ) context . get external context ( ) .  <NL> get application map ( ) . get ( shale constants . token _ processor ) ;  <NL> if ( tp = = null ) {  <NL> tp = new token processor ( ) ;  <NL> context . get external context ( ) .  <NL> get application map ( ) . put ( shale constants . token _ processor , tp ) ;  <NL>  }  <NL> return tp ;  <NL>  <NL>  }  COM: <s> p retrieve the </s>