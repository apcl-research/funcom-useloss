TDAT: protected void process click ( int mouse x , int mouse y ) {  <NL> if ( ! capture menu click ( mouse x , mouse y ) ) {  <NL> switch ( ui state ) {  <NL> case uistate _ view :  <NL> handle ship select ( mouse x , mouse y , user interface . is select additional key down ( ) ) ;  <NL> break ;  <NL> case uistate _ movement :  <NL> if ( ! actions to execute ) {  <NL> handle move point select ( ) ;  <NL>  }  <NL> break ;  <NL> case uistate _ attack :  <NL> if ( ! actions to execute ) {  <NL> handle attack select ( mouse x , mouse y ) ;  <NL>  }  <NL> break ;  <NL>  }  <NL> user interface . refresh menu ( ) ;  <NL>  }  <NL>  }  COM: <s> process a click inside the view window </s>