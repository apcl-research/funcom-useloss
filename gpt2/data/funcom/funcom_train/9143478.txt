TDAT: public void add relation ( relation relation ) {  <NL> if ( this . relations . get ( relation . get type ( ) ) = = null ) {  <NL> set < relation > all relations = new hash set < relation > ( ) ;  <NL> all relations . add ( relation ) ;  <NL> this . relations . put ( relation . get type ( ) , all relations ) ;  <NL>  }  <NL> else {  <NL> set < relation > all relations = this . relations . get ( relation . get type ( ) ) ;  <NL>  <NL> if ( ! this . contains relation ( relation ) ) {  <NL> all relations . add ( relation ) ;  <NL> this . relations . put ( relation . get type ( ) , all relations ) ;  <NL>  }  <NL>  }  <NL>  }  COM: <s> adds a relation for this entity </s>