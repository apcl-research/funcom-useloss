TDAT: private int get document offset ( int widget offset ) {  <NL> if ( f text viewer instanceof i text viewer extension5 ) {  <NL> i text viewer extension5 extension = ( i text viewer extension5 ) f text viewer ;  <NL> return extension . widget offset2model offset ( widget offset ) ;  <NL>  }  <NL> i region visible = f text viewer . get visible region ( ) ;  <NL> if ( widget offset > visible . get length ( ) ) {  <NL> return - 1 ;  <NL>  }  <NL> return widget offset + visible . get offset ( ) ;  <NL>  }  COM: <s> convert a widget offset to the corresponding document offset </s>