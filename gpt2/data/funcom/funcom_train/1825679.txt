TDAT: private geometry intersection ( geometry geometry , viewport viewport ) {  <NL> geometry geo ;  <NL> try { / / ldb : need to catch the noninvertible transform exception instead of just throwing it <NL> geo = geometry . intersection ( viewport rectangle ( viewport ) ) ;  <NL>  } catch ( noninvertible transform exception e ) {  <NL> return null ;  <NL>  }  <NL> if ( geo . get num geometries ( ) = = 0 ) {  <NL> return null ;  <NL>  }  <NL> return geo ;  <NL>  }  COM: <s> even though a features envelope intersects the viewport the feature </s>