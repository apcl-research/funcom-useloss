TDAT: public void end fire ( ) {  <NL> if ( activation state ! = transition _ firing ) {  <NL> system . out <NL>  . println ( " end fire ( ) called for transition that is not in state transtion _ firing , ( time : "  <NL>  + get model ( ) . present time ( ) ) ;  <NL>  } else {  <NL> for ( map . entry < place , map < token type , integer > > entry : output places <NL>  . entry set ( ) ) {  <NL>  <NL> entry . get key ( ) . add tokens ( entry . get value ( ) ) ;  <NL>  }  <NL>  <NL> set activation state ( transition _ deactivated ) ;  <NL> check activation ( ) ;  <NL>  }  <NL>  }  COM: <s> ends firing of the transition mode creating the new tokens at the output </s>