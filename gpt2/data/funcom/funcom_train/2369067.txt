TDAT: private void shut down ( ) {  <NL> if ( this . message handler ! = null ) {  <NL> this . message handler . shutdown ( ) ;  <NL>  }  <NL> if ( this . repository handler ! = null ) {  <NL> this . repository handler . stop ( ) ;  <NL>  }  <NL> this . message handler = null ;  <NL> this . server handler = null ;  <NL> this . net client . stop ( false ) ;  <NL> while ( this . net client . still alive ( ) ) {  <NL> try {  <NL> thread . sleep ( shutdown _ delay ) ;  <NL>  } catch ( final interrupted exception ire ) {  <NL>  / / nothing to do . . .  <NL> logger . debug ( null , ire ) ;  <NL>  }  <NL>  }  <NL>  }  COM: <s> closes connection and anything else </s>