TDAT: public serializable read message ( ) throws io exception , class not found exception {  <NL> byte [ ] header bytes = consume header ( ) ;  <NL> message header header = message header . read header ( header bytes ) ;  <NL> int payload length = header . get payload length ( ) ;  <NL>  <NL> byte [ ] payload bytes = consume payload ( payload length ) ;  <NL> byte buffer complete message = byte buffer . allocate ( header bytes . length + payload bytes . length ) ;  <NL> complete message . put ( header bytes ) . put ( payload bytes ) ;  <NL>  <NL> return unmarshal ( complete message . array ( ) ) ;  <NL>  }  COM: <s> tries to read a complete message from the underlying stream and to retrieve </s>