TDAT: protected void mark modified ( final virtual file file , final user user ) {  <NL>  / * persist * /  <NL> session s = lifecycle . get hibernate data source ( ) . create new session ( ) ;  <NL> transaction tx = s . begin transaction ( ) ;  <NL> try {  <NL> file . set last modified ( system . current time millis ( ) ) ;  <NL> file . set last modifier ( user ) ;  <NL> update file size ( file ) ;  <NL> s . save or update ( file ) ;  <NL> tx . commit ( ) ;  <NL>  } catch ( exception e ) {  <NL> tx . rollback ( ) ;  <NL> throw new pulse exception ( " error : " + e . get localized message ( ) , e ) ;  <NL>  } finally {  <NL> s . close ( ) ;  <NL>  }  <NL>  }  COM: <s> updates the modification tokens for the file </s>