TDAT: private void add to zip ( resource resource , zip output stream out ) throws exception {  <NL> input stream in = resource . get input stream ( ) ;  <NL> try {  <NL> int byte count = 0 ;  <NL> byte [ ] buffer = new byte [ file copy utils . buffer _ size ] ;  <NL> int bytes read = - 1 ;  <NL> while ( ( bytes read = in . read ( buffer ) ) ! = - 1 ) {  <NL> out . write ( buffer , 0 , bytes read ) ;  <NL> byte count + = bytes read ;  <NL>  }  <NL> out . flush ( ) ;  <NL>  }  <NL> finally {  <NL> try {  <NL> in . close ( ) ;  <NL>  } catch ( io exception ex ) {  <NL> logger . warn ( " could not close input stream " , ex ) ;  <NL>  }  <NL>  }  <NL>  }  COM: <s> copy file to zip without closing the output stream </s>