TDAT: protected string read input line ( ) throws io exception {  <NL> string buffer buf = new string buffer ( 1024 ) ;  <NL> int c ;  <NL> boolean skip = false ;  <NL>  <NL> while ( ( c = in . read ( ) ) ! = - 1 ) {  <NL> if ( c = = ' \r ' )  <NL> switch ( c = in . read ( ) ) {  <NL> case - 1 :  <NL> case ' \n ' : break ;  <NL> default :  <NL> in . unread ( c ) ;  <NL>  }  <NL> if ( c = = ' \n ' ) break ;  <NL> if ( buf . length ( ) = = 1024 ) skip = true ;  <NL> if ( ! skip ) buf . append ( ( char ) c ) ;  <NL>  }  <NL> return buf . to string ( ) ;  <NL>  }  COM: <s> reads a command from the client </s>