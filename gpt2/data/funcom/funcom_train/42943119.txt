TDAT: public void widget selected ( selection event e ) {  <NL>  / / column selected - first column doesn ' t count <NL> int column = table . index of ( ( table column ) e . widget ) ;  <NL> if ( column = = sorter . get top priority ( ) ) {  <NL> sorter . reverse top priority ( ) ;  <NL>  } else {  <NL> sorter . set top priority ( column ) ;  <NL>  }  <NL> update sort state ( sorter ) ;  <NL> get viewer ( ) . refresh ( ) ;  <NL> i dialog settings workbench settings = activator . get default ( )  <NL>  . get dialog settings ( ) ;  <NL> i dialog settings settings = workbench settings <NL>  . get section ( sort _ state _ settings ) ;  <NL> if ( settings = = null ) {  <NL> settings = workbench settings <NL>  . add new section ( sort _ state _ settings ) ;  <NL>  }  <NL> sorter . save state ( settings ) ;  <NL>  }  COM: <s> handles the case of user selecting the header area </s>