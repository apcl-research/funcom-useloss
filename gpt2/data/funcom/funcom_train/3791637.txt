TDAT: public int next int ( int n ) {  <NL> if ( n < = 0 )  <NL> throw new illegal argument exception ( " n must be positive " ) ;  <NL> if ( ( n & - n ) = = n ) / / i . e . , n is a power of 2 <NL> return ( int ) ( ( n * ( long ) next ( 31 ) ) > > 31 ) ;  <NL> int bits , val ;  <NL> do {  <NL> bits = next ( 31 ) ;  <NL> val = bits % n ;  <NL>  } while ( bits - val + ( n - 1 ) < 0 ) ;  <NL> return val ;  <NL>  }  COM: <s> this method is missing from jdk 1 </s>