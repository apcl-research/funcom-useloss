TDAT: static public long get ( byte buffer buffer , boolean optimize positive ) {  <NL> long result = 0 ;  <NL> for ( int offset = 0 ; offset < 64 ; offset + = 7 ) {  <NL> byte b = buffer . get ( ) ;  <NL> result | = ( long ) ( b & 0x7f ) < < offset ;  <NL> if ( ( b & 0x80 ) = = 0 ) {  <NL> if ( ! optimize positive ) result = ( result > > > 1 ) ^ - ( result & 1 ) ;  <NL> return result ;  <NL>  }  <NL>  }  <NL> throw new serialization exception ( " malformed long . " ) ;  <NL>  }  COM: <s> reads a long from the buffer that was written with </s>