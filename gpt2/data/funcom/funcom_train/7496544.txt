TDAT: protected currency get effective currency ( ) {  <NL> currency c = get currency ( ) ;  <NL> if ( c = = null ) {  <NL> u locale uloc = get locale ( u locale . valid _ locale ) ;  <NL> if ( uloc = = null ) {  <NL> uloc = u locale . get default ( ) ;  <NL>  }  <NL> c = currency . get instance ( uloc ) ;  <NL>  }  <NL> return c ;  <NL>  }  COM: <s> returns the currency in effect for this formatter </s>