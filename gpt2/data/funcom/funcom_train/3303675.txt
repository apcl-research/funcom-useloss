TDAT: private string replace ( string s , char marker , string replacement ) {  <NL>  <NL> if ( s = = null )  <NL> return null ;  <NL>  <NL> string retstr = " " ;  <NL> int state = 0 ;  <NL> for ( int i = 0 ; i < s . length ( ) ; i + + ) {  <NL>  <NL> char c = s . char at ( i ) ;  <NL>  <NL> if ( state = = 1 ) {  <NL> if ( c = = marker ) {  <NL> retstr + = replacement ;  <NL>  }  <NL> else {  <NL> retstr + = " % " + c ;  <NL>  }  <NL> state = 0 ;  <NL>  }  <NL> else {  <NL> if ( c = = ' % ' )  <NL> state = 1 ;  <NL> else <NL> retstr + = c ;  <NL>  }  <NL>  }  <NL>  <NL> return retstr ;  <NL>  }  COM: <s> this method has been introduced a replacement for replace all method from </s>