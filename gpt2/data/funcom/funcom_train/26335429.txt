TDAT: public void end dialog ( ) {  <NL>  / / return control <NL> if ( this . engine ! = null ) {  <NL> this . engine . get ui ( ) . get message view port ( ) . refresh ( ) ;  <NL> this . engine . take keyboard control ( ) ;  <NL>  }  <NL>  <NL>  / / notify listener <NL> if ( this . listener ! = null ) {  <NL> this . listener . check response ( this ) ;  <NL>  }  <NL>  }  COM: <s> end dialog returns control to the game engine and notifies the listener </s>