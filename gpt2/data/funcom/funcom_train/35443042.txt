TDAT: public segment tree node next ( ) {  <NL> if ( s . is empty ( ) ) return null ;  <NL> segment tree node res = null ;  <NL> while ( ! s . is empty ( ) ) {  <NL> segment tree node t = s . peek ( ) ;  <NL> if ( visited . contains key ( t ) ) {  <NL>  / / visit t <NL> res = t ;  <NL> s . pop ( ) ;  <NL> break ;  <NL>  } else {  <NL> visited . put ( t , true ) ;  <NL> if ( t . right son ( ) ! = null ) {  <NL> s . push ( t . right son ( ) ) ;  <NL>  <NL>  }  <NL> if ( t . left son ( ) ! = null ) {  <NL> s . push ( t . left son ( ) ) ;  <NL>  }  <NL>  }  <NL>  }  <NL> return res ;  <NL>  }  COM: <s> next tree node pointed by iterator </s>