TDAT: protected void prepare context ( ) {  <NL> map < string , object > add ctx = new hash map < string , object > ( ) ;  <NL>  <NL>  / / make this object available in template <NL> add ctx . put ( " tool " , this ) ; / / $ non - nls - 1 $  <NL>  <NL> add ctx . put ( " output dir " , get output dir ( ) ) ;  <NL> add ctx . put ( " output file " , get output file ( ) ) ;  <NL> add ctx . put ( " filename " , get output file ( ) . get name ( ) ) ;  <NL>  <NL> generator . add to context ( add ctx ) ;  <NL>  }  COM: <s> prepare velocity context for generator and template </s>