TDAT: protected object get pre authenticated principal ( http servlet request request ) {  <NL> if ( ! enable ) return null ;  <NL> string o = ( string ) ( super . get pre authenticated principal ( request ) ) ;  <NL> if ( o ! = null & & ! o . equals ( " " ) ) {  <NL> if ( ! user details manager . user exists ( o ) ) {  <NL> login handler . new user login ( o , request ) ;  <NL>  } else {  <NL>  / / update user <NL> login handler . existing user login ( o , request ) ;  <NL>  }  <NL>  }  <NL> return o ;  <NL>  }  COM: <s> this is called when a request is made the returned object identifies the </s>