TDAT: protected thread state pick next thread ( ) {  <NL>  / / implement me <NL> thread state res state = null ;  <NL> int max pri = - 1 ;  <NL> for ( iterator iter = wait queue . iterator ( ) ; iter . has next ( ) ; ) {  <NL> thread state now state = ( thread state ) iter . next ( ) ;  <NL> if ( now state . get effective priority ( ) > max pri ) {  <NL> max pri = now state . epriority ;  <NL> res state = now state ;  <NL>  }  <NL>  }  <NL> return res state ;  <NL>  }  COM: <s> return the next thread that tt next thread tt would return </s>