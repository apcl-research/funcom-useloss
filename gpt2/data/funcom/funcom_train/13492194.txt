TDAT: public void calculate discount ( customer c , knowledge base kb ) {  <NL>  <NL>  / / build query <NL> predicate p = kb server . get predicate get discount ( ) ;  <NL> query query = query ( fact ( p , c , query _ variable ) , " get discount " ) ;  <NL>  <NL>  / / issue query <NL> inference engine ie = new resolution inference engine ( ) ;  <NL>  <NL> try {  <NL> result = ie . query ( query , kb , inference engine . one , inference engine . bubble _ exceptions ) ;  <NL> result . next ( ) ;  <NL>  }  <NL> catch ( inference exception x ) {  <NL> system . err . println ( " inference error , details : " ) ;  <NL> x . print stack trace ( system . err ) ;  <NL>  }  <NL>  }  COM: <s> calculate the discount for a customer c using the knowledge base kb </s>