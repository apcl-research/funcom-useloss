TDAT: protected int flush buffer ( index output out , long num bytes ) throws io exception {  <NL> int to copy = buffer length - buffer position ;  <NL> if ( to copy > num bytes ) {  <NL> to copy = ( int ) num bytes ;  <NL>  }  <NL> if ( to copy > 0 ) {  <NL> out . write bytes ( buffer , buffer position , to copy ) ;  <NL> buffer position + = to copy ;  <NL>  }  <NL> return to copy ;  <NL>  }  COM: <s> flushes the in memory bufer to the given output copying at most </s>