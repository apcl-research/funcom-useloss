TDAT: public void quit ( ) {  <NL>  / / save a reference to the current working directory so it can be restored later .  <NL> try {  <NL> string cwd = ( string ) _ bsh . get ( " bsh . cwd " ) ;  <NL>  _ app . get preferences ( ) . set last path ( cwd ) ;  <NL>  } catch ( exception e ) {  <NL> e . print stack trace ( ) ; / / can ' t happen .  <NL>  }  <NL>  <NL>  / / tell the applciation to quit in a friendly way .  <NL>  _ app . get gui application ( ) . handle quit ( null ) ;  <NL>  }  COM: <s> quit or exit the application after properly saving preferences etc </s>