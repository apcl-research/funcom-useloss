TDAT: private void on handle ( message m ) {  <NL> bundle bundle = m . get data ( ) ;  <NL> if ( bundle . contains key ( " sound " ) )  <NL>  {  <NL> galaxy domination . play planet sound ( bundle . get int ( " sound " ) ) ;  <NL>  }  <NL> else {  <NL> string text = bundle . get string ( " text " ) ;  <NL> if ( text = = " win " || text = = " lost " ) {  <NL> this . activity . game ended ( text = = " win " ) ;  <NL>  } else {  <NL> this . text view . set visibility ( ( text . length ( ) > 0 ? 1 : 0 ) ) ;  <NL> this . text view . set text ( text ) ;  <NL>  }  <NL>  }  <NL>  }  COM: <s> executed on the gui thread </s>