TDAT: protected void wait for end ( transaction < ? > transaction , int percentage ) throws exception {  <NL> int count = 2000 ;  <NL>  <NL> while ( ! transaction . is idle ( ) & & ! transaction . is stopped ( ) & & ! transaction . is error ( ) & & transaction . get progress ( ) < percentage & & count > 0 ) {  <NL> thread . sleep ( 5 ) ;  <NL> count - = 5 ;  <NL>  }  <NL>  }  COM: <s> wait for a transaction to get a certain distance and then return </s>