TDAT: public string write environment ( environment env ) {  <NL> preconditions . check state ( data . environments . is empty ( ) ) ;  <NL> environment copy = new environment ( ) ;  <NL> copy . properties = maps . new tree map ( env . properties ) ;  <NL> copy . local name = objects . first non null ( env . local name , " a " ) ;  <NL> data . environments . add ( copy ) ;  <NL> return copy . local name ;  <NL>  }  COM: <s> writes a copy of the given </s>