TDAT: public int clip secondary facing ( int dir ) {  <NL> if ( is valid secondary facing ( dir ) ) {  <NL> return dir ;  <NL>  }  <NL>  / / otherwise , twist once in the appropriate direction <NL> final int rotate = ( dir + ( 6 - get facing ( ) ) ) % 6 ;  <NL> return rotate > = 3 ? ( get facing ( ) + 5 ) % 6 : ( get facing ( ) + 1 ) % 6 ;  <NL>  }  COM: <s> return the nearest valid direction to torso twist in </s>