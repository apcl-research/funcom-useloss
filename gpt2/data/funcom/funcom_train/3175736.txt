TDAT: public delta get anniversary ( point in time now ) {  <NL>  <NL>  / / simply validity check <NL> if ( ! is valid ( ) )  <NL> return null ;  <NL>  <NL>  / / calculate comparables <NL> point in time pit = is range ( ) ? get end ( ) : get start ( ) ;  <NL>  <NL>  / / date is in the future ?  <NL> if ( now . compare to ( pit ) < 0 )  <NL> return null ;  <NL>  <NL>  / / compute the delta <NL> return delta . get ( pit , now ) ;  <NL>  }  COM: <s> calculate how far this date lies in the past from given now </s>