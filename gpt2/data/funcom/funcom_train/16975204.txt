TDAT: protected void set attributes ( jrove context ctx , object instance ) {  <NL> if ( instance ! = null ) {  <NL> class < ? > type = instance . get class ( ) ;  <NL> if ( mapper = = null || ! this . last type . equals ( type ) ) {  <NL> this . last type = type ;  <NL> meta ruleset ruleset = this . create meta ruleset ( type ) ;  <NL> this . mapper = ruleset . finish ( ) ;  <NL>  }  <NL> this . mapper . apply metadata ( ctx , instance ) ;  <NL>  }  <NL>  }  COM: <s> invoking extending this method will cause the results of the created </s>