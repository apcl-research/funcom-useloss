TDAT: public segment sequence split segment ( segment segment , split function split function ) {  <NL> segment sequence result = null ;  <NL>  <NL> if ( split function . should split ( segment ) ) {  <NL> result = split function . split ( segment . get text ( ) ) ;  <NL>  <NL> if ( result ! = null ) {  <NL> result . inject feature bag ( segment . get feature bag ( ) ) ;  <NL> replace segment ( segment , result ) ;  <NL>  }  <NL>  }  <NL>  <NL> return result ;  <NL>  }  COM: <s> split the segment using the split function replacing the segment with the results </s>