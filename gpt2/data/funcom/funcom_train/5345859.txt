TDAT: public void write response ( ) throws io exception {  <NL>  _ ostream . set is counting ( _ state num = = thex _ request ) ;  <NL> try {  <NL>  _ method . write http response ( _ state , _ ostream ) ;  <NL>  } catch ( io exception e ) {  <NL>  / / only propogate the exception if they did not read <NL>  / / as much as they wanted to .  <NL> if ( amount uploaded ( ) < get amount requested ( ) )  <NL> throw e ;  <NL>  }  <NL>  _ first reply = false ;  <NL>  }  COM: <s> starts uploading the requested file </s>