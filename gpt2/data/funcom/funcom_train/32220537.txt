TDAT: public string marshall ( ) {  <NL>  / / return document = = null ? null : document . as xml ( ) ;  <NL> string writer buf = new string writer ( ) ;  <NL> try {  <NL> output format outformat = output format . create pretty print ( ) ;  <NL> outformat . set encoding ( " utf - 8 " ) ;  <NL> xml writer writer = new xml writer ( buf , outformat ) ;  <NL>  / / html writer writer = new html writer ( buf , outformat ) ;  <NL> writer . write ( this . document ) ;  <NL> writer . flush ( ) ;  <NL>  } catch ( io exception e ) {  <NL>  }  <NL> return buf . to string ( ) ;  <NL>  }  COM: <s> marshall the document and return the xml content </s>