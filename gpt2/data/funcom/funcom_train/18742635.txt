TDAT: private void fire update ( ) {  <NL> set < simulator listener > notified = new hash set < simulator listener > ( ) ;  <NL> for ( change change : this . changes ) {  <NL> for ( simulator listener listener : new array list < simulator listener > (  <NL> this . listeners . get ( change ) ) ) {  <NL> if ( notified . add ( listener ) ) {  <NL> listener . update ( this , this . old , this . changes ) ;  <NL>  }  <NL>  }  <NL>  }  <NL>  }  COM: <s> notifies all registered listeners of the changes involved in the current </s>