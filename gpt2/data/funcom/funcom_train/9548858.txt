TDAT: private string format ( token token , boolean start of line , boolean end of line , boolean indent , boolean unindent ) {  <NL> string return string ;  <NL> if ( unindent & & indentation . length ( ) > 0 ) {  <NL> indentation . delete char at ( 0 ) ;  <NL>  }  <NL> if ( start of line ) {  <NL> return string = plugin ui . eol + indentation + token . get text ( ) ;  <NL> start token = token ;  <NL>  } else {  <NL> return string = token . get text ( ) ;  <NL>  }  <NL> if ( indent ) {  <NL> indentation . append ( indentation _ char ) ;  <NL>  }  <NL> if ( end of line ) {  <NL> start token = null ;  <NL>  }  <NL> return return string ;  <NL>  }  COM: <s> format a token according to the formatting parameters </s>