TDAT: private void gain attack ( final int from , final int to ) {  <NL> byte [ ] nsq = geometry . next _ sq [ from ] ;  <NL> int sq = to ;  <NL>  <NL> for ( ; ; ) {  <NL> sq = nsq [ sq ] ;  <NL> if ( sq < 0 ) {  <NL> break ;  <NL>  }  <NL>  <NL> atk to [ from ] | = bit board . set _ mask [ sq ] ;  <NL> atk fr [ sq ] | = bit board . set _ mask [ from ] ;  <NL>  <NL> if ( board [ sq ] ! = 0 ) {  <NL> break ;  <NL>  }  <NL>  }  <NL>  }  COM: <s> recalculate attacks from from to to after the piece on to has </s>