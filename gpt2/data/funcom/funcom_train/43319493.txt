TDAT: protected void prepare connection ( final connection connection ) {  <NL> assert ( this . connection is disposed ( ) ) ;  <NL>  <NL> this . init transports ( ) ;  <NL>  <NL> log . debug ( " prepare bytestreams for xmpp connection . used transport order : "  <NL>  + arrays . to string ( transports . to array ( ) ) ) ;  <NL>  <NL> this . connection = connection ;  <NL> this . file transfer queue = new concurrent linked queue < transfer data > ( ) ;  <NL>  <NL> for ( i transport transport : transports ) {  <NL> transport . prepare xmpp connection ( connection , this ) ;  <NL>  }  <NL>  }  COM: <s> sets up the transports for the given xmppconnection </s>