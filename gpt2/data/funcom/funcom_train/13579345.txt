TDAT: public boolean handle event ( person event e ) {  <NL> this . handled events + + ;  <NL> if ( super . get mode ( ) . equals ( transport mode . pt ) ) {  <NL> handler . handle event ( e ) ;  <NL> if ( this . handled events = = this . nr of exp events ) {  <NL> handler . finish ( this ) ;  <NL> return true ;  <NL>  } else {  <NL> return false ;  <NL>  }  <NL>  } else {  <NL> if ( first = = null ) {  <NL> first = e . get time ( ) ;  <NL>  } else {  <NL> last = e . get time ( ) ;  <NL>  }  <NL>  <NL> if ( this . handled events = = nr of exp events ) {  <NL> this . trip t time = last - first ;  <NL> return true ;  <NL>  } else {  <NL> return false ;  <NL>  }  <NL>  }  <NL>  <NL>  }  COM: <s> returns true if enough events are handled and the trip is finished </s>