TDAT: private string decode char ref ( x query node op , string s ) throws x query exception {  <NL> s = s . substring ( 2 , s . length ( ) - 1 ) ;  <NL> boolean hex = false ;  <NL> if ( s . starts with ( " x " ) ) {  <NL> hex = true ;  <NL> s = s . substring ( 1 ) ;  <NL>  }  <NL> try {  <NL> int value = integer . parse int ( s , hex ? 16 : 10 ) ;  <NL> s = string . value of ( ( char ) value ) ;  <NL> if ( ! xml char . is valid ( value ) ) throw new x query exception ( op . get position ( ) , static error . parse _ error , new string [ ] { " invalid xml character : " + s } ) ;  <NL>  }  <NL> catch ( number format exception e ) {  <NL>  }  <NL> return s ;  <NL>  }  COM: <s> method decode char ref </s>