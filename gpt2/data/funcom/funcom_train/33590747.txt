TDAT: protected ehcache decorate cache ( cache cache , eh cache caching model model ) {  <NL> if ( model . get cache entry factory ( ) ! = null ) {  <NL> if ( model . get cache entry factory ( ) instanceof updating cache entry factory ) {  <NL> return new updating self populating cache ( cache , ( updating cache entry factory ) model . get cache entry factory ( ) ) ;  <NL>  } else {  <NL> return new self populating cache ( cache , model . get cache entry factory ( ) ) ;  <NL>  }  <NL>  }  <NL> if ( model . is blocking ( ) ) {  <NL> return new blocking cache ( cache ) ;  <NL>  }  <NL> return cache ;  <NL>  }  COM: <s> decorate the given cache if necessary </s>