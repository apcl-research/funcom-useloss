TDAT: public void end transaction ( boolean commit ) throws sql exception {  <NL> connection c = trans _ conn . get ( ) ;  <NL> if ( c = = null ) {  <NL> return ;  <NL>  }  <NL>  <NL> try {  <NL> if ( commit ) {  <NL> c . commit ( ) ;  <NL>  } else {  <NL> c . rollback ( ) ;  <NL>  }  <NL>  } finally {  <NL> c . set auto commit ( true ) ;  <NL> trans _ conn . set ( null ) ;  <NL> release connection ( c ) ;  <NL>  }  <NL>  }  COM: <s> releases connection used for the transaction and performs a commit or rollback </s>