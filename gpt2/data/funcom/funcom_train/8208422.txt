TDAT: public user update ( string e _ mail , user p ) throws dao exception {  <NL> user db user = null ;  <NL> try {  <NL> transaction . begin ( ) ;  <NL> db user = factory . lookup ( e _ mail ) ;  <NL>  <NL> if ( db user = = null ) {  <NL> throw new dao exception ( " user " + e _ mail + " no longer exists " ) ;  <NL>  }  <NL> factory . copy into ( p , db user ) ;  <NL>  <NL> transaction . commit ( ) ;  <NL>  } catch ( rollback exception e ) {  <NL> throw new dao exception ( e ) ;  <NL>  } finally {  <NL> if ( transaction . is active ( ) ) transaction . rollback ( ) ;  <NL>  }  <NL> return db user ;  <NL>  }  COM: <s> update an profile record in the table </s>