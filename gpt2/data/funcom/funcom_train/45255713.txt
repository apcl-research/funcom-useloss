TDAT: public shell allocate shell ( shell listener close listener ) {  <NL> shell result ;  <NL> if ( ! available shells . is empty ( ) ) {  <NL> result = ( shell ) available shells . remove first ( ) ;  <NL>  } else {  <NL> result = new shell ( parent shell , flags ) ;  <NL> result . add shell listener ( this . close listener ) ;  <NL> result . add dispose listener ( dispose listener ) ;  <NL>  }  <NL>  <NL> result . set data ( close _ listener , close listener ) ;  <NL> return result ;  <NL>  }  COM: <s> returns a new shell </s>