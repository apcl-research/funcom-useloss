TDAT: private void close ( boolean truncate file ) throws io exception {  <NL>  / / truncate the file to the correct size .  <NL> try {  <NL> unmap ( ) ;  <NL>  <NL> if ( fc ! = null & & fc . is open ( ) ) {  <NL> try {  <NL> if ( truncate file ) {  <NL> truncate ( size * sizeof _ long ) ;  <NL>  }  <NL>  } finally {  <NL> fc . close ( ) ;  <NL>  }  <NL>  }  <NL>  } finally {  <NL> fc = null ;  <NL> if ( raf ! = null ) {  <NL> raf . close ( ) ;  <NL> raf = null ;  <NL>  }  <NL>  }  <NL>  }  COM: <s> close and optionally truncate the file </s>