TDAT: public void set mode ( document modes mode , main window interface window ) {  <NL> if ( this . mode ! = null )  <NL> this . mode . finish ( window , this ) ;  <NL> switch ( mode ) {  <NL> case design :  <NL> this . mode = design mode ;  <NL> break ;  <NL> case simulation :  <NL> this . mode = simulation mode ;  <NL> break ;  <NL>  }  <NL> this . mode . apply to ( window , this ) ;  <NL> view . draw ( ) ;  <NL>  }  COM: <s> document sets command stack of window and enables disables its buttons </s>