TDAT: protected point compute anchor location ( point reference , edit part edit part ) {  <NL>  / / first , translate the reference to the coordinate of the diagram ( like shape constraints ) .  <NL> i figure parent figure = ( ( graphical edit part ) edit part ) . get figure ( ) ;  <NL> point res = reference . get copy ( ) ;  <NL> parent figure . translate to relative ( res ) ;  <NL> if ( edit part instanceof anchorable edit part )  <NL> return ( ( anchorable edit part ) edit part ) . get anchor mngr ( ) . get relative anchor position ( res ) ;  <NL>  <NL>  <NL>  / / default , return the reference itself .  <NL> return res ;  <NL>  }  COM: <s> compute the anchor location for the provided position and edit part </s>