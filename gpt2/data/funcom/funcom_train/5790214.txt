TDAT: private void check open ( ) throws io exception {  <NL> synchronized ( state lock ) {  <NL> if ( aborted ) {  <NL> throw new io exception ( " request aborted " ) ;  <NL>  }  <NL> switch ( out state ) {  <NL> case open :  <NL> return ;  <NL> case closed :  <NL> throw new io exception ( " stream closed " ) ;  <NL> case invalid :  <NL>  / *  <NL>  * xxx temporary hack to get around current hotspot bug <NL>  * which prevents testing of https provider . remove <NL>  * following if clause once hotspot issues are <NL>  * resolved .  <NL>  * /  <NL> if ( out exception = = null ) {  <NL> out exception = new io exception ( " stream invalid " ) ;  <NL>  }  <NL>  <NL> throw out exception ;  <NL>  }  <NL> out state = open ;  <NL>  }  <NL> try {  <NL> start output ( ) ;  <NL>  } catch ( throwable th ) {  <NL> invalidate ( th ) ;  <NL>  }  <NL>  }  COM: <s> checks to make sure stream is open and start output has been called </s>