TDAT: private void check state ( boolean throw exception ) {  <NL>  / *  <NL>  * disallowed states :  <NL>  * locking thread = = null & & ! locations . is empty ( )  <NL>  * locking thread ! = null & & locations . is empty ( )  <NL>  * /  <NL> if ( ( locking thread = = null ) ^ ( locations . is empty ( ) ) ) {  <NL>  / / clear the mutex only after error ( ) has executed ( and possibly thrown an exception )  <NL> try {  <NL> error ( " mutex data inconsistency occurred - unlocking mutex " , throw exception ) ;  <NL>  } finally {  <NL> locking thread = null ;  <NL> locking location = null ;  <NL> locations . clear ( ) ;  <NL>  }  <NL>  }  <NL>  }  COM: <s> check that the internal state of the mutex locking thread vs </s>