TDAT: private void check state trans ( action request request ) {  <NL> if ( ! request . get request op ( ) . get type ( ) . equals ( " always " ) ) {  <NL> unprocessed requests . put ( request . get agent ( ) , request ) ;  <NL>  }  <NL>  <NL> if ( exec mode = = execution mode . on _ demand ) {  <NL> state transition ( ) ;  <NL>  } else if ( exec mode = = execution mode . wait _ for _ all ) {  <NL> wait for all ( request ) ;  <NL>  }  <NL>  }  COM: <s> add the new action request to the set of unprocessed requests </s>