TDAT: private void append exception ( print writer writer , throwable ex ) {  <NL> if ( ex instanceof core exception ) {  <NL> append status ( writer , ( ( core exception ) ex ) . get status ( ) , 0 ) ;  <NL> writer . println ( ) ;  <NL>  }  <NL> append stack trace ( writer , ex ) ;  <NL> if ( ex instanceof invocation target exception ) {  <NL> append exception ( writer , ( ( invocation target exception ) ex ) . get target exception ( ) ) ;  <NL>  }  <NL>  }  COM: <s> output the exception text </s>