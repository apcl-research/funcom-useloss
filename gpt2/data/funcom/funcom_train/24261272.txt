TDAT: public basket get currently selected basket ( ) {  <NL> basket node selected node <NL>  = get selected node ( ) ;  <NL> if ( selected node . is basket variable ( ) = = true ) {  <NL>  <NL>  / / selected node is one of the basket variable references <NL>  / / find its parent basket <NL> basket node basket node <NL>  = ( basket node ) selected node . get parent ( ) ;  <NL> return basket node . get basket ( ) ;  <NL>  }  <NL> else {  <NL> assert ( selected node ! = root node ) ;  <NL>  <NL>  / / the selected node is a basket <NL> return selected node . get basket ( ) ;  <NL>  }  <NL>  }  COM: <s> returns the currently selected basket </s>