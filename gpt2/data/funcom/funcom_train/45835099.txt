TDAT: public pep service get pep service ( string jid ) {  <NL> pep service pep service = null ;  <NL>  <NL> final lock lock = cache factory . get lock ( jid , pep services ) ;  <NL> try {  <NL> lock . lock ( ) ;  <NL> if ( pep services . contains key ( jid ) ) {  <NL>  / / lookup in cache <NL> pep service = pep services . get ( jid ) ;  <NL>  } else {  <NL>  / / lookup in database .  <NL> pep service = load pep service from db ( jid ) ;  <NL>  <NL>  / / always add to the cache , even if it doesn ' t exist . this will <NL>  / / prevent future database lookups .  <NL> pep services . put ( jid , pep service ) ;  <NL>  }  <NL>  } finally {  <NL> lock . unlock ( ) ;  <NL>  }  <NL>  <NL> return pep service ;  <NL>  }  COM: <s> retrieves a pep service attempting first from memory then from the </s>