TDAT: public void do test identity add ( boolean set identity to null , boolean use listener , boolean vetoe , object state expected state ) {  <NL> customer customer = database mock . get new mock ( ) . query first identity customer ( ) ;  <NL> if ( set identity to null ) {  <NL>  ( ( identity customer ) customer ) . set id ( null ) ;  <NL>  }  <NL> do test customer add ( customer , use listener , vetoe , expected state ) ;  <NL>  }  COM: <s> adds customer with identity </s>