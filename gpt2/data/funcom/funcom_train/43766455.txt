TDAT: private int last index of ( string content , string needle , int offset ) {  <NL> int index ;  <NL>  <NL> while ( ( index = content . last index of ( needle , offset ) ) ! = - 1 ) {  <NL> string text = get line ( content , index ) . trim ( ) ;  <NL>  <NL> if ( text . starts with ( needle ) || text . ends with ( needle ) ) {  <NL> break ;  <NL>  } else {  <NL> offset = index - 1 ;  <NL>  }  <NL>  }  <NL>  <NL> return index ;  <NL>  }  COM: <s> assume the needle will the found at the start end of the line </s>