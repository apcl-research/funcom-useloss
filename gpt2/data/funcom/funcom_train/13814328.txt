TDAT: public void add instance ( image instance i ) {  <NL> odmgxa wrapper txw = new odmgxa wrapper ( ) ;  <NL> txw . lock ( this , transaction . write ) ;  <NL> txw . lock ( i , transaction . write ) ;  <NL> instances . add ( i ) ;  <NL> i . set photo uid ( uid ) ;  <NL> if ( i . get instance type ( ) = = image instance . instance _ type _ original ) {  <NL> orig instance hash = i . get hash ( ) ;  <NL>  }  <NL> txw . commit ( ) ;  <NL>  <NL>  }  COM: <s> adds a new image instance for this photo </s>