TDAT: private int calculate new capacity ( ) {  <NL> int old capacity = queue . length ;  <NL> int new capacity = ( old capacity < 64 )  <NL>  ? ( old capacity + 1 ) * 2 <NL>  : ( old capacity / 2 ) * 3 ;  <NL> if ( new capacity < 0 ) {  <NL> new capacity = integer . max _ value ; / / overflow - hotspot will throw oome <NL>  }  <NL> return cap at maximum size ( new capacity , maximum size ) ;  <NL>  }  COM: <s> returns 2x the old capacity if small 1 </s>