TDAT: public void on zoom to fit ( ) {  <NL>  <NL> ui view pane pane = get view pane ( ) ;  <NL> pane . set zoom ( 1 . 0 ) ;  <NL> pane . scale ( ) ;  <NL>  <NL> dimension panesize = pane . calculate size ( ) ;  <NL>  <NL> j viewport viewport = get viewport ( ) ;  <NL> dimension viewsize = viewport . get extent size ( ) ;  <NL>  <NL>  / / remove extra from ortsize to allow for scroll bars ?  <NL> double xscale = core utilities . divide ( viewsize . width , panesize . width ) ;  <NL> double yscale = core utilities . divide ( viewsize . height , panesize . height ) ;  <NL>  <NL> double scale = xscale ;  <NL> if ( yscale < xscale )  <NL> scale = yscale ;  <NL>  <NL> if ( scale > 1 . 0 )  <NL> scale = 1 . 0 ;  <NL>  <NL> scroll home ( false ) ;  <NL> pane . set zoom ( scale ) ;  <NL> pane . scale ( ) ;  <NL>  <NL> is focused node = false ;  <NL>  }  COM: <s> zoom the current map to fit it all on the visible view </s>