TDAT: private element diplomatic trade ( dummy connection connection , element element ) {  <NL> diplomacy message message <NL>  = new diplomacy message ( free col server . get game ( ) , element ) ;  <NL> diplomatic trade agreement = message . get agreement ( ) ;  <NL> boolean accept = get ai player ( ) . accept diplomatic trade ( agreement ) ;  <NL> agreement . set status ( ( accept ) ? trade status . accept _ trade <NL>  : trade status . reject _ trade ) ;  <NL> return message . to xml element ( ) ;  <NL>  }  COM: <s> handles an diplomatic trade message </s>