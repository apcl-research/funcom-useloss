TDAT: public identity get identity ( final transaction context tx , final object o ) {  <NL>  / / [ oleg ] in the case where key generator is used ,  <NL>  / / the value of identity is dummy , set it to null <NL> if ( is key generator used ( ) & & ! ( tx . is persistent ( o ) || tx . is read only ( o ) ) ) {  <NL> return null ;  <NL>  }  <NL> return get actual identity ( tx , o ) ;  <NL>  }  COM: <s> get the identity from a object of the base type </s>