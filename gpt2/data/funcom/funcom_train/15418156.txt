TDAT: private void execute ( persist request request , persist handler handler ) {  <NL>  <NL> spi transaction trans = request . get transaction ( ) ;  <NL> boolean batch this request = trans . is batch this request ( ) ;  <NL>  <NL> try {  <NL>  <NL> handler . bind ( ) ;  <NL>  <NL> if ( batch this request ) {  <NL> handler . add batch ( ) ;  <NL>  <NL>  } else {  <NL>  / / immediate insert <NL> handler . execute ( ) ;  <NL>  }  <NL>  <NL>  } catch ( sql exception ex ) {  <NL> throw new persistence exception ( ex ) ;  <NL>  <NL>  } finally {  <NL> if ( ! batch this request & & handler ! = null ) {  <NL> try {  <NL> handler . close ( ) ;  <NL>  } catch ( sql exception e ) {  <NL> logger . log ( level . severe , null , e ) ;  <NL>  }  <NL>  }  <NL>  }  <NL>  }  COM: <s> execute request taking batching into account </s>