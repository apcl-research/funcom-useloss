TDAT: private void run event loop ( shell loop shell ) {  <NL>  <NL>  / / use the display provided by the shell if possible <NL> display display ;  <NL> if ( shell = = null )  <NL> display = display . get current ( ) ;  <NL> else <NL> display = loop shell . get display ( ) ;  <NL>  <NL> while ( loop shell ! = null & & ! loop shell . is disposed ( ) ) {  <NL> try {  <NL> if ( ! display . read and dispatch ( ) )  <NL> display . sleep ( ) ;  <NL>  } catch ( throwable e ) {  <NL> exception handler . handle exception ( e ) ;  <NL>  }  <NL>  }  <NL> display . update ( ) ;  <NL>  }  COM: <s> runs the event loop for the given shell </s>