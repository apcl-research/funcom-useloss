TDAT: private void expand ( int capacity ) throws io exception {  <NL> if ( capacity > limit ) {  <NL> throw new buffer exception ( " capacity limit % s exceeded " , limit ) ;  <NL>  }  <NL> int resize = buffer . length * 2 ;  <NL> int size = math . max ( capacity , resize ) ;  <NL> byte [ ] temp = new byte [ size ] ;  <NL>  <NL> system . arraycopy ( buffer , 0 , temp , 0 , count ) ;  <NL> buffer = temp ;  <NL>  }  COM: <s> this is used to ensure that there is enough space in the buffer </s>