TDAT: private string do work ( final mail mail ) throws jms exception {  <NL> string recipient = mail . get address ( ) ;  <NL> string xml message = mail . get content ( ) ;  <NL> string title = mail . get subject ( ) ;  <NL> if ( recipient = = null )  <NL> return " failed " ;  <NL> try {  <NL> mh . create and send mail ( recipient , title , xml message , locale <NL>  . get default ( ) ) ;  <NL>  } catch ( exception ex ) {  <NL> logger . error ( " crm bean : caught = " + ex . get message ( ) , ex ) ;  <NL> return " failed " ;  <NL>  }  <NL> return " success " ;  <NL>  }  COM: <s> process the message and do the right thing </s>