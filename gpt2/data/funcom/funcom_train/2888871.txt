TDAT: private void stop virtual machines ( ) {  <NL> for ( virtual machine config virt : list virtual machines ) {  <NL> if ( check physical existance ( virt . get affinity ( ) ) ) {  <NL> try {  <NL> ref avl server . send vm command ( virt . get affinity ( ) , virt . get display name ( ) , " stop " ) ;  <NL>  } catch ( exception e ) {  <NL> sf log ( ) . error ( " error while trying to stop virtual machines " , e ) ;  <NL>  }  <NL>  }  <NL>  }  <NL>  }  COM: <s> sends a stop command to all virtual machines </s>