TDAT: private void replace buffer ( string s ) {  <NL> try {  <NL> int len = 0 ;  <NL> if ( start line index = = end line index ) {  <NL> len = start line . get length ( ) ;  <NL>  } else {  <NL> len = end line . get offset ( ) + end line . get length ( ) - start line . get offset ( ) ;  <NL>  }  <NL> document . replace ( start line . get offset ( ) , len , s ) ;  <NL>  } catch ( bad location exception e ) {  <NL> e . print stack trace ( ) ;  <NL>  }  <NL>  <NL>  }  COM: <s> replace the document text check if single or multiline </s>