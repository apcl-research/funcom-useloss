TDAT: private void update vote ( identity identity , boolean active ) {  <NL> long diff = active ? 1l : - 1l ;  <NL> long result = votes . get ( identity ) . add and get ( diff ) ;  <NL> if ( result = = 0 ) {  <NL> node map . remove ( identity ) ;  <NL> votes . remove ( identity ) ;  <NL> for ( node mapping listener listener : listeners )  <NL> listener . mapping removed ( identity , null ) ;  <NL>  }  <NL>  }  COM: <s> private helper to update a status vote and react accordingly </s>