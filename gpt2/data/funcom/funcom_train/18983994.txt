TDAT: public void disconnected ( connection event event ) {  <NL> try {  <NL> as400 sys = ( as400 ) event . get source ( ) ;  <NL> if ( is alive ( ) & & ! sys . is connected ( ) ) {  <NL> stop refresh ( ) ;  <NL> if ( trace . is trace on ( ) )  <NL> trace . log ( trace . information ,  <NL> new string buffer ( " refresh agent stopped after system disconnect > > "  <NL>  ) . append ( target _ . to string ( ) ) . to string ( ) ) ;  <NL>  }  <NL>  }  <NL> catch ( exception e ) {  <NL> trace . log ( trace . error ,  <NL>  " refresh agent not stopped after system disconnect > > "  <NL>  + target _ . to string ( ) , e ) ;  <NL>  }  <NL>  }  COM: <s> invoked when a service has been disconnected </s>