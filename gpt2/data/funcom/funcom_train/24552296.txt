TDAT: public void append ( command command ) {  <NL> if ( command ! = null ) {  <NL> if ( command instanceof compound command & & ! ( command instanceof forward undo compound command ) )  <NL> command list . add all ( ( ( compound command ) command ) . command list ) ; / / just add them all in instead of nesting . makes it easier to debug . the only problem is if the command could be added to after adding here , but nobody would think to do that . we wouldn ' t see that .  <NL> else <NL> command list . add ( command ) ;  <NL>  }  <NL>  }  COM: <s> adds a command to this compound commands list of commands </s>