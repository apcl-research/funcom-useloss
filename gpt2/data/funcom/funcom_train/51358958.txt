TDAT: public void save ( string file path ) throws java . io . io exception {  <NL>  / / open the writer . . .  <NL> java . io . file writer out stream = new java . io . file writer ( file path ) ;  <NL>  <NL> boolean pause state = is paused ( ) ;  <NL>  <NL>  / / pause , if needed <NL> if ( ! pause state )  <NL> pause ( ) ;  <NL>  <NL>  / / save the scheduler : blocks for appropriate timing <NL> the scheduler . save scheduler ( out stream ) ;  <NL>  <NL>  / / save the environment <NL> the environment . save ( out stream ) ;  <NL>  <NL>  / / close the stream <NL> out stream . close ( ) ;  <NL>  <NL>  / / resume , if needed <NL> if ( ! pause state )  <NL> resume ( ) ;  <NL>  }  COM: <s> save the state of the simulation </s>