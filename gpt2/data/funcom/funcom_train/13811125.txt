TDAT: @ test public void test completed call ( ) throws throwable {  <NL> try {  <NL> this . init ( ) ;  <NL>  <NL> sip agent caller = create agent ( " alice " ) ;  <NL> sip agent callee = create agent ( " bob " ) ;  <NL>  <NL> set forwarding user ( " bob " ) ;  <NL> pause ( 1000 ) ;  <NL>  <NL> caller . set proxy ( app server ) ;  <NL>  <NL> sip uri sales = callee . get sip uri ( ) ;  <NL> sales . set user ( " sales " ) ;  <NL> caller . call ( sales . to string ( ) ) ;  <NL> pause ( 4000 ) ;  <NL>  <NL>  <NL> assert that ( callee , has ( recvd request ( " invite " ) ) ) ;  <NL> callee . answer ( ) ;  <NL>  <NL> pause ( 2000 ) ;  <NL> assert that ( caller , is ( connected to ( callee ) ) ) ;  <NL>  <NL> pause ( 2000 ) ;  <NL> caller . end ( ) ;  <NL>  <NL> pause ( 2000 ) ;  <NL> assert that ( callee , is ( disconnected ( ) ) ) ;  <NL>  }  <NL> catch ( throwable e ) {  <NL> logger . error ( " test failed " , e ) ;  <NL> throw e ;  <NL>  }  <NL>  }  COM: <s> test of a completed call from caller to callee </s>