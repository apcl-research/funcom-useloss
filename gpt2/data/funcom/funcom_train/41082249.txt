TDAT: public void query changed ( string new query ) {  <NL>  <NL> set xpath expression ( new query ) ;  <NL>  <NL> try {  <NL>  <NL> runnable r = new runnable ( ) {  <NL> public void run ( ) {  <NL> update xpath view ( ) ;  <NL>  }  <NL>  } ;  <NL>  <NL> if ( ! swing utilities . is event dispatch thread ( ) )  <NL>  {  <NL> swing utilities . invoke and wait ( r ) ;  <NL>  }  <NL> else <NL>  {  <NL> r . run ( ) ;  <NL>  }  <NL>  <NL>  } catch ( exception e ) {  <NL>  / / oh well we got interrupted .  <NL>  }  <NL>  <NL>  }  COM: <s> ad hoc query changed method for ejbql queries </s>