TDAT: public void end activity ( ) {  <NL> if ( logger . is debug enabled ( ) ) {  <NL> logger . debug ( " ending activity context with handle "  <NL>  + get activity context handle ( ) ) ;  <NL>  }  <NL> if ( cache data . set ending ( true ) ) {  <NL> fire event (  <NL> slee container <NL>  . get event context factory ( )  <NL>  . create activity end event context (  <NL> this ,  <NL> new activity end event unreferenced callback (  <NL> get activity context handle ( ) , factory ) ) ,  <NL> slee container . get transaction manager ( )  <NL>  . get transaction context ( ) ) ;  <NL>  }  <NL>  }  COM: <s> ends the activity context </s>