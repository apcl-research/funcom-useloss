TDAT: public double get scale ( ) {  <NL> j viewport viewport = scroll pane . get viewport ( ) ;  <NL> dimension view size = viewport . get view size ( ) ;  <NL> double ratio = ( double ) view size . width / view size . height ;  <NL> if ( ( ratio * get height ( ) ) > get width ( ) ) {  <NL> return ( double ) get width ( ) / view size . width ;  <NL>  }  <NL> else {  <NL> return ( double ) get height ( ) / view size . height ;  <NL>  }  <NL>  }  COM: <s> returns the current scale </s>