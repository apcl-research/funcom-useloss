TDAT: public point snap ( point p ) {  <NL> if ( grid enabled & & p ! = null ) {  <NL> p . x + = grid size / 2 ;  <NL> p . y + = grid size / 2 ;  <NL> p . x = ( int ) math . round ( math . round ( p . x / grid size ) * grid size ) ;  <NL> p . y = ( int ) math . round ( math . round ( p . y / grid size ) * grid size ) ;  <NL>  }  <NL> return p ;  <NL>  }  COM: <s> returns the given point applied to the grid </s>