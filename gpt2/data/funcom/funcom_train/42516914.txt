TDAT: public double calculate duration ( double start beat , double beats ) {  <NL> if ( follow global ) {  <NL> throw new runtime exception ( " voice . calculate duration illegally called on voice following global tempo " ) ;  <NL>  }  <NL>  / / now we know our last timing event is what counts <NL> return last tempo change . calculate relative beat time ( beats + start beat ) - last tempo change . calculate relative beat time ( start beat ) ;  <NL>  }  COM: <s> only if we are in private tempo mode </s>