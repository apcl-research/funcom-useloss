TDAT: public long next ( ) {  <NL> long sys time = system . current time millis ( ) ;  <NL>  <NL> update salt ( sys time ) ;  <NL>  <NL>  / / if we reached the maximum salt value wait 1ms <NL>  / / ( this will reset the salt )  <NL> if ( salt > max _ salt ) {  <NL> try {  <NL> thread . sleep ( 1 ) ;  <NL>  } catch ( interrupted exception e ) {  <NL>  / / ignore <NL>  }  <NL> return next ( ) ;  <NL>  }  <NL>  <NL> return apply salt ( sys time ) ;  <NL>  }  COM: <s> return a salted timestamp that is guaranteed to be unique among all </s>