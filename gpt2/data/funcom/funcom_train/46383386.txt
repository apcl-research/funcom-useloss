TDAT: public material state apply ( material state state ) {  <NL> assert ( state ! = null ) ;  <NL>  <NL> if ( diffuse color ! = null )  <NL> state . set diffuse ( diffuse color ) ;  <NL> if ( ambient color ! = null )  <NL> state . set ambient ( ambient color ) ;  <NL> if ( specular color ! = null )  <NL> state . set specular ( specular color ) ;  <NL> if ( emissive color ! = null )  <NL> state . set emissive ( emissive color ) ;  <NL> state . set shininess ( shininess ) ;  <NL>  <NL> return state ;  <NL>  }  COM: <s> apply the settings to the supplied state and return the updated object </s>