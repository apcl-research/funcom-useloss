TDAT: protected int get selection state ( ) {  <NL> if ( f container instanceof j text component ) {  <NL> int p0 = get element ( ) . get start offset ( ) ;  <NL> int p1 = get element ( ) . get end offset ( ) ;  <NL> j text component text comp = ( j text component ) f container ;  <NL> int start = text comp . get selection start ( ) ;  <NL> int end = text comp . get selection end ( ) ;  <NL> if ( start < = p0 & & end > = p1 ) {  <NL> if ( start = = p0 & & end = = p1 & & is editable ( ) )  <NL> return 2 ;  <NL> else <NL> return 1 ;  <NL>  }  <NL>  }  <NL> return 0 ;  <NL>  }  COM: <s> determines whether the image is selected and if its the only thing </s>