TDAT: public string text before ( token tok ) throws token stream exception {  <NL> try {  <NL> string buffer result = ( string buffer ) text buffers . remove first ( ) ;  <NL> token idx = ( token ) index tokens . remove first ( ) ;  <NL> while ( idx ! = tok ) {  <NL> result . append ( ( string buffer ) text buffers . remove first ( ) ) ;  <NL> idx = ( token ) index tokens . remove first ( ) ;  <NL>  }  <NL> return result . to string ( ) ;  <NL>  } catch ( no such element exception e ) {  <NL> throw new token stream exception ( " no index token " +  <NL> tok . get text ( ) + " found " ) ;  <NL>  }  <NL>  }  COM: <s> returns the text appearing in the original source </s>