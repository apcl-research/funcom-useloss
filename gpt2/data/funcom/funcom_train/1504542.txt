TDAT: private void add obstacle ( obstacle new obs ) {  <NL> visible obstacles . add ( new obs ) ;  <NL> iterator o itr = new hash set ( visible obstacles ) . iterator ( ) ;  <NL> while ( o itr . has next ( ) ) {  <NL> obstacle curr obs = ( obstacle ) o itr . next ( ) ;  <NL> if ( new obs ! = curr obs )  <NL> add segments for ( new obs , curr obs ) ;  <NL>  }  <NL> add perimiter segments ( new obs ) ;  <NL> add segments for ( start , new obs ) ;  <NL> add segments for ( end , new obs ) ;  <NL>  }  COM: <s> adds an obstacle to the visibility graph and generates new segments </s>