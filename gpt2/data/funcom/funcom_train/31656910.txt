TDAT: public void write ( char buffer charbuf ) {  <NL> byte b ;  <NL>  <NL> if ( charbuf . has remaining ( ) = = false )  <NL> return ;  <NL>  <NL> byte buffer outbuf = connection . get output buffer ( ) ;  <NL> byte buffer temp ;  <NL> try {  <NL> encoder . reset ( ) ;  <NL> temp = encoder . encode ( charbuf ) ;  <NL>  } catch ( character coding exception e ) {  <NL> return ;  <NL>  }  <NL>  <NL> while ( temp . has remaining ( ) ) {  <NL> if ( outbuf . remaining ( ) < 2 )  <NL> outbuf = connection . next output buffer ( ) ;  <NL> b = temp . get ( ) ;  <NL> if ( b = = iac )  <NL> outbuf . put ( iac ) ;  <NL> outbuf . put ( b ) ;  <NL>  }  <NL>  }  COM: <s> writes a char buffer to the connection </s>