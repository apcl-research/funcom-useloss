TDAT: private void dispose document ( document old ) {  <NL> for ( enumeration e = old . fields ( ) ; e . has more elements ( ) ; ) {  <NL> field f = ( field ) e . next element ( ) ;  <NL> if ( f . reader value ( ) ! = null ) {  <NL> try {  <NL> f . reader value ( ) . close ( ) ;  <NL>  } catch ( io exception ex ) {  <NL> log . warn ( " exception while disposing index document : " + ex ) ;  <NL>  }  <NL>  }  <NL>  }  <NL>  }  COM: <s> disposes the document code old code </s>