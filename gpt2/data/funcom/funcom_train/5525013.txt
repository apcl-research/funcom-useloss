TDAT: public int getlines ( line l , line last )  <NL>  { char c [ ] ;  <NL> int l , i ;  <NL> line line = l ;  <NL> n = 0 ;  <NL> int nl = 0 ;  <NL> while ( line ! = null )  <NL>  { c = line . get characters ( ) ;  <NL> l = line . length ( ) ;  <NL> while ( n > 0 & & a [ n - 1 ] = = ' ' ) n - - ;  <NL> if ( line ! = l )  <NL>  { if ( n > = max ) return - 1 ;  <NL> a [ n + + ] = ' ' ;  <NL>  }  <NL> if ( n + l > = max ) return - 1 ;  <NL> for ( i = get blanks ( line ) . length ( ) ; i < l ; i + + ) a [ n + + ] = c [ i ] ;  <NL> nl + + ;  <NL> if ( line = = last ) break ;  <NL> line = line . next ( ) ;  <NL>  }  <NL> return nl ;  <NL>  }  COM: <s> collect the lines from line l into the buffer a </s>