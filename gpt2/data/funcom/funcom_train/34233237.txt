TDAT: public void send search ( string query ) throws interrupted exception {  <NL> int id = this . get id ( ) ;  <NL>  <NL> string [ ] [ ] all peers = peer mgr . get all peers ( ) ;  <NL>  <NL> for ( int i = 0 ; i < all peers . length ; i + + ) {  <NL> string address = all peers [ i ] [ 0 ] ;  <NL> m talk buffer . add ( address , peer mgr . get port ( address ) , id ,  <NL> commands enum . proc _ search . to string ( ) , query ) ;  <NL>  <NL>  / / add an entry to the statemanager <NL> this . state mgr . add ( id , address ) ;  <NL>  <NL>  }  <NL>  }  COM: <s> send a search command to all connected peers </s>