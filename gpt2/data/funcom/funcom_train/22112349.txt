TDAT: public list find by root resource ( authz subject subject , resource r ) {  <NL> edge perm check where perm check =  <NL> get permission manager ( ) . make perm check hql ( " rez " ) ;  <NL> string hql = " select ad from alert definition ad join ad . resource rez " +  <NL> where perm check ;  <NL>  <NL> query q = create query ( hql ) ;  <NL>  <NL> return where perm check <NL>  . add query parameters ( q , subject , r , 0 ,  <NL> arrays . as list ( manage _ alerts _ ops ) ) . list ( ) ;  <NL>  }  COM: <s> return all alert definitions for the given resource and its descendants </s>