TDAT: private int get line break ( string line , gc gc ) {  <NL> line breaker . set text ( line ) ;  <NL> int last good index = 0 ;  <NL> int current index = line breaker . first ( ) ;  <NL> int width = gc . text extent ( line . substring ( 0 , current index ) ) . x ;  <NL> while ( width < max width & & current index ! = break iterator . done ) {  <NL> last good index = current index ;  <NL> current index = line breaker . next ( ) ;  <NL> if ( current index = = break iterator . done ) {  <NL> break ;  <NL>  }  <NL> width = gc . text extent ( line . substring ( 0 , current index ) ) . x ;  <NL>  }  <NL> return last good index ;  <NL>  }  COM: <s> finds a good line breaking point </s>