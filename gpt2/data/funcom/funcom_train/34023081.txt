TDAT: private number to integer ( object val , class < ? extends number > int class ) {  <NL> number num = to number ( val ) ;  <NL> if ( num instanceof float || num instanceof double ) {  <NL> if ( int class = = long . class ) {  <NL> return double . double to long bits ( num . double value ( ) ) ;  <NL>  } else {  <NL> return float . float to int bits ( num . float value ( ) ) ;  <NL>  }  <NL>  }  <NL> return num ;  <NL>  }  COM: <s> convert the given value to an integer type if necessary and possible </s>