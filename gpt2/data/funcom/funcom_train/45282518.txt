TDAT: public void compute ( changed rest , image pic ) {  <NL> int threshold = - 1 ;  <NL> double tot = 0 , sum = 0 ;  <NL> int [ ] data = pic . get pixels ( ) ;  <NL> for ( int i = 0 ; i < 256 ; i + + ) {  <NL> tot + = data [ i ] ;  <NL> sum + = ( i * data [ i ] ) ;  <NL>  }  <NL> threshold = ( int ) math . floor ( sum / tot ) ;  <NL> values . put ( pic , threshold ) ;  <NL>  }  COM: <s> compute the glasbey threshold when a changed event happens </s>