TDAT: protected void finish new double edge ( int end node ) {  <NL>  / / check if it is a circle edge <NL> if ( selected node . get id ( ) = = end node ) {  <NL>  / / there are no bidirectional circle edges , add a simple circle edge <NL> add edge ( end node , end node ) ;  <NL>  }  <NL> else {  <NL>  / / add bidirectional edge <NL> add double edge ( selected node . get id ( ) , end node ) ;  <NL>  }  <NL>  <NL>  / / remove selection and leave edit mode draw _ double _ edge <NL> selected node = null ;  <NL> set edit mode ( edit mode . start _ double _ edge ) ;  <NL>  }  COM: <s> finish a new bidirectional edge </s>