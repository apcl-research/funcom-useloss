TDAT: private void remove connection ( final bt link btc ) {  <NL> if ( log . is debug enabled ( ) )  <NL> log . debug ( " removing connection " + btc . to string ( ) ) ;  <NL> link manager . remove link ( btc ) ;  <NL> if ( btc . is uploading ( ) )  <NL> rechoke ( ) ;  <NL> boolean connections empty = link manager . get num connections ( ) = = 0 ;  <NL> boolean peers empty = _ peers . is empty ( ) ;  <NL> synchronized ( state . get lock ( ) ) {  <NL> if ( connections empty & & state . get ( ) = = torrent state . downloading ) {  <NL> if ( peers empty )  <NL> state . set ( torrent state . waiting _ for _ tracker ) ;  <NL> else <NL> state . set ( torrent state . connecting ) ;  <NL>  }  <NL>  }  <NL>  }  COM: <s> private helper method removing connection </s>