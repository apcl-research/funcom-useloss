TDAT: protected number to number ( string number str , string format str ) {  <NL> try {  <NL> if ( format str = = null || " " . equals ( format str ) ) {  <NL> return s _ number format . parse ( number str ) ;  <NL>  } else {  <NL> s _ decimal format . apply pattern ( format str ) ;  <NL> return s _ decimal format . parse ( number str ) ;  <NL>  }  <NL>  } catch ( parse exception e ) {  <NL> log . error ( " failed to extract number : " + number str <NL>  + " with format : " + format str , e ) ;  <NL>  }  <NL> return null ;  <NL>  }  COM: <s> if a sub format is present the decimal format is used </s>