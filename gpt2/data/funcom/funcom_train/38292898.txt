TDAT: public void do wake ( ) {  <NL> synchronized ( state lock ) {  <NL> int previous = my life cycle . get state ( ) ;  <NL> if ( ( previous = = ap _ waiting ) || ( previous = = ap _ idle ) ) {  <NL> set active state ( ap _ active ) ;  <NL>  }  <NL>  }  <NL> if ( my life cycle . is message aware ( ) ) {  <NL> activate all behaviours ( ) ;  <NL> synchronized ( msg queue ) {  <NL> msg queue . notify all ( ) ; / / wakes up the embedded thread <NL>  }  <NL>  }  <NL>  }  COM: <s> make a state transition from em waiting em to em active em </s>