TDAT: public double get end gradient ( int n bins ) {  <NL> int tot bins = get num slices ( ) ;  <NL> n bins = math . min ( n bins , tot bins ) ;  <NL> return ( ( double ) ( slice data . get ( tot bins - 1 ) . peak info [ 0 ] [ 1 ] - slice data . get ( tot bins - n bins ) . peak info [ 0 ] [ 1 ] ) ) /  <NL>  ( double ) ( n bins - 1 ) ;  <NL>  }  COM: <s> gradient at the end of the shape for the first peak </s>