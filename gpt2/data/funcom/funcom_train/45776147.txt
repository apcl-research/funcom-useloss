TDAT: private void broadcast ( ) {  <NL> for ( io session session : listeners ) {  <NL> if ( session . is connected ( ) ) {  <NL> offset offset = ( offset ) session . get attribute ( " offset " ) ;  <NL>  <NL> byte buffer buffer = byte buffer . wrap ( data , offset . value , index <NL>  - offset . value ) ;  <NL>  <NL> offset . value = index ;  <NL>  <NL>  <NL> write future future = session . write ( buffer ) ;  <NL> future . add listener ( new io future listener ( )  <NL>  {  <NL>  @ override <NL> public void operation complete ( io future arg0 )  <NL>  {  <NL> logger . log ( level . fine , " broadcast ok " ) ;  <NL>  }  <NL>  } ) ;  <NL>  }  <NL>  }  <NL>  }  COM: <s> send new replay data to all listeners </s>