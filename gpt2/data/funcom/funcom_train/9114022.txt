TDAT: public string ping ( int away ) throws chat exception {  <NL> session factory hfactory = null ;  <NL>  <NL> try {  <NL> hfactory = ( session factory ) ctx . lookup ( hibernate session factory ) ;  <NL>  <NL> string repository name = context . get caller principal ( ) . get name ( ) ;  <NL>  <NL> return manager . ping ( hfactory . open session ( ) , repository name , away ) ;  <NL>  } catch ( exception e ) {  <NL> if ( e instanceof chat exception ) {  <NL> throw ( chat exception ) e ;  <NL>  }  <NL>  <NL> throw new chat exception ( e ) ;  <NL>  } finally {  <NL>  }  <NL>  }  COM: <s> ping the server </s>