TDAT: private void do fade ( ) {  <NL> if ( ! fade direction ) {  <NL> darkness = math . max ( 0 . 0f , math . min ( 1 . 0f , darkness + alpha _ delta ) ) ;  <NL> if ( darkness > = 0 . 999f ) {  <NL> fade timer . stop ( ) ;  <NL> do fade completed ( ) ;  <NL>  }  <NL>  } else {  <NL> darkness = math . max ( 0 . 0f , math . min ( 1 . 0f , darkness - alpha _ delta ) ) ;  <NL> if ( darkness < = 0 . 001f ) {  <NL> fade timer . stop ( ) ;  <NL> do fade completed ( ) ;  <NL>  }  <NL>  }  <NL> repaint ( ) ; / / fixme repaint performance <NL>  }  COM: <s> execute the fade animation </s>