TDAT: protected string shorten text ( gc gc , string t , int width ) {  <NL> if ( t = = null ) return null ;  <NL> int w = gc . text extent ( ellipsis ) . x ;  <NL> int l = t . length ( ) ;  <NL> int pivot = l / 2 ;  <NL> int s = pivot ;  <NL> int e = pivot + 1 ;  <NL> while ( s > = 0 & & e < l ) {  <NL> string s1 = t . substring ( 0 , s ) ;  <NL> string s2 = t . substring ( e , l ) ;  <NL> int l1 = gc . text extent ( s1 ) . x ;  <NL> int l2 = gc . text extent ( s2 ) . x ;  <NL> if ( l1 + w + l2 < width ) {  <NL> t = s1 + ellipsis + s2 ;  <NL> break ;  <NL>  }  <NL> s - - ;  <NL> e + + ;  <NL>  }  <NL> return t ;  <NL>  }  COM: <s> shorten the given text code t code so that its length doesnt exceed </s>