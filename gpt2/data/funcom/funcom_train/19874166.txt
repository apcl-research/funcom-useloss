TDAT: public int current segment ( double [ ] coords ) {  <NL> int retval ;  <NL> if ( double . is na n ( points [ i ] ) ) {  <NL> coords [ 0 ] = points [ i + 1 ] ;  <NL> coords [ 1 ] = points [ i + 2 ] ;  <NL> retval = seg _ moveto ;  <NL>  } else {  <NL> coords [ 0 ] = points [ i ] ;  <NL> coords [ 1 ] = points [ i + 1 ] ;  <NL> retval = seg _ lineto ;  <NL>  }  <NL> if ( transform ! = null )  <NL> transform . transform ( coords , 0 , coords , 0 , 1 ) ;  <NL> return retval ;  <NL>  }  COM: <s> get the coordinates of the current moveto or lineto as doubles </s>