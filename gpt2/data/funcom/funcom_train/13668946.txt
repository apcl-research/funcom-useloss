TDAT: private void internal flush ( ) {  <NL> try {  <NL> is flushing = true ;  <NL> if ( ndfs . can flush committed transaction ( ) ) {  <NL> collection < ndfs transaction > transactions = new array list < ndfs transaction > ( ) ;  <NL> synchronized ( transactions to flush ) {  <NL>  / / copy all transactions to flush to another list <NL> transactions . add all ( transactions to flush ) ;  <NL>  / / then clear main list <NL> transactions to flush . clear ( ) ;  <NL>  }  <NL>  <NL> iterator < ndfs transaction > iterator = transactions . iterator ( ) ;  <NL> while ( iterator . has next ( ) ) {  <NL> internal flush ( iterator . next ( ) ) ;  <NL>  }  <NL>  }  <NL>  } finally {  <NL> is flushing = false ;  <NL>  }  <NL>  }  COM: <s> check if there are transactions to flush </s>