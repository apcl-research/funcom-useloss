TDAT: public double get elapsed percent ( date when ) {  <NL> if ( when = = null ) return 0 ;  <NL>  <NL> long period begin = get begin date ( ) . get time ( ) ;  <NL> long period elapsed = when . get time ( ) - period begin ;  <NL> if ( period elapsed < = 0 )  <NL> return 0 ;  <NL>  <NL> long period length = end date . get time ( ) - period begin ;  <NL> if ( period elapsed > = period length )  <NL> return 1 ;  <NL>  <NL> return ( double ) period elapsed / ( double ) period length ;  <NL>  }  COM: <s> return the percentage of time in this period that has elapsed </s>