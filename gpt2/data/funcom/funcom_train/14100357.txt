TDAT: private float svd ( matrix3f rot ) {  <NL>  / / this is a simple svd .  <NL>  / / not complete but fast and reasonable .  <NL>  / / see comment in matrix3d .  <NL>  <NL> double s = math . sqrt (  <NL>  (  <NL> m00 * m00 + m10 * m10 + m20 * m20 +  <NL> m01 * m01 + m11 * m11 + m21 * m21 +  <NL> m02 * m02 + m12 * m12 + m22 * m22 <NL>  ) / 3 . 0 <NL>  ) ;  <NL>  <NL>  / / zero - div may occur .  <NL> double t = ( s = = 0 . 0 ? 0 . 0 : 1 . 0 / s ) ;  <NL>  <NL> if ( rot ! = null ) {  <NL> this . get rotation scale ( rot ) ;  <NL> rot . mul ( ( float ) t ) ;  <NL>  }  <NL>  <NL> return ( float ) s ;  <NL>  }  COM: <s> performs svd on this matrix and gets the scale and the pure rotation </s>