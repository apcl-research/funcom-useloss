TDAT: private void downgrade used locks ( ) {  <NL> if ( lock downgrade enabled ) {  <NL> for ( object element : get resource locks needed ( ) ) {  <NL> resource lock lock = ( resource lock ) element ;  <NL> integer value = resource locks used . get ( lock . get resource name ( ) ) ;  <NL> int intvalue = value = = null ? 0 : value . int value ( ) ;  <NL> lock . down grade ( intvalue ) ;  <NL>  }  <NL>  }  <NL>  }  COM: <s> take the resource locks and downgrade the locks to the actual level used </s>