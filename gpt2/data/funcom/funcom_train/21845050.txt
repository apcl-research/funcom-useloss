TDAT: public boolean has permission ( string permission ) {  <NL>  <NL>  / *  <NL>  * if we are not in a sandbox and there is no <NL>  * proxy identity set up , then allow all <NL>  * permissions .  <NL>  *  <NL>  * if there is a proxy identiy , then go ahead <NL>  * and check it .  <NL>  * /  <NL>  <NL> if ( ! in sandbox ( ) ) {  <NL> if ( this . user identity = = null )  <NL> return true ;  <NL> return user identity . has permission ( permission ) ;  <NL>  }  <NL> if ( get user identity ( ) = = null )  <NL> return false ;  <NL> return get user identity ( ) . has permission ( permission ) ;  <NL>  }  COM: <s> determine if the current user has permission to </s>