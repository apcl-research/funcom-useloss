TDAT: public int get last visible offset ( ) {  <NL> if ( is code folding enabled ( ) ) {  <NL> int last visible line = fold manager . get last visible line ( ) ;  <NL> if ( last visible line < get line count ( ) - 1 ) { / / not the last line <NL> try {  <NL> return get line end offset ( last visible line ) - 1 ;  <NL>  } catch ( bad location exception ble ) { / / never happens <NL> ble . print stack trace ( ) ;  <NL>  }  <NL>  }  <NL>  }  <NL> return get document ( ) . get length ( ) ;  <NL>  }  COM: <s> returns the last visible offset in this text area </s>