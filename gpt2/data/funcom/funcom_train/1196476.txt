TDAT: public void run ( ) {  <NL>  <NL> string crs = params . map _ crs ;  <NL> image img = null ;  <NL>  <NL> if ( wms server ! = null )  <NL> try {  <NL> img = wms server . get image ( map bounds , crs , map size ) ;  <NL>  } catch ( campus tour exception e ) {  <NL> mapper . reset asynch ( ) ;  <NL>  }  <NL> else <NL> mapper . reset asynch ( ) ;  <NL>  <NL> map image the map = new map image ( img , map bounds , null ) ;  <NL>  <NL> if ( img ! = null )  <NL> mapper . set local map image ( the map ) ;  <NL> else <NL> mapper . reset asynch ( ) ;  <NL>  }  COM: <s> request and return the map </s>