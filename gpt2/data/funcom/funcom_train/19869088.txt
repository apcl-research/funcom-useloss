TDAT: public void pre render ( ) {  <NL> log . info ( " state is " + state + " ( " + ( ( state = = null ) ? - 1 : state . length ( ) ) + " ) title is " + facet . get title ( ) ) ;  <NL> if ( state ! = null ) {  <NL> add object ( " _ state " , state ) ;  <NL>  }  <NL> if ( facet . get title ( ) ! = null ) {  <NL> add object ( " _ title " , facet . get title ( ) ) ;  <NL>  }  <NL> add object ( " _ name " , get name ( ) ) ;  <NL>  }  COM: <s> put things which are necessary to display to the model </s>