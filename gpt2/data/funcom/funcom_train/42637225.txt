TDAT: protected vector function init derivative ( function [ ] elements ) {  <NL> function vector d = create derivative ( elements . length ) ;  <NL> for ( int i = 0 ; i < elements . length ; i + + ) {  <NL> if ( elements [ i ] instanceof differentiable function ) {  <NL> d . set ( i , ( ( differentiable function ) elements [ i ] ) . get derivative ( ) ) ;  <NL>  } else throw new illegal state exception ( " in order to get vector function derivative , its elements should implement differentiable function " ) ;  <NL>  }  <NL> return d ;  <NL>  }  COM: <s> returns vector function filled with derivatives of the given elements </s>