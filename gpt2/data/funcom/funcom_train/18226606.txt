TDAT: public void add package ( package pkg ) {  <NL> if ( null = = packages )  <NL> packages = new array list < package > ( ) ;  <NL> if ( is package installed ( pkg . get name ( ) ) ) {  <NL> if ( - 1 = = get package ( pkg . get name ( ) ) . get version ( ) . compare to (  <NL> pkg . get version ( ) ) )  <NL> packages . remove ( get package ( pkg . get name ( ) ) ) ;  <NL> packages . add ( pkg ) ;  <NL>  } else <NL> packages . add ( pkg ) ;  <NL>  / / kill cache <NL> installed files = null ;  <NL> provided packages = null ;  <NL>  }  COM: <s> adds a given package pkg to the database </s>