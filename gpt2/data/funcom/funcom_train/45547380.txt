TDAT: public io state write ( gathering byte channel out ) throws io exception {  <NL> io state exit state ;  <NL> synchronized ( lock ( ) ) {  <NL> if ( response headers = = null )  <NL> exit state = io state . done ;  <NL> else {  <NL> out . write ( response headers ) ;  <NL> if ( buffer util . instance . has remaining ( response headers ) )  <NL> exit state = io state . writing ;  <NL> else {  <NL> response headers = null ;  <NL> exit state = io state . done ;  <NL>  }  <NL>  }  <NL>  }  <NL> return exit state ;  <NL>  }  COM: <s> writes the http headers </s>