TDAT: private void apply filter ( ) {  <NL> to expand . clear ( ) ;  <NL>  <NL> if ( root = = null ) {  <NL> super . set root ( null ) ;  <NL>  } else {  <NL> filter state filter state = filter node ( root , new stack < tree node > ( ) ,  <NL> filter state . invisible ) ;  <NL> if ( filter state ! = filter state . invisible ) {  <NL> super . set root ( root ) ;  <NL>  } else {  <NL> super . set root ( null ) ;  <NL>  }  <NL>  }  <NL>  <NL>  / / paths collected during filtering <NL> for ( tree path path : to expand ) {  <NL> parent . expand path ( path ) ;  <NL>  }  <NL>  }  COM: <s> method for applying the filter </s>