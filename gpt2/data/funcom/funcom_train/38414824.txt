TDAT: public void wait for connection ( long timeout ) {  <NL>  <NL> long t0 = system . current time millis ( ) ;  <NL>  <NL> synchronized ( connection lock ) {  <NL> do {  <NL> long now = system . current time millis ( ) ;  <NL>  <NL> if ( connection = = null & & timeout > ( now - t0 ) )  <NL> try {  <NL> connection lock . wait ( timeout - ( now - t0 ) ) ;  <NL>  } catch ( exception e ) { }  <NL> else <NL> return ;  <NL>  }  <NL> while ( true ) ;  <NL>  }  <NL>  }  COM: <s> to wait timeout max for the connection to be established </s>