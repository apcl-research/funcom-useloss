TDAT: public void update is delivered ( ) throws sql exception {  <NL>  <NL> if ( is delivered ( ) ) return ;  <NL>  <NL> string query = " select sum ( qty ordered - qty delivered ) from c _ order line where c _ order _ id = ? " ;  <NL> prepared statement ps = db . prepare statement ( query , get _ trx name ( ) ) ;  <NL> ps . set int ( 1 , get _ id ( ) ) ;  <NL> result set rs = ps . execute query ( ) ;  <NL> if ( rs . next ( ) ) {  <NL> int delta = rs . get int ( 1 ) ;  <NL> if ( delta = = 0 ) {  <NL> set is delivered ( true ) ;  <NL>  }  <NL>  }  <NL> rs . close ( ) ;  <NL> ps . close ( ) ;  <NL>  <NL>  }  COM: <s> checks if the order is fully delivered and if it is </s>