TDAT: public void download complete ( downloader downloader ) throws parse exception {  <NL>  / / keeping track of the threads ' status <NL> status . get ( downloader ) . download ends ( ) ;  <NL>  <NL> i mirror mirror = downloader . get mirror ( ) ;  <NL>  <NL> if ( mirror instanceof i secondary mirror ) { / / ie . not for master <NL>  / / runs with the dom - based implementation <NL>  <NL> dom diff generator comparator = ( dom diff generator ) diff generator factory . get diff generator ( config . tree , master , ( i secondary mirror ) mirror ) ;  <NL>  <NL>  <NL>  / / the comparator thread will call back listener ' s diff completed ( )  <NL>  }  <NL>  }  COM: <s> this method is called by a downloader when its job is done </s>