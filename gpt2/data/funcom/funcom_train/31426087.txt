TDAT: public void save resource ( resource res ) throws model core exception {  <NL> map options = new hash map ( ) ;  <NL>  / / - even if the resource was not with the proper encoding , force the proper encoding <NL>  / / - when saving the resource ( useful when migrating from old models )  <NL> options . put ( xml resource . option _ encoding , doodle resource factory . encoding ) ;  <NL>  / / - the zip option is controlled by the doodle resource factory <NL> try {  <NL> res . save ( options ) ;  <NL>  } catch ( io exception e ) {  <NL> throw new model core exception ( e ) ;  <NL>  }  <NL>  }  COM: <s> performs save of the given emf resource </s>