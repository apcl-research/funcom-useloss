TDAT: private int get partition offset ( int line number , int column number ) {  <NL> if ( document = = null ) {  <NL> return unknown offset ;  <NL>  }  <NL> try {  <NL> int line start offset = document . get line offset ( line number - 1 ) ;  <NL> int current offset = get offset ( line number , column number ) ;  <NL> if ( current offset ! = unknown offset ) {  <NL> i typed region typed region = document . get partition ( current offset - 2 ) ;  <NL> return typed region . get offset ( ) ;  <NL>  }  <NL> else <NL> return line start offset ;  <NL>  }  <NL> catch ( bad location exception e ) {  <NL>  / / xml parser often returns non - existent location when file ended prematurely <NL> return unknown offset ;  <NL>  }  <NL>  }  COM: <s> finds the start offset of a partition given by coordinates </s>