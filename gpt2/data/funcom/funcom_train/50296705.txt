TDAT: public timestamp encode timestamp ( java . sql . timestamp value , calendar cal , boolean invert time zone ) {  <NL> if ( cal = = null ) {  <NL> return value ;  <NL>  }  <NL> else {  <NL> long time = value . get time ( ) +  <NL>  ( invert time zone ? - 1 : 1 ) * ( cal . get time zone ( ) . get raw offset ( ) -  <NL> calendar . get instance ( ) . get time zone ( ) . get raw offset ( ) ) ;  <NL>  <NL> return new timestamp ( time ) ;  <NL>  }  <NL>  }  COM: <s> encode a code timestamp code using a given code calendar code </s>