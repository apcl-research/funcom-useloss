TDAT: public int set max size ( int max size ) {  <NL> synchronized ( display . lcdui lock ) {  <NL>  <NL> int old capacity = buffer . capacity ( ) ;  <NL>  <NL> buffer . set capacity ( max size ) ;  <NL>  <NL> if ( ! text policy . is valid string ( buffer ,  <NL> input client . get constraints ( ) ) ) {  <NL> buffer . set capacity ( old capacity ) ;  <NL> throw new illegal argument exception ( ) ;  <NL>  }  <NL>  <NL> invalidate ( ) ;  <NL>  <NL> return buffer . capacity ( ) ;  <NL>  }  <NL>  }  COM: <s> sets the maximum size number of characters that can be contained </s>