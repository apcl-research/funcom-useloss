TDAT: public auto inc counter get counter ( ) {  <NL>  <NL> if ( counter = = null ) {  <NL>  <NL> long addr ;  <NL>  <NL> if ( ( addr = get root addr ( root _ counter ) ) = = 0l ) {  <NL>  <NL>  / / note : first term id is one ( 1 ) . zero is reserved .  <NL> counter = new auto inc counter ( this , 1l ) ;  <NL>  <NL>  } else {  <NL>  <NL> counter = auto inc counter . read ( this , addr ) ;  <NL>  <NL>  }  <NL>  <NL> set committer ( root _ counter , counter ) ;  <NL>  <NL>  }  <NL>  <NL> return counter ;  <NL>  <NL>  }  COM: <s> the restart safe counter used to assign term identifiers </s>