TDAT: private pattern compile pattern ( string pattern ) {  <NL> pattern test flags = pattern . compile ( pattern ) ;  <NL> if ( ( test flags . flags ( ) & pattern . case _ insensitive ) = = pattern . case _ insensitive )  <NL> return pattern . compile ( pattern , pattern . unicode _ case | pattern . dotall ) ;  <NL> else <NL> return pattern . compile ( pattern , pattern . dotall ) ;  <NL>  }  COM: <s> compiles the pattern and avoids two bugs </s>