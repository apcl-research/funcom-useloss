TDAT: public boolean lock ( object key ) {  <NL> object the lock ;  <NL> synchronized ( this ) {  <NL> the lock = locks . get ( key ) ;  <NL>  }  <NL> if ( the lock = = null ) {  <NL> locks . put ( key , this . get caller id ( ) ) ;  <NL> return true ;  <NL>  } else if ( this . get caller id ( ) = = the lock ) {  <NL> return true ;  <NL>  } else {  <NL> return false ;  <NL>  }  <NL>  }  COM: <s> tries to lock the given object </s>