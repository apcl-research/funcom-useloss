TDAT: protected pattern compile pattern ( string pattern ) {  <NL>  <NL> if ( ! pattern . starts with ( isregularexpression ) ) {  <NL> pattern = escape regex literals ( pattern ) ;  <NL> pattern = pattern . replace all ( " \\ * " , " . * " ) ;  <NL> pattern = pattern . replace all ( " \\ ? " , " . " ) ;  <NL> if ( ! pattern . ends with ( " * " ) )  <NL> pattern + = " . * " ;  <NL>  <NL>  } else {  <NL> pattern = regular expression filter ( pattern ) ;  <NL>  }  <NL> return pattern . compile ( pattern , pattern . case _ insensitive | pattern . unicode _ case ) ;  <NL>  }  COM: <s> pattern for insensitive search </s>