TDAT: private object get waiting lock ( thread current ) {  <NL> int index = index of ( current , false ) ;  <NL>  / / find the lock that this thread is waiting for <NL> for ( int j = 0 ; j < graph [ index ] . length ; j + + ) {  <NL> if ( graph [ index ] [ j ] = = waiting _ for _ lock )  <NL> return locks . get ( j ) ;  <NL>  }  <NL>  / / it can happen that a thread is not waiting for any lock ( it is not really part of the deadlock )  <NL> return null ;  <NL>  }  COM: <s> returns the lock the given thread is waiting for </s>