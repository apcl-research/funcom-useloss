TDAT: public dimension get preferred size ( int w hint , int h hint ) {  <NL> if ( pref size = = null )  <NL> return adjust to aspect ratio ( get bounds ( ) . get size ( ) , false ) ;  <NL>  <NL> dimension preferred size = adjust to aspect ratio ( pref size . get copy ( ) , true ) ;  <NL>  <NL> if ( max size = = null )  <NL> return preferred size ;  <NL>  <NL> dimension maximum size = adjust to aspect ratio ( max size . get copy ( ) , true ) ;  <NL> if ( preferred size . contains ( maximum size ) )  <NL> return maximum size ;  <NL> else <NL> return preferred size ;  <NL>  }  COM: <s> returns the preferred size of this thumbnail </s>