TDAT: public void write ( output stream out , byte [ ] buf ) throws io exception {  <NL> for ( int i = 0 ; i < 16 ; i + + ) / / todo3 : can optimize <NL> buf [ i ] = guid [ i ] ;  <NL> buf [ 16 ] = func ;  <NL> buf [ 17 ] = ttl ;  <NL> buf [ 18 ] = hops ;  <NL> byte order . int2leb ( length , buf , 19 ) ;  <NL> out . write ( buf ) ;  <NL> write payload ( out ) ;  <NL>  }  COM: <s> writes a message out using the buffer as the temporary header </s>