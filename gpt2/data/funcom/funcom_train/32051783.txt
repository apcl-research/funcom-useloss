TDAT: private void end metric ( metric evaluation eval ) throws metric interval unstarted exception {  <NL> final long now = system . current time millis ( ) ;  <NL> if ( eval . last interval start timestamp = = - 1 ) throw new metric interval unstarted exception (  <NL>  " attempt to end an unstarted interval has been done on metric ' " + eval . key + " ' . " ) ;  <NL>  <NL> eval . intervals . add ( now - eval . last interval start timestamp ) ;  <NL> eval . last interval start timestamp = - 1 ;  <NL>  }  COM: <s> ends the last metric interval opened in a </s>