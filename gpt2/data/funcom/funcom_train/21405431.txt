TDAT: public long new photo ( long id route ) {  <NL> data base points dbp = new data base points ( ctx ) ;  <NL> dbp . open ( ) ;  <NL> punt p = dbp . get last point ( id route ) ;  <NL> dbp . close ( ) ;  <NL>  <NL> data base photos db = new data base photos ( ctx ) ;  <NL> db . open ( ) ;  <NL> long id photo = db . insert photo ( id route , p . get lat ( ) , p . get lon ( ) , p <NL>  . get altitude ( ) ) ;  <NL> file photo = get photo path ( id photo ) ;  <NL> db . insert path ( id photo , photo . get absolute path ( ) ) ;  <NL> db . close ( ) ;  <NL>  <NL> return id photo ;  <NL>  }  COM: <s> creates a new photo associates it with the last point and prepares the </s>