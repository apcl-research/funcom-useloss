TDAT: public void test read holding write lock2 ( ) throws exception {  <NL> final latch lock = latch factory . new read write update latch ( ) ;  <NL> lock . exclusive lock ( ) ;  <NL> thread t1 = new thread ( new runnable ( ) {  <NL> public void run ( ) {  <NL> lock . shared lock ( ) ;  <NL> lock . unlock shared ( ) ;  <NL>  }  <NL>  } ) ;  <NL> thread t2 = new thread ( new runnable ( ) {  <NL> public void run ( ) {  <NL> lock . shared lock ( ) ;  <NL> lock . unlock shared ( ) ;  <NL>  }  <NL>  } ) ;  <NL>  <NL> t1 . start ( ) ;  <NL> t2 . start ( ) ;  <NL> lock . shared lock ( ) ;  <NL> lock . unlock shared ( ) ;  <NL> thread . sleep ( 100 ) ;  <NL> lock . shared lock ( ) ;  <NL> lock . unlock shared ( ) ;  <NL> lock . unlock exclusive ( ) ;  <NL> t1 . join ( 200 ) ;  <NL> t2 . join ( 200 ) ;  <NL> assert true ( ! t1 . is alive ( ) ) ;  <NL> assert true ( ! t2 . is alive ( ) ) ;  <NL>  }  COM: <s> read lock succeeds if write locked by current thread even if other </s>