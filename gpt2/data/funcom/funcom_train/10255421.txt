TDAT: public void sync ( ) {  <NL>  <NL> if ( is closed ) {  <NL> return ;  <NL>  }  <NL>  <NL> synchronized ( file stream out ) {  <NL> if ( needs sync ) {  <NL> if ( busy writing ) {  <NL> force sync = true ;  <NL>  <NL> return ;  <NL>  }  <NL>  <NL> try {  <NL> file stream out . flush ( ) ;  <NL> out descriptor . sync ( ) ;  <NL>  <NL> sync count + + ;  <NL>  } catch ( io exception e ) {  <NL> error . print system out ( " flush ( ) or sync ( ) error : "  <NL>  + e . to string ( ) ) ;  <NL>  }  <NL>  <NL> needs sync = false ;  <NL> force sync = false ;  <NL>  }  <NL>  }  <NL>  }  COM: <s> called internally or externally in write delay intervals </s>