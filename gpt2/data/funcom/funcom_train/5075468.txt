TDAT: public void finalize record ( boolean eof ) throws io exception {  <NL> if ( ! file completed & & ! record completed ) {  <NL> byte code = 0 ;  <NL> code | = 1 ;  <NL> code | = eof ? 2 : 0 ;  <NL> os . write ( escape _ code ) ;  <NL> os . write ( code ) ;  <NL> if ( eof ) {  <NL> file completed = true ;  <NL>  }  <NL> record completed = true ;  <NL>  }  <NL>  }  COM: <s> flushes the buffer and sets an eor eof marker </s>