TDAT: public void after action ( persistent collection collection ) {  <NL> loaded key = get current key ( ) ;  <NL> set loaded persister ( get current persister ( ) ) ;  <NL>  <NL> boolean resnapshot = collection . was initialized ( ) & &  <NL>  ( is doremove ( ) || is dorecreate ( ) || is doupdate ( ) ) ;  <NL> if ( resnapshot ) {  <NL> snapshot = loaded persister = = null || ! loaded persister . is mutable ( ) ?  <NL> null :  <NL> collection . get snapshot ( loaded persister ) ; / / re - snapshot <NL>  }  <NL>  <NL> collection . post action ( ) ;  <NL>  }  COM: <s> called after execution of an action </s>