TDAT: public i batch descr next batch ( int timeout ) throws interrupted exception {  <NL>  <NL> final list buffer = new array list ( ) ;  <NL>  <NL> int num ;  <NL>  / / xxx jm : should it be ' if ( timeout < = 0 ) ' ?  <NL> if ( timeout = = 0 ) {  <NL> num = source . dequeue all ( buffer ) ;  <NL>  } else {  <NL> num = source . blocking dequeue all ( buffer , timeout ) ;  <NL>  }  <NL> if ( num = = 0 )  <NL> return null ;  <NL> else <NL> return new i batch descr ( ) {  <NL> public list get batch ( ) {  <NL> return buffer ;  <NL>  }  <NL>  <NL> public void batch done ( ) {  <NL> buffer . clear ( ) ;  <NL>  }  <NL>  } ;  <NL>  }  COM: <s> returns a single batch for processing by the stages event handler </s>