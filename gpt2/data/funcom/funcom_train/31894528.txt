TDAT: public void close ( ) {  <NL> if ( connected ( ) & & ! s . is output shutdown ( ) ) {  <NL> try {  <NL> info . reset ( ) ;  <NL> sent initial data = false ;  <NL> info . hash = 0 ;  <NL> if ( gsr ! = null )  <NL> gsr . set hash ( 0 ) ;  <NL> output stream out = s . get output stream ( ) ;  <NL> out . write ( send _ disconnect ) ;  <NL> out . close ( ) ;  <NL>  } catch ( io exception e ) {  <NL> console . println ( " io exception while closing : " + e ) ;  <NL>  }  <NL>  }  <NL> try {  <NL> if ( connected ( ) )  <NL> s . close ( ) ;  <NL> s = null ;  <NL>  } catch ( io exception e ) {  <NL> console . println ( " io exception while closing : " + e ) ;  <NL>  }  <NL>  <NL>  }  COM: <s> closes and stops all connections and port listening </s>