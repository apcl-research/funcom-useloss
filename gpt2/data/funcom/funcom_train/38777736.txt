TDAT: public int count total ( ) {  <NL> int cnt = 0 ;  <NL>  <NL> synchronized ( map users ) {  <NL> collection c = map users . values ( ) ;  <NL>  <NL> iterator i = c . iterator ( ) ;  <NL>  <NL> while ( i . has next ( ) ) {  <NL> linked list l = ( linked list ) i . next ( ) ;  <NL>  <NL> if ( l ! = null )  <NL> cnt + = l . size ( ) ;  <NL>  } / / i . has next ( )  <NL>  } / / synchronized ( map users )  <NL>  <NL> return cnt ;  <NL>  } / / count total  COM: <s> obtains a total count of messages stored for offline delivery </s>