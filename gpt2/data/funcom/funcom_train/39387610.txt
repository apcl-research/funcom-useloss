TDAT: private int get character at document offset ( final i text viewer viewer , int document offset ) throws bad location exception {  <NL> if ( document offset = = viewer . get document ( ) . get length ( ) & & viewer . get document ( ) . get length ( ) > 0 ) {  <NL> return viewer . get document ( ) . get char ( document offset - 1 ) ;  <NL>  }  <NL> return viewer . get document ( ) . get char ( document offset ) ;  <NL>  }  COM: <s> get the character position of the document offset which is the cursor position </s>