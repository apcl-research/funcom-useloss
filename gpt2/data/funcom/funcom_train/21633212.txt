TDAT: public void calculate gradients ( ) {  <NL> if ( this . workers = = null ) {  <NL> init ( ) ;  <NL>  }  <NL>  <NL> this . workers [ 0 ] . get network ( ) . clear context ( ) ;  <NL> this . total error = 0 ;  <NL>  <NL> if ( this . workers . length > 1 ) {  <NL>  <NL> final task group group = engine concurrency . get instance ( )  <NL>  . create task group ( ) ;  <NL>  <NL> for ( final flat gradient worker worker : this . workers ) {  <NL> engine concurrency . get instance ( ) . process task ( worker , group ) ;  <NL>  }  <NL>  <NL> group . wait for complete ( ) ;  <NL>  } else {  <NL> this . workers [ 0 ] . run ( ) ;  <NL>  }  <NL>  <NL> this . current error = this . total error / this . workers . length ;  <NL>  <NL>  }  COM: <s> calculate the gradients </s>