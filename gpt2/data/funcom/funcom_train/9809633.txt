TDAT: public long get media nanoseconds ( ) {  <NL> if ( get state ( ) = = stopped ) {  <NL> return media time ;  <NL>  }  <NL>  <NL> long now = master . get nanoseconds ( ) ;  <NL> if ( now > start time ) {  <NL>  / / the media has been playing for a while .  <NL> long t = ( long ) ( ( double ) ( now - start time ) * rate ) + media time ;  <NL> return validate time ( t ) ;  <NL>  } else {  <NL>  / / we haven ' t reached the scheduled start time yet .  <NL> return media time ;  <NL>  }  <NL>  }  COM: <s> get the current media time in nanoseconds </s>