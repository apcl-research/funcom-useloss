TDAT: public void lock ( object obj , int lock mode ) throws lock not granted exception {  <NL>  / / todo : check the semantics of this . . .  <NL> try {  <NL> if ( lock mode = = org . odmg . transaction . read ) {  <NL> session . lock ( obj , lock mode . read ) ;  <NL>  }  <NL> else {  <NL> session . lock ( obj , lock mode . upgrade ) ;  <NL>  }  <NL>  }  <NL> catch ( hibernate exception he ) {  <NL> throw new odmg runtime exception ( he . get message ( ) ) ;  <NL>  }  <NL>  }  COM: <s> obtain a lock upon the given object </s>