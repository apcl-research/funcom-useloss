TDAT: public string to xml ( int i depth ) {  <NL> if ( size ( ) = = 0 ) return " " ;  <NL> iterator i = iterator ( ) ;  <NL> string buffer sb = new string buffer ( ) ;  <NL> while ( i . has next ( ) ) {  <NL> hl7element e next = ( hl7element ) i . next ( ) ;  <NL> sb . append ( e next . to xml ( i depth ) ) ;  <NL>  }  <NL> return sb . to string ( ) ;  <NL>  }  COM: <s> extend the inherited to xml method to properly format repeating fields </s>