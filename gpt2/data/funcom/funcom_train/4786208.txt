TDAT: protected string shorten text ( gc gc , string t , int width ) {  <NL> if ( t = = null ) return null ;  <NL> int w = gc . text extent ( ellipsis , draw _ flags ) . x ;  <NL> int l = t . length ( ) ;  <NL> int s = l ;  <NL> while ( s > = 0 ) {  <NL> string s1 = t . substring ( 0 , s ) ;  <NL> int l1 = gc . text extent ( s1 , draw _ flags ) . x ;  <NL> if ( l1 + w < width ) {  <NL> t = s1 + ellipsis ;  <NL> break ;  <NL>  }  <NL> s - - ;  <NL>  }  <NL> return t ;  <NL>  }  COM: <s> shorten the given text code t code so that its length doesnt exceed </s>