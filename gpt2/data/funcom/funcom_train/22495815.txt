TDAT: public int sphere test ( vector3f pos , float radius ) {  <NL> float d ;  <NL> float r = - radius ;  <NL> int hits = 0 ;  <NL>  <NL> for ( int i = 0 ; i < 6 ; i + + ) {  <NL> d = plane [ i ] . evaluate point ( pos ) ;  <NL>  <NL> if ( d < r ) {  <NL>  / / sphere is outside the frustum <NL> return i outside ;  <NL>  } else if ( d > = radius ) {  <NL>  / / sphere intersects at least one frustum plane <NL> hits + + ;  <NL>  }  <NL>  }  <NL>  <NL> if ( hits = = 6 ) {  <NL>  / / sphere is fully inside the frustum <NL> return i inside ;  <NL>  } else {  <NL>  / / sphere intersects the frustum <NL> return i intersect ;  <NL>  }  <NL>  }  COM: <s> tests if sphere is either inside outside or intersecting the frustum </s>