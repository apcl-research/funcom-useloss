TDAT: public void broadcast ( string message ) {  <NL> if ( connection = = null || ! is connected ( ) ) {  <NL> system . err . println ( " impossible to send message : this device isn ' t connected anymore ! " ) ;  <NL> return ;  <NL>  }  <NL> roster = connection . get roster ( ) ;  <NL> if ( roster = = null ) {  <NL> system . err . println ( " impossible to broadcast message : roaster is null ! " ) ;  <NL> return ;  <NL>  }  <NL> message m = new message ( ) ;  <NL> m . set from ( my id ) ;  <NL> m . set body ( message ) ;  <NL> for ( roster entry re : roster . get entries ( ) ) {  <NL> m . set to ( re . get user ( ) ) ;  <NL> connection . send packet ( m ) ;  <NL>  }  <NL>  }  COM: <s> used to broadcast a message to all contacts in the roaster </s>