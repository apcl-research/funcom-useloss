TDAT: protected rectangle all damaged regions ( ) {  <NL> if ( damaged regions = = null ) {  <NL> rectangle total damage = last damage ;  <NL> last damage = null ;  <NL> return total damage ;  <NL>  }  <NL>  <NL> rectangle damaged = null ;  <NL>  <NL> for ( int i = damaged regions . size ( ) - 1 ; i > = 0 ; - - i )  <NL> damaged = enlarge (  <NL> damaged , ( ( damaged region ) damaged regions . get ( i ) ) . damaged region ( ) ) ;  <NL>  <NL> damaged = enlarge ( damaged , 4 ) ;  <NL>  <NL> rectangle total damage = last damage ! = null <NL>  ? enlarge ( new rectangle ( last damage ) , damaged )  <NL>  : damaged ;  <NL>  <NL> last damage = damaged ;  <NL>  <NL> return total damage ;  <NL>  }  COM: <s> calculate the bounding box of the union of all </s>