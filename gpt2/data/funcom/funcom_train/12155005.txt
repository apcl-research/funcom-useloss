TDAT: public void message recieved ( int to , node announce pkt message ) {  <NL> if ( ! discovery complete ) {  <NL> node announce msg = node announce . parse node announce pkt ( ( node announce pkt ) message ) ;  <NL> int node id = msg . get header ( ) . get source id ( ) ;  <NL> nodes . put ( node id , new node ( msg . get type ( ) , node id ) ) ;  <NL>  }  <NL>  }  COM: <s> process an incoming service advertisement pkt </s>