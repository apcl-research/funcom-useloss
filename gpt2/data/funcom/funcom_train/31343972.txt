TDAT: public void heart beat ( ) {  <NL> synchronized ( m download list ) {  <NL>  <NL> for ( i download l download : m download list ) {  <NL> switch ( l download . get state ( ) ) {  <NL> case completed :  <NL> case queued :  <NL> case cancelled :  <NL> case pauzed :  <NL> case error :  <NL> break ;  <NL> case connecting :  <NL> case releasing :  <NL> case retrying : {  <NL> l download . increment second ( ) ;  <NL> break ;  <NL>  }  <NL> case downloading : {  <NL> l download . increment second ( ) ;  <NL> l download . calculate speed ( ) ;  <NL> if ( l download . get previous ( ) ! = l download . get current ( ) ) {  <NL> l download . set previous ( l download . get current ( ) ) ;  <NL>  }  <NL>  }  <NL> break ;  <NL>  }  <NL>  }  <NL>  }  <NL>  }  COM: <s> update elapsed time 1 second and bandwith for each download </s>