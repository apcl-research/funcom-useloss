TDAT: private void detach object ( final db object obj ) {  <NL> obj . db class . data . deallocate data index ( obj . data index ) ;  <NL> page mapper . deallocate pages ( obj . page nums ) ;  <NL> obj . global state = db constants . state _ obj _ detached ;  <NL> objects [ obj . index id ] = null ;  <NL> if ( root index = = obj . index id ) {  <NL> root index = - 1 ;  <NL>  }  <NL> free index ids . add ( obj . index id ) ;  <NL> obj . index id = - 1 ;  <NL> obj . version id = - 1 ;  <NL> obj . db class = null ;  <NL> obj . trans context = null ;  <NL>  }  COM: <s> deallocates all object resources </s>