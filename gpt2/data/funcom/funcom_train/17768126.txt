TDAT: public connection status ready ( long timeout ) {  <NL>  / / if the user closed this connection , return closed .  <NL> if ( ! this . connection status . get value ( ) )  <NL> return connection status . closed ;  <NL>  <NL>  / / otherwise , return the channel status <NL> synchronized ( this . channel status ) {  <NL> if ( this . channel status . connection status = =  <NL> connection status . connected )  <NL> return connection status . connected ;  <NL> try {  <NL> this . channel status . wait ( timeout ) ;  <NL>  } catch ( interrupted exception e ) {  <NL>  <NL>  }  <NL> return this . channel status . connection status ;  <NL>  }  <NL>  }  COM: <s> block until this connection is ready or until it fails </s>