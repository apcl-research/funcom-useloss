TDAT: public p vector update ( ) {  <NL> p vector new value = null ;  <NL> timer . update ( ) ;  <NL> float delta time = timer . lap time ( ) ;  <NL> if ( delay > 0 ) {  <NL> delay - = delta time ;  <NL> system . out . println ( " delay " + delay ) ;  <NL>  }  <NL> else if ( delay < 0 ) {  <NL> run time + = delay ;  <NL> delay = 0 ;  <NL> timer . reset ( ) ;  <NL> running = true ;  <NL>  }  <NL> else {  <NL> run time + = delta time ;  <NL> if ( run time < duration ) {  <NL> new value = p vector . mult ( diff , run time / duration ) ;  <NL> new value . add ( start ) ;  <NL> running = false ;  <NL>  }  <NL> else {  <NL> new value = new p vector ( end . x , end . y , end . z ) ;  <NL> app . unregister pre ( this ) ;  <NL>  }  <NL>  }  <NL> return new value ;  <NL>  }  COM: <s> update the vector </s>