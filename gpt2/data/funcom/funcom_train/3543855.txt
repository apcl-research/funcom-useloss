TDAT: private user get user ( ) throws exception {  <NL>  <NL>  / * the result user * /  <NL> user user = null ;  <NL>  <NL> if ( get mode type ( ) = = mode type . create ) {  <NL>  / * create mode . creating a new user * /  <NL> user = security gate . create user ( ) ;  <NL>  <NL>  / * setting a new user key * /  <NL> set key ( ( user pk ) user . get primary key ( ) ) ;  <NL>  } else {  <NL>  / * edit / review mode . getting the current role * /  <NL> user pk user pk = get key ( ) ;  <NL> user = security gate . get user ( user pk ) ;  <NL>  }  <NL>  <NL>  / * the result user * /  <NL> return user ;  <NL>  }  COM: <s> returns a user object for the current view </s>