TDAT: public int read tag ( ) throws io exception {  <NL> if ( buffer pos = = buffer size & & ! refill buffer ( false ) ) {  <NL> last tag = 0 ;  <NL> return 0 ;  <NL>  }  <NL>  <NL> last tag = read raw varint32 ( ) ;  <NL> if ( last tag = = 0 ) {  <NL>  / / if we actually read zero , that ' s not a valid tag .  <NL> throw invalid protocol buffer exception . invalid tag ( ) ;  <NL>  }  <NL> return last tag ;  <NL>  }  COM: <s> attempt to read a field tag returning zero if we have reached eof </s>