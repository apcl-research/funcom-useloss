TDAT: public void set value ( object obj ) {  <NL> final string text = model . object to text ( obj ) ;  <NL> if ( ! model . is valid ( text ) ) {  <NL> throw new illegal state exception ( " value is not valid " + obj ) ;  <NL>  }  <NL>  / / make sure the value is of the correct type by converting it back <NL>  / / using the model .  <NL> model . set value ( model . text to object ( text ) ) ;  <NL> last valid text = text ;  <NL> text field . set text ( last valid text ) ;  <NL>  }  COM: <s> set the value for the text field </s>