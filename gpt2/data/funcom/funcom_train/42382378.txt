TDAT: private pattern get pattern ( int max rep ) {  <NL>  / / race no concern : assignment is atomic , happy with any last value <NL> pattern p = pattern . get ( ) ;  <NL> if ( p ! = null ) {  <NL> return p ;  <NL>  }  <NL> string regex = construct regexp ( max rep ) ;  <NL> p = pattern . compile ( regex ) ;  <NL> pattern . set ( p ) ;  <NL> return p ;  <NL>  }  COM: <s> construct the regexp string to be matched against the uri </s>