TDAT: public point2d snap ( point2d p ) {  <NL> if ( grid enabled & & p ! = null ) {  <NL> double sgs = grid size / * * get scale ( ) * / ;  <NL> p . set location ( math . round ( math . round ( p . get x ( ) / sgs ) * sgs ) , math <NL>  . round ( math . round ( p . get y ( ) / sgs ) * sgs ) ) ;  <NL>  }  <NL> return p ;  <NL>  }  COM: <s> returns the given point applied to the grid </s>