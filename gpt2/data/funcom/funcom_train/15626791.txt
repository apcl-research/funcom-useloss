TDAT: private boolean do selection ( final boolean perform action , @ not null final selection mode mode ) {  <NL> final map cursor < g , a , r > map cursor = get active map cursor ( ) ;  <NL> if ( map cursor = = null ) {  <NL> return false ;  <NL>  }  <NL>  <NL> if ( perform action ) {  <NL> select square ( map cursor , mode ) ;  <NL>  }  <NL>  <NL> return true ;  <NL>  }  COM: <s> executes an action for changing the selection </s>