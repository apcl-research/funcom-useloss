TDAT: private void add suffix ( state state , char sequence current , int from index ) {  <NL> final int len = current . length ( ) ;  <NL> while ( from index < len ) {  <NL> int cp = character . code point at ( current , from index ) ;  <NL> state = state . new state ( cp ) ;  <NL> from index + = character . char count ( cp ) ;  <NL>  }  <NL> state . is _ final = true ;  <NL>  }  COM: <s> add a suffix of code current code starting at code from index code </s>