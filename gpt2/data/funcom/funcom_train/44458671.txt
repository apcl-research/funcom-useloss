TDAT: private void ensure capacity ( int needed ) {  <NL>  <NL>  / / determine current capacity <NL> int current = _ buffer . length ;  <NL>  <NL>  / / increase capacity if needed <NL> if ( current < needed ) {  <NL> int new capacity = needed < < 2 ;  <NL>  <NL> log . log _ 1250 ( current , new capacity ) ;  <NL>  <NL> char [ ] new buffer = new char [ new capacity ] ;  <NL> system . arraycopy ( _ buffer , 0 , new buffer , 0 , current ) ;  <NL>  _ buffer = new buffer ;  <NL>  }  <NL>  }  COM: <s> ensures that the specified needed capacity is actually available </s>