TDAT: public void buffer token ( token tok ) throws token stream exception {  <NL> if ( is blocked ) {  <NL> throw new token stream exception ( " cannot add token to " +  <NL>  " blocked buffer " ) ;  <NL>  }  <NL> if ( start new buffer ) {  <NL>  / / start of new block of contiguous tokens <NL> token buffers . add last ( new linked list ( ) ) ;  <NL> index tokens . add last ( new linked list ( ) ) ;  <NL> start new buffer = false ;  <NL>  }  <NL>  ( ( linked list ) token buffers . get last ( ) ) . add last ( tok ) ;  <NL>  }  COM: <s> adds the given token of the nested language to the buffer </s>