TDAT: private void update metadata thread ( sink metadata sink ) {  <NL> while ( update ) {  <NL> synchronized ( sleeping ) {  <NL> sleeping = true ;  <NL> try { thread . sleep ( update rate ) ; } catch ( interrupted exception e ) { }  <NL> sleeping = false ;  <NL>  }  <NL>  <NL> if ( update ) {  <NL> update metadata ( metadata sink ) ;  <NL>  }  <NL>  }  <NL>  <NL> fire metadata updated ( null ) ;  <NL> fire markers updated ( null ) ;  <NL>  }  COM: <s> updates the metadata and sleeps code update rate code </s>