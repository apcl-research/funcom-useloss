TDAT: private void submit ( ) throws exception {  <NL> if ( has selected patient ( ) ) {  <NL>  / / select first <NL> if ( visit search & & ! has selected visit ( ) ) {  <NL> list < view visit model > visits = patient service . get visit list for patients ( selected patients ) ;  <NL> if ( visits . size ( ) > 0 ) {  <NL> selected visits . add ( visits . get ( 0 ) ) ;  <NL>  }  <NL>  }  <NL>  }  <NL> ok pressed = true ;  <NL> ok close form ( ) ;  <NL> if ( action on ok ! = null ) {  <NL> action event e = new action event ( get frame or dialog ( ) , 0 , null ) ;  <NL> action on ok . action performed ( e ) ;  <NL>  }  <NL>  }  COM: <s> ok or double click </s>