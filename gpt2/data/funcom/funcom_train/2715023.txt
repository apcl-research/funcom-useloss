TDAT: private void update ( document event evt ) {  <NL> element map = text . get document ( ) . get default root element ( ) ;  <NL> int line = map . get element index ( evt . get offset ( ) ) ;  <NL> document event . element change ec = evt . get change ( map ) ;  <NL> view changed ( line , ec ! = null ) ;  <NL>  }  COM: <s> if the edit was confined to a single line invalidate that </s>