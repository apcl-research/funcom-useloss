TDAT: public vec3d to spherical ( ) {  <NL> final float xx = math . abs ( x ) < = math utils . eps ? math utils . eps : x ;  <NL> final float zz = z ;  <NL>  <NL> final float radius = ( float ) math . sqrt ( ( xx * xx ) + ( y * y ) + ( zz * zz ) ) ;  <NL> z = ( float ) math . asin ( y / radius ) ;  <NL> y = ( float ) math . atan ( zz / xx ) + ( xx < 0 . 0 ? math utils . pi : 0 ) ;  <NL> x = radius ;  <NL> return this ;  <NL>  }  COM: <s> converts the vector into spherical coordinates </s>