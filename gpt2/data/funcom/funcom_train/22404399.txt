TDAT: private string get active selection ( string text ) {  <NL> select end = box . get cursor pos ( ) ;  <NL>  <NL>  / / find the last instance of a separator .  <NL> select start = - 1 ;  <NL> for ( int i = 0 ; i < separators . length ; i + + ) {  <NL> select start = math . max (  <NL> text . last index of ( separators [ i ] , select end - 1 ) , select start ) ;  <NL>  }  <NL>  + + select start ;  <NL>  <NL> return text . substring ( select start , select end ) . trim ( ) ;  <NL>  }  COM: <s> in the presence of separators returns the active search selection </s>