TDAT: protected void do restore state ( i memento memento ) {  <NL> integer offset = memento . get integer ( tag _ selection _ offset ) ;  <NL> if ( offset = = null )  <NL> return ;  <NL>  <NL> integer length = memento . get integer ( tag _ selection _ length ) ;  <NL> if ( length = = null )  <NL> return ;  <NL>  <NL> do set selection ( new text selection ( offset . int value ( ) , length . int value ( ) ) ) ;  <NL>  <NL>  / / xxx : https : / / bugs . eclipse . org / bugs / show _ bug . cgi ? id = 168524 <NL> integer horizontal pixel = memento . get integer ( tag _ selection _ hpixel ) ;  <NL> if ( horizontal pixel = = null )  <NL> return ;  <NL> styled text text widget = get source viewer ( ) . get text widget ( ) ;  <NL> if ( ! text widget . is visible ( ) )  <NL> text widget . set horizontal pixel ( horizontal pixel . int value ( ) ) ;  <NL>  }  COM: <s> restores this editors state using the given memento </s>