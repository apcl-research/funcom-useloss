TDAT: public void close doc ( ) {  <NL> if ( format . equals ( literals . gxl ) ) {  <NL> print gxl ( ) ;  <NL>  } else if ( format . equals ( literals . rdf ) ) {  <NL> print rdf ( ) ;  <NL>  }  <NL>  <NL> iterator iter = responses . key set ( ) . iterator ( ) ;  <NL> while ( iter . has next ( ) ) {  <NL> string key = iter . next ( ) . to string ( ) ;  <NL> collection props = ( collection ) responses . get ( key ) ;  <NL> if ( props = = null )  <NL> props = new vector ( ) ;  <NL> collection errprops = ( collection ) errresponses . get ( key ) ;  <NL> if ( errprops = = null )  <NL> errprops = new vector ( ) ;  <NL> print dav response ( key , props . iterator ( ) , errprops . iterator ( ) ) ;  <NL>  }  <NL> result writer . write ( footer ) ;  <NL>  <NL>  / / clear all old results <NL> nodes = new hash map ( ) ;  <NL> node ids = new hash map ( ) ;  <NL> edges = new vector ( ) ;  <NL> responses = new hash map ( ) ;  <NL>  }  COM: <s> close the response document </s>