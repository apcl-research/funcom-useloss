TDAT: protected string get next file name ( i page page , string name ) {  <NL> i attachment a = page service . find attachment ( page , name ) ;  <NL> int counter = 0 ;  <NL> string new name = name ;  <NL> while ( a ! = null ) {  <NL> if ( name . index of ( " . " ) > 0 ) {  <NL> new name = name . substring ( 0 , name . last index of ( " . " ) ) + " . " + counter + + + name . substring ( name . last index of ( " . " ) ) ;  <NL>  } else {  <NL> new name = name + " _ " + counter + + ;  <NL>  }  <NL> a = page service . find attachment ( page , new name ) ;  <NL>  }  <NL> return new name ;  <NL>  }  COM: <s> searches for the next available filename with the given base </s>