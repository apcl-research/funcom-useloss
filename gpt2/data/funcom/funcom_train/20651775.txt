TDAT: public long get velocity ( string app name ) {  <NL> session session = context . open session ( app name ) ;  <NL> transaction tx = session . begin transaction ( ) ;  <NL> query q = session . get named query ( velocity ) ;  <NL> q . set parameter ( " product id " , id ) ;  <NL> q . set parameter ( " period start " , get velocity period start ( ) . get time ( ) ) ;  <NL> long velocity = ( long ) q . unique result ( ) ;  <NL> tx . commit ( ) ;  <NL> session . close ( ) ;  <NL> return velocity = = null ? 0l : math . round ( velocity . double value ( ) / velocity period in weeks ) ;  <NL>  }  COM: <s> calculate points completed in velocity period excluding tasks that are currently open </s>