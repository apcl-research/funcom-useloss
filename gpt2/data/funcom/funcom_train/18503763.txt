TDAT: protected void close ( ) {  <NL>  / / don ' t do anything if already closed <NL> if ( ! active )  <NL> return ;  <NL>  / / send close command <NL> try {  <NL> send ( new close command ( ) ) ;  <NL>  } catch ( io exception e1 ) {  <NL> e1 . print stack trace ( ) ;  <NL>  }  <NL>  / / todo maybe wait for confirmation ? ? ?  <NL>  <NL> active = false ;  <NL>  / / todo maybe resend unconfirmed here ?  <NL>  <NL>  / / interrupt the internal waiter <NL> internal waiter . interrupt ( ) ;  <NL> try {  <NL>  / / close the input stream , this will interrupt the external waiter <NL> obj in . close ( ) ;  <NL>  } catch ( io exception e ) {  <NL> e . print stack trace ( ) ;  <NL>  }  <NL>  <NL> try {  <NL>  / / close the output stream <NL> obj out . close ( ) ;  <NL>  } catch ( io exception e ) {  <NL> e . print stack trace ( ) ;  <NL>  }  <NL>  }  COM: <s> closes the data manager </s>