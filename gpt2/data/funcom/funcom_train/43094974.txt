TDAT: public void set visible ( boolean visible ) {  <NL> if ( is visible ( ) = = visible ) {  <NL> return ;  <NL>  }  <NL> super . set visible ( visible ) ;  <NL> if ( visible ) {  <NL> populate ( ) ;  <NL>  } else {  <NL> for ( int i = get figs ( ) . size ( ) - 1 ; i > = 0 ; - - i ) {  <NL> fig f = get fig at ( i ) ;  <NL> if ( f instanceof fig feature ) {  <NL> remove fig ( f ) ;  <NL>  }  <NL>  }  <NL>  }  <NL>  }  COM: <s> if a features compartment is set to invisible then remove all its </s>