TDAT: public void write header ( message om ) {  <NL>  <NL> if ( tickets ! = null ) {  <NL> for ( int i = tickets . length - 1 ; i > = 0 ; i - - ) {  <NL> om . push int ( tickets [ i ] . get ticket id ( ) ) ;  <NL> om . push int ( tickets [ i ] . get msg id ( ) . get source ( ) ) ;  <NL> om . push int ( tickets [ i ] . get msg id ( ) . get sequence ( ) ) ;  <NL>  }  <NL> om . push int ( tickets . length ) ;  <NL>  }  <NL> else <NL> om . push int ( - 1 ) ;  <NL>  <NL> om . push int ( to ) ;  <NL> om . push int ( from ) ;  <NL> om . push int ( sequencer ) ;  <NL> om . push int ( sequence ) ;  <NL> om . push int ( type ) ;  <NL>  }  COM: <s> serializes the header into an appia message </s>