TDAT: private void add friend ( agent friend ) {  <NL>  / / critical region , so lock .  <NL> synchronized ( get jl friends ( ) ) {  <NL>  / / get the list model for the friends list .  <NL> default list model m = ( ( sorted list model ) get jl friends ( ) . get model ( ) ) . get unsorted list ( ) ;  <NL>  / / add the friend .  <NL> m . add ( m . size ( ) , friend ) ;  <NL> friend . add observer ( this ) ;  <NL>  }  <NL>  }  COM: <s> add a friend </s>