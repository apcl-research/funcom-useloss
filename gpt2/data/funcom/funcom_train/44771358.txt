TDAT: private void internal add document ( document doc ) throws io exception {  <NL> volatile index . add document ( doc ) ;  <NL> if ( volatile index . get redo log ( ) . get size ( ) > = handler . get min merge docs ( ) ) {  <NL> long time = system . current time millis ( ) ;  <NL> commit ( ) ;  <NL> time = system . current time millis ( ) - time ;  <NL> log . info ( " committed in - memory index in " + time + " ms . " ) ;  <NL>  }  <NL>  }  COM: <s> unsynchronized implementation to add a document to the index </s>