TDAT: public void set transaction successful ( ) {  <NL> if ( ! m lock . is held by current thread ( ) ) {  <NL> throw new illegal state exception ( " no transaction pending " ) ;  <NL>  }  <NL> if ( m inner transaction is successful ) {  <NL> throw new illegal state exception (  <NL>  " set transaction successful may only be called once per call to begin transaction " ) ;  <NL>  }  <NL> m inner transaction is successful = true ;  <NL>  }  COM: <s> marks the current transaction as successful </s>