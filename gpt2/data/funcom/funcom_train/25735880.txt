TDAT: public peptide shuffle ( peptide peptide ) {  <NL>  / / get the list of residues + n / c termini ( peptide length + 2 elts )  <NL> list < molecule > mols = split ( peptide ) ;  <NL>  <NL>  / / shuffle only the residues <NL> collections . shuffle ( mols . sub list ( 1 , peptide . length ( ) + 1 ) ) ;  <NL>  <NL> try {  <NL> return join ( mols , peptide . get number of protons ( ) ) ;  <NL>  } catch ( bad peptide element exception e ) {  <NL> throw new illegal state exception ( " cannot create a peptide from "  <NL>  + mols ) ;  <NL>  }  <NL>  }  COM: <s> shuffle the peptide keep terminals fixed </s>