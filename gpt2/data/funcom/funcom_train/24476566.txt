TDAT: public boolean commit ( ) throws login exception {  <NL>  / / check login - state <NL> if ( credentials = = null ) {  <NL> abort ( ) ;  <NL>  }  <NL> if ( ! is initialized ( ) || principal = = null ) {  <NL> return false ;  <NL>  }  <NL>  <NL> set < principal > principals = get principals ( ) ;  <NL> subject . get principals ( ) . add all ( principals ) ;  <NL> subject . get public credentials ( ) . add ( credentials ) ;  <NL> return true ;  <NL>  }  COM: <s> method to commit the authentication process phase 2 </s>