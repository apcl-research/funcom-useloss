TDAT: public int await advance ( int phase ) {  <NL> if ( phase < 0 )  <NL> return phase ;  <NL> long s = get reconciled state ( ) ;  <NL> int p = phase of ( s ) ;  <NL> if ( p ! = phase )  <NL> return p ;  <NL> if ( unarrived of ( s ) = = 0 & & parent ! = null )  <NL> parent . await advance ( phase ) ;  <NL>  / / fall here even if parent waited , to reconcile and help release <NL> return untimed wait ( phase ) ;  <NL>  }  COM: <s> awaits the phase of the barrier to advance from the given </s>