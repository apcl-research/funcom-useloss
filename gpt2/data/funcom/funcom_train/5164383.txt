TDAT: public void run ( ) {  <NL> init ( ) ;  <NL> app running = true ;  <NL> do {  <NL> if ( port . is empty ( ) )  <NL> process ( new msg idle ( ) ) ;  <NL>  <NL> msg m = port . receive ( ) ;  <NL> if ( m ! = null )  <NL>  {  <NL> try <NL>  {  <NL> process ( m ) ;  <NL>  }  <NL> catch ( exception e )  <NL>  {  <NL> log . error ( " exception @ process msg : " + e . get message ( ) ) ;  <NL> e . print stack trace ( ) ;  <NL>  }  <NL>  }  <NL>  <NL> if ( timer > 0 )  <NL>  {  <NL> long x = system . current time millis ( ) ;  <NL> if ( ( x - current time ) > timer )  <NL>  {  <NL> current time = x ;  <NL> port . send ( new msg timer ( ) ) ;  <NL>  }  <NL>  }  <NL>  } while ( app running ) ;  <NL> exit ( ) ;  <NL>  }  COM: <s> standard component message loop </s>