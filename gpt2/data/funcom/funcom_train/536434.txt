TDAT: public void send response ( mserv connection connection ) {  <NL> list < string > lines ;  <NL> if ( connection . is mode human ( ) ) {  <NL> if ( this . is broadcasted ) {  <NL>  / / the human have already gotten the broadcast ,  <NL>  / / don ' t send this message also .  <NL> return ;  <NL>  }  <NL> lines = get human response ( ) ;  <NL>  } else {  <NL> lines = get computer response ( ) ;  <NL>  }  <NL>  <NL> for ( string line : lines ) {  <NL> connection . send raw line ( line ) ;  <NL>  }  <NL>  }  COM: <s> send this response to a connection </s>