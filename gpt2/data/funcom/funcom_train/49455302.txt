TDAT: public void mark undo all completed ( string metric name ) throws sql exception {  <NL> db db = get db ( ) ;  <NL> try {  <NL> db . enter ( ) ;  <NL>  <NL> prepared statement chg state = db . prepare statement ( " update sdw . e _ operation set state _ id = 3 where state _ id = 2 and metric _ name _ id in ( select e _ metric _ name _ id from sdw . e _ metric _ name where metric _ name = ? ) ; " ) ;  <NL>  <NL> chg state . set string ( 1 , metric name ) ;  <NL>  <NL> db . execute update ( chg state ) ;  <NL>  }  <NL> finally {  <NL> db . exit ( ) ;  <NL>  }  <NL>  }  COM: <s> update the operation state for a given metric named </s>