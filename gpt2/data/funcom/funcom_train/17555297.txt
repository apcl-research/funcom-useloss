TDAT: protected void handle job execution exception ( environment environment , job impl < ? > job , throwable exception ) {  <NL> transaction transaction = environment . get ( transaction . class ) ;  <NL>  / / transaction . set rollback only ( ) ;  <NL>  <NL> command service command service = ( command service ) environment . get ( command service . class ) ;  <NL> job exception handler job exception handler = new job exception handler ( job . get dbid ( ) , exception , command service ) ;  <NL> transaction . register synchronization ( job exception handler ) ;  <NL>  }  COM: <s> this transaction will be marked for rollback </s>