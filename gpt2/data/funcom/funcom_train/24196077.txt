TDAT: public string get weighted random ( hashtable < string , integer > scores ) {  <NL> int max = scores . values ( ) . to array ( new integer [ 0 ] ) [ 0 ] ;  <NL> for ( int v : scores . values ( ) )  <NL> max = ( max > = v ? max : v ) ;  <NL> while ( true ) {  <NL> double p = math . random ( ) ;  <NL>  <NL> iterator < entry < string , integer > > itr = scores . entry set ( ) . iterator ( ) ;  <NL> while ( itr . has next ( ) ) {  <NL> entry < string , integer > entry = itr . next ( ) ;  <NL> if ( p < entry . get value ( ) )  <NL> return entry . get key ( ) ;  <NL> else <NL> p - = entry . get value ( ) ;  <NL>  }  <NL>  }  <NL>  }  COM: <s> p returns a weighted random value of the given list </s>