TDAT: public session factory get session factory ( ) {  <NL> if ( ( m _ session factory = = null ) & & ( m _ application context ! = null ) ) {  <NL>  / / try to locate the session factory <NL> if ( m _ application context . contains bean ( session _ factory _ bean _ default _ name ) ) {  <NL> m _ session factory = ( session factory )  <NL> m _ application context . get bean ( session _ factory _ bean _ default _ name ) ;  <NL> reject . if null ( m _ session factory , " session factory must not be null ! " ) ;  <NL>  }  <NL>  }  <NL> return m _ session factory ;  <NL>  }  COM: <s> gets the session factory from spring context if needed </s>