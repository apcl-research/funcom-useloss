TDAT: public void write ( output stream out , byte [ ] buf ) throws io exception {  <NL> system . arraycopy ( guid , 0 , buf , 0 , guid . length / * 16 * / ) ;  <NL> buf [ 16 ] = func ;  <NL> buf [ 17 ] = ttl ;  <NL> buf [ 18 ] = hops ;  <NL> byte utils . int2leb ( length , buf , 19 ) ;  <NL> out . write ( buf ) ;  <NL> write payload ( out ) ;  <NL>  }  COM: <s> writes a message out using the buffer as the temporary header </s>