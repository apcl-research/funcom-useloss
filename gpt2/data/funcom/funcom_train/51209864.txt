TDAT: private double ensure good transform param ( transform mode transform mode , double parameter ) {  <NL>  <NL> if ( double . is infinite ( parameter ) )  <NL> parameter = ( parameter > 0 . ? 1 . : - 1 . ) ;  <NL>  <NL> if ( double . is na n ( parameter ) )  <NL> parameter = 0 . ;  <NL>  <NL> if ( transform mode = = transform mode . transform _ logarithm ) {  <NL>  <NL> double d = math tools . log ( parameter , 1 . ) ;  <NL> if ( double . is na n ( d ) || double . is infinite ( d ) ) {  <NL>  <NL> if ( 0 > parameter )  <NL> parameter = - parameter ;  <NL> if ( 1 . = = parameter )  <NL> parameter = 0 . ;  <NL>  }  <NL>  }  <NL>  <NL> return parameter ;  <NL>  }  COM: <s> ensure that the transformation parameter has a legal value for the given </s>