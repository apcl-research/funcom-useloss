TDAT: public int work ( float [ ] buffer ) throws ao exception {  <NL> int count = 0 ;  <NL> boolean loop = true ;  <NL> float tmp = ( float ) 0 . 0 ;  <NL> while ( loop ) {  <NL>  / / for ( ; count < buffer . length ; count + + ) {  <NL> try {  <NL> float sample = 0 . 0f ;  <NL> switch ( st . next token ( ) ) {  <NL> case stream tokenizer . tt _ word :  <NL>  / / do anything ?  <NL> break ;  <NL> case stream tokenizer . tt _ number :  <NL> buffer [ count + + ] = ( float ) st . nval ;  <NL> if ( count > = buffer . length ) loop = false ;  <NL> break ;  <NL> default :  <NL>  / / do something ?  <NL> break ;  <NL>  }  <NL>  / / buffer [ count + + ] = sample ;  <NL>  } catch ( eof exception eofe ) {  <NL> this . fin = true ;  <NL> count = buffer . length ;  <NL> break ;  <NL>  / / this is supposed to happen ; )  <NL>  } catch ( io exception ioe ) {  <NL> ioe . print stack trace ( ) ;  <NL> system . exit ( 1 ) ;  <NL>  }  <NL>  }  <NL> return count ;  <NL>  }  <NL>  }  COM: <s> read in a sample from the file and pass it down </s>