TDAT: public buffered image get drawing image ( ) {  <NL> rectangle rect = this . diagram . get drawing rectangle ( ) ;  <NL>  <NL> buffered image image = new buffered image (  <NL> diagram . diagram _ canvas _ width ,  <NL> diagram . diagram _ canvas _ height ,  <NL> buffered image . type _ int _ rgb ) ;  <NL>  <NL> graphics2d g = image . create graphics ( ) ;  <NL>  <NL>  / / paint a white background <NL> g . set color ( color . white ) ;  <NL> g . fill rect ( 0 , 0 , diagram . diagram _ canvas _ width ,  <NL> diagram . diagram _ canvas _ height ) ;  <NL>  <NL>  / / clear selection <NL> this . diagram . cancel selection ( ) ;  <NL>  <NL>  / / paint the diagram <NL> this . diagram . paint ( g ) ;  <NL> g . dispose ( ) ;  <NL>  <NL>  / / repaint the diagram - we have cleared the selection <NL> this . diagram panel . repaint ( ) ;  <NL>  <NL> return image . get subimage ( rect . x , rect . y , rect . width , rect . height ) ;  <NL>  }  COM: <s> gets an image that represents the diagram for image export </s>