TDAT: private int index of ( int code ) {  <NL>  / / local copy of store , for efficiency <NL> int [ ] tree = this . tree ;  <NL>  / / current search position <NL> int old index plus offset = code & root _ mask ;  <NL> int index = tree [ old index plus offset ] ;  <NL> if ( index > 0 ) {  <NL> code > > > = root _ resolution ;  <NL> index = tree [ old index plus offset = ( index + ( code & mask ) ) ] ;  <NL> while ( index > 0 ) {  <NL> code > > > = resolution ;  <NL> index = tree [ old index plus offset = ( index + ( code & mask ) ) ] ;  <NL>  }  <NL>  }  <NL> return old index plus offset ;  <NL>  }  COM: <s> returns an index in </s>