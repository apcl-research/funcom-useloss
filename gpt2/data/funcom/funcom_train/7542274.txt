TDAT: public edit create edit ( int offset , int length , string text ) throws bad location exception {  <NL>  <NL> if ( ! f document . contains position category ( f category ) ) {  <NL> f document . add position category ( f category ) ;  <NL> f updater = new default position updater ( f category ) ;  <NL> f document . add position updater ( f updater ) ;  <NL>  }  <NL>  <NL> position position = new position ( offset ) ;  <NL> try {  <NL> f document . add position ( f category , position ) ;  <NL>  } catch ( bad position category exception e ) {  <NL> assert . is true ( false ) ;  <NL>  }  <NL> return new edit ( f document , length , text , position ) ;  <NL>  }  COM: <s> creates a new edition on the document of this factory </s>