TDAT: public void insert transaction ( global transaction gt ) throws system exception {  <NL> boolean okay = false ;  <NL> connection conn = get connection ( ) ;  <NL> try {  <NL> insert global transaction ( gt , conn ) ;  <NL> for ( int i = 0 ; i < gt . get num branches ( ) ; i + + ) {  <NL> branch transaction bt = gt . get branch ( i ) ;  <NL> insert transaction branch ( gt , bt , conn ) ;  <NL>  }  <NL> okay = true ;  <NL>  } finally {  <NL> try {  <NL> if ( okay ) {  <NL> conn . commit ( ) ;  <NL>  } else {  <NL> conn . rollback ( ) ;  <NL>  }  <NL>  } catch ( sql exception e ) {  <NL> system exception se = new system exception ( messages . elogxid ) ;  <NL> se . init cause ( e ) ;  <NL> throw se ;  <NL>  } finally {  <NL> sql util . close ( conn ) ;  <NL>  }  <NL>  }  <NL>  }  COM: <s> insert a new transaction </s>