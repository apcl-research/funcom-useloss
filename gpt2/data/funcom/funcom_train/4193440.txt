TDAT: public void on connection terminated ( tcp connection tcp _ conn , exception error )  <NL>  { if ( listener ! = null ) listener . on transport terminated ( this , error ) ;  <NL> tcp socket socket = tcp _ conn . get socket ( ) ;  <NL> if ( socket ! = null ) try { socket . close ( ) ; } catch ( exception e ) { }  <NL> this . tcp _ conn = null ;  <NL> this . listener = null ;  <NL>  }  COM: <s> when tcp connection terminates </s>