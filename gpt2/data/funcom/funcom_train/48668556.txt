TDAT: public void apply highlight ( styled document doc , int start , int length ) {  <NL>  <NL>  / / first set a default style for whole document <NL> doc . set character attributes ( start , length ,  <NL> get default style ( ) , true ) ;  <NL>  <NL>  / / parse range looking for tokens to highlight <NL> linked list < parsed token > pts = parse ( doc , start , length ) ;  <NL>  <NL>  / / now set colors for found tokens <NL> attribute set [ ] styles = get styles ( ) ;  <NL> for ( parsed token pt : pts ) {  <NL> doc . set character attributes ( pt . start , pt . length ,  <NL> styles [ pt . type ] , false ) ;  <NL>  }  <NL>  }  COM: <s> removes existing highlight parses text looking for tokens and </s>