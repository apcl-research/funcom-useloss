TDAT: public void shutdown ( ) throws exception {  <NL>  <NL> if ( state ! = state . alive ) {  <NL> throw new runtime exception ( " can only kill alive plugins ! " ) ;  <NL>  }  <NL>  <NL> state = state . zombie ;  <NL>  <NL> get xml config ( ) . remove property change listener ( property active listener ) ;  <NL>  <NL> if ( needs metrics ( ) ) {  <NL> get xml config ( ) . remove property change listener ( plugin xml config . propertyname _ active , metric support property change listener ) ;  <NL>  }  <NL>  <NL>  / / stop the consumer thread <NL> stop packet consumer thread ( ) ;  <NL>  }  COM: <s> is called before the plug in is removed or before spyglass shuts down </s>