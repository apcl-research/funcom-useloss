TDAT: private dimension get scaled width ( rendered image image , int max width , int max height ) {  <NL> int img width = image . get width ( ) ;  <NL> int img height = image . get height ( ) ;  <NL>  <NL> double scale = 1 . 0d ;  <NL>  <NL> if ( img height > max height ) {  <NL> scale = ( double ) max height / ( double ) img height ;  <NL>  }  <NL>  <NL> int new width = ( int ) ( img width * scale ) ;  <NL>  <NL> return new dimension ( new width , max height ) ;  <NL>  <NL>  }  COM: <s> this method calculates the propprtional relation in the given max dimension </s>