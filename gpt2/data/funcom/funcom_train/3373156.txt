TDAT: private void end block ( int end token ) {  <NL> int start token ;  <NL>  <NL> switch ( end token ) {  <NL> case bracket _ close :  <NL> start token = bracket _ open ;  <NL> break ;  <NL> case brace _ close :  <NL> start token = brace _ open ;  <NL> break ;  <NL> case paren _ close :  <NL> start token = paren _ open ;  <NL> break ;  <NL> default :  <NL>  / / will never happen .  <NL> start token = - 1 ;  <NL> break ;  <NL>  }  <NL> if ( stack count > 0 & & unit stack [ stack count - 1 ] = = start token ) {  <NL> stack count - - ;  <NL>  }  <NL> else {  <NL>  / / invalid state , should do something .  <NL> throw new runtime exception ( " unmatched block " ) ;  <NL>  }  <NL>  }  COM: <s> called when an end block is encountered </s>