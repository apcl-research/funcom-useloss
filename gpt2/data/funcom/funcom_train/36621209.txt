TDAT: public void wait until ( long x ) {  <NL> long wake time = machine . timer ( ) . get time ( ) + x ;  <NL> boolean init status = machine . interrupt ( ) . disable ( ) ;  <NL>  <NL> time thread current tt = new time thread ( wake time , k thread . current thread ( ) ) ;  <NL> if ( wait times = = null )  <NL> wait times = new priority queue < time thread > ( ) ;  <NL> wait times . add ( current tt ) ;  <NL> k thread . sleep ( ) ;  <NL> machine . interrupt ( ) . restore ( init status ) ;  <NL>  / / timer interrupt ( ) ;  <NL>  }  COM: <s> put the current thread to sleep for at least i x i ticks </s>