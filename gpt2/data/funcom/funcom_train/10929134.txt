TDAT: protected cmis service factory get service factory ( web service context ws context ) {  <NL> servlet context servlet context = ( servlet context ) ws context . get message context ( ) . get (  <NL> message context . servlet _ context ) ;  <NL>  <NL>  / / get services factory <NL> cmis service factory factory = ( cmis service factory ) servlet context <NL>  . get attribute ( cmis repository context listener . services _ factory ) ;  <NL>  <NL> if ( factory = = null ) {  <NL> throw new cmis runtime exception ( " service factory not available ! configuration problem ? " ) ;  <NL>  }  <NL>  <NL> return factory ;  <NL>  }  COM: <s> returns the services factory </s>