TDAT: private void update dependencies ( ) {  <NL>  / / deregisters as dependent with each old precedent <NL> for ( cell precedent : precedents )  <NL>  ( ( cell impl ) precedent ) . remove dependent ( this ) ;  <NL> precedents . clear ( ) ;  <NL>  <NL> if ( formula ! = null )  <NL>  / / registers as dependent with each new precedent <NL> for ( reference reference : formula . get references ( ) )  <NL> for ( cell precedent : reference . get cells ( ) ) {  <NL> if ( ! this . equals ( precedent ) ) {  <NL> precedents . add ( precedent ) ;  <NL>  ( ( cell impl ) precedent ) . add dependent ( this ) ;  <NL>  }  <NL>  }  <NL>  }  COM: <s> updates the cells dependencies </s>