TDAT: private string make thumbname ( file file , file dest dir ) {  <NL> if ( file = = null ) return null ;  <NL> string name = util . encode filename ( file . get name ( ) ) ;  <NL> if ( ( new file ( dest dir , " thumb " ) . exists ( ) ) ) {  <NL> name = " thumb / " + name ;  <NL>  }  <NL> return name ;  <NL>  }  COM: <s> makes a canonical thumbfilename out of a possibly messy input filename </s>