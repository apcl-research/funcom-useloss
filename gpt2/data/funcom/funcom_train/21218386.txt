TDAT: public int control read ( ) {  <NL>  / / reset flag <NL> first byte = true ;  <NL>  <NL>  / / create copy , as we ' ll need to clear bits of status reg <NL> int statuscopy = status ;  <NL>  <NL>  / / clear b7 , b6 , b5 when status register read <NL> status & = ~ 0x80 & ~ 0x40 & ~ 0x20 ;  <NL>  <NL>  / / clear pending interrupts <NL> lineint = false ;  <NL> frameint = false ;  <NL>  <NL>  / / clear irq line <NL> irq . set line ( false ) ;  <NL>  <NL> return statuscopy ;  <NL>  }  COM: <s> read vdp control port code 0x bf code </s>