TDAT: public double similarity ( instance instance1 , instance instance2 ) throws exception {  <NL>  / / either pass the computation to the external classifier , or do the work yourself <NL> if ( m _ trainable & & m _ external & & m _ trained ) {  <NL> return m _ metric learner . get similarity ( instance1 , instance2 ) ;  <NL>  } else {  <NL> return similarity internal ( instance1 , instance2 ) ;  <NL>  }  <NL>  }  COM: <s> returns a dot product similarity value between two instances </s>