TDAT: public set all classes ( ) {  <NL> reference . lookup . before lookup ( reference . template ) ;  <NL>  <NL> set s = get classes cache ( ) ;  <NL>  <NL> if ( s ! = null ) {  <NL> return s ;  <NL>  }  <NL>  <NL> s = new hash set ( ) ;  <NL>  <NL> iterator it = all items without before lookup ( ) . iterator ( ) ;  <NL>  <NL> while ( it . has next ( ) ) {  <NL> item item = ( item ) it . next ( ) ;  <NL> class clazz = item . get type ( ) ;  <NL>  <NL> if ( clazz ! = null ) {  <NL> s . add ( clazz ) ;  <NL>  }  <NL>  }  <NL>  <NL> s = collections . unmodifiable set ( s ) ;  <NL> set classes cache ( s ) ;  <NL>  <NL> return s ;  <NL>  }  COM: <s> set of all classes </s>