TDAT: protected void commit global transaction ( ) {  <NL> list < entity > journals = put journals ( ) ;  <NL> commit global transaction internally ( ) ;  <NL> journal . apply ( ds , journals ) ;  <NL> lock . delete without tx ( ds , lock map . values ( ) ) ;  <NL> datastore util . delete ( ds , null , arrays . as list ( global transaction key ) ) ;  <NL>  }  COM: <s> commits this transaction as global transaction </s>