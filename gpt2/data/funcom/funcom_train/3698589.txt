TDAT: public boolean is allowed to speak ( user user ) throws irc exception {  <NL> try {  <NL> rights rights = get rights ( user . get nick name ( ) ) ;  <NL> if ( rights . is operator ( ) || ! is type moderated ( ) || rights . is able to speak if moderated ( ) ) {  <NL> return true ;  <NL>  }  <NL>  } catch ( irc exception e ) {  <NL> if ( ! is type client inside only ( ) ) {  <NL> return true ;  <NL>  }  <NL>  }  <NL> throw new irc exception ( replies . err _ cannotsendtochan , new string [ ] { get name ( ) } ) ;  <NL>  }  COM: <s> to know if the user is allowed to speak on the channel </s>