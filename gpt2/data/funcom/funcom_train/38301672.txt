TDAT: protected string replace ( string str , string pattern , string replace with ) {  <NL> int s = 0 ;  <NL> int e = 0 ;  <NL> string buffer result = new string buffer ( ) ;  <NL>  <NL> while ( ( e = str . index of ( pattern , s ) ) > = 0 ) {  <NL> result . append ( str . substring ( s , e ) ) ;  <NL> if ( replace with ! = null )  <NL> result . append ( replace with ) ;  <NL> s = e + pattern . length ( ) ;  <NL>  }  <NL> result . append ( str . substring ( s ) ) ;  <NL> return result . to string ( ) ;  <NL>  }  COM: <s> replaces all occurences of a code pattern code in code str code </s>