TDAT: public void on message ( message recv msg ) {  <NL>  <NL> service locator sl = new service locator ( ) ;  <NL> boolean sendmail = sl . get boolean ( jndi names . send _ mail ) ;  <NL>  <NL> try {  <NL> text message recd tm = ( text message ) recv msg ;  <NL> mail mail = ( mail ) marshaller . unmarshal ( new string source ( recd tm . get text ( ) ) ) ;  <NL> if ( sendmail ) {  <NL> do work ( mail ) ;  <NL>  } else {  <NL> logger . info ( " received mail message . \n " + mail ) ;  <NL>  }  <NL>  } catch ( exception je ) {  <NL> throw new ejb exception ( je ) ;  <NL>  }  <NL>  }  COM: <s> receive a jms message containing the order that is completed generate </s>