TDAT: public void run ( ) {  <NL> string ip ;  <NL> context change event event ;  <NL> while ( true ) {  <NL> try {  <NL> ip = inet address . get local host ( ) . get host address ( ) ;  <NL>  <NL> if ( ! this . ip address . equals ( ip ) ) {  <NL> this . ip address = ip ;  <NL> event = new context change event ( this , " ip " , this . ip address , " " , " environment " ) ;  <NL> for ( local context change listener li : this . lis ) {  <NL> li . send local context ( event ) ;  <NL>  }  <NL>  }  <NL> thread . sleep ( this . frequency ) ;  <NL>  } catch ( interrupted exception e ) {  <NL> e . print stack trace ( ) ;  <NL>  } catch ( exception e ) {  <NL> e . print stack trace ( ) ;  <NL>  }  <NL>  }  <NL>  }  COM: <s> implement ip detection logic in this method </s>