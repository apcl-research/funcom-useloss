TDAT: private long get offset ( output stream out ) throws io exception {  <NL> if ( out instanceof byte array output stream ) {  <NL> return ( ( byte array output stream ) out ) . size ( ) ;  <NL>  } else if ( out instanceof seekable output stream ) {  <NL> return ( ( seekable output stream ) out ) . get file pointer ( ) ;  <NL>  } else {  <NL>  / / shouldn ' t happen .  <NL> throw new illegal state exception ( ) ;  <NL>  }  <NL>  }  COM: <s> returns the current offset in the supplied output stream </s>