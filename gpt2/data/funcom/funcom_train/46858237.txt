TDAT: private terrain get best matching terrain ( tile base tile , terrain user chosen terrain ) {  <NL> terrain matching terrain ;  <NL>  <NL> if ( ! store surrounding tile information ( base tile , user chosen terrain ) ) return null ;  <NL>  <NL> if ( is over river ( user chosen terrain ) ) {  <NL> matching terrain = get bridge ( ) ;  <NL>  } else {  <NL> matching terrain = get match ( perfect matching terrains , matching terrains ) ;  <NL>  }  <NL>  <NL> return matching terrain ;  <NL>  }  COM: <s> performance could be improved by returning when a match was found </s>