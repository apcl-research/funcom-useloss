TDAT: public core image filter ( core image input ) {  <NL> core image old input = get input ( ) ;  <NL>  / / set input so that get width ( ) , etc . is correct .  <NL> set input ( input ) ;  <NL> core image new output = image cache . instance . get ( get width ( ) , get height ( ) , is opaque ( ) ) ;  <NL> filter ( input , new output ) ;  <NL> set input ( old input ) ;  <NL> return new output ;  <NL>  }  COM: <s> performs this filter on the input image onto a newly created output image </s>