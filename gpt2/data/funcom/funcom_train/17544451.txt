TDAT: public file lock lock ( ) throws io exception {  <NL> file lock current = get lock ( ) ;  <NL> if ( current ! = null ) {  <NL> throw new file already locked exception ( " file is already locked by [ " + current + " ] . " ) ; / / no18n <NL>  }  <NL> file lock l = new file lock ( ) ;  <NL> lock reference = new weak reference ( l ) ;  <NL> return l ;  <NL>  }  COM: <s> taking the lock from the file </s>