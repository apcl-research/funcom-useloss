TDAT: public long process batch ( ) {  <NL>  <NL> batch < submission id type > batch = this . get batch ( ) ;  <NL> iterator < work unit < submission id type > > itr = batch . iterator ( ) ;  <NL> while ( itr . has next ( ) ) {  <NL> work unit < submission id type > unit = itr . next ( ) ;  <NL>  / / do some work here <NL> unit . set processing status ( work unit . processing status . success ) ;  <NL>  }  <NL>  <NL> return this . get work units processed ( ) ;  <NL>  }  COM: <s> process a batch of work units </s>