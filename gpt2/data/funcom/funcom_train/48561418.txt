TDAT: public void send room ( user object user , json object json ) {  <NL> json array a = new json array ( ) ;  <NL> a . add ( " on message room " ) ;  <NL>  <NL> json object o = new json object ( ) ;  <NL> o . put ( " username " , user . _ username ) ;  <NL> o . put ( " message " , json . get ( " _ message " ) ) ;  <NL>  <NL> a . add ( o ) ;  <NL>  <NL> for ( int i = 0 ; i < _ threads . size ( ) ; i + + ) {  <NL> synchronized ( _ threads ) {  <NL>  <NL> thread handler handler =  <NL>  ( thread handler ) _ threads . element at ( i ) ;  <NL> handler . send ( a ) ;  <NL>  }  <NL>  }  <NL>  }  COM: <s> sends a chat message to the room </s>