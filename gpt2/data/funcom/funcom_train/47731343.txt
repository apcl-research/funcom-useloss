TDAT: protected void finish main record ( ) throws io exception , solr server exception {  <NL>  / / store document <NL> log . debug ( " end of document , storing it " ) ;  <NL> finishfield ( " file " , new string buffer ( doc startbyte + " - " + nbytesread ) ) ;  <NL> nb docs + + ;  <NL> nb docsto commit + + ;  <NL> index mngr . filter doc ( doc ) ;  <NL> index mngr . get server ( ) . add ( doc ) ;  <NL> if ( nb docsto commit > = constants . maxcommits ) {  <NL> index mngr . get server ( ) . commit ( ) ;  <NL> nb docsto commit = 0 ;  <NL>  }  <NL>  }  COM: <s> add document to index server parsing of current document is over </s>