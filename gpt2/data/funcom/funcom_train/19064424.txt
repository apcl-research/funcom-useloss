TDAT: private void set character format ( attribute set attr ) {  <NL>  / / get information on current selection <NL> int sel start = get selection start ( ) ;  <NL> int sel end = get selection end ( ) ;  <NL> int sel length = sel end - sel start ;  <NL>  <NL>  / / set format on current selection if any <NL> if ( sel length ! = 0 ) {  <NL> html doc . set character attributes ( sel start , sel length , attr , false ) ;  <NL>  }  <NL>  <NL>  / / set format on " input attributes " , so the following text is same <NL>  / / format <NL> mutable attribute set input attr = html kit . get input attributes ( ) ;  <NL> input attr . add attributes ( attr ) ;  <NL>  }  COM: <s> private utility for setting character format on current selection and on </s>