TDAT: public l value foreach ( lua state vm , l function function , boolean indexedonly ) {  <NL>  <NL> l value key = l nil . nil ;  <NL> while ( true ) {  <NL>  / / push function onto stack <NL> vm . resettop ( ) ;  <NL> vm . pushlvalue ( function ) ;  <NL>  <NL>  / / get next value <NL> if ( ! next ( vm , key , indexedonly ) )  <NL> return l nil . nil ;  <NL> key = vm . topointer ( 2 ) ;  <NL>  <NL>  / / call function <NL> vm . call ( 2 , 1 ) ;  <NL> if ( ! vm . isnil ( - 1 ) )  <NL> return vm . poplvalue ( ) ;  <NL>  }  <NL>  }  COM: <s> executes the given f over all elements of table </s>