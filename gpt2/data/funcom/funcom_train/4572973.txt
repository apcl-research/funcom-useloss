TDAT: protected void commit two phase ( ) {  <NL> final vote vote result = prepare for two phase ( ) ;  <NL> if ( vote result = = vote . readonly ) {  <NL> set committed status ( ) ;  <NL>  } else if ( vote result = = vote . commit ) {  <NL> commit two phase really ( ) ;  <NL>  } else if ( vote result = = vote . rollback ) {  <NL> set marked rollback status ( ) ;  <NL>  } else if ( vote result = = vote . unknown ) {  <NL> set marked rollback status ( ) ;  <NL>  }  <NL>  }  COM: <s> trying to commit two phase with resource managers </s>