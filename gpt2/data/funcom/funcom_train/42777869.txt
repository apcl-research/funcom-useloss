TDAT: public void after invoke ( tiira call result call result ) {  <NL> transaction status status = current status . get ( ) ;  <NL> if ( call level . get ( ) . equals ( transaction handler level . get ( ) ) ) { / / first service - call will commit or rollback <NL> object obj = call result . get result ( ) ;  <NL> if ( obj instanceof exception ) {  <NL> rollback transaction ( status ) ;  <NL>  } else {  <NL> commit transaction ( status ) ;  <NL>  }  <NL> current status . remove ( ) ;  <NL> call level . remove ( ) ;  <NL> transaction handler level . remove ( ) ;  <NL>  }  <NL> call level . set ( call level . get ( ) - 1 ) ;  <NL>  }  COM: <s> commits transaction if this service call started the transaction </s>