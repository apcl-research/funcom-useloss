TDAT: public size2d calculate dimensions ( final canvas g2 ) {  <NL> double width = 0 . 0 ;  <NL> double height = 0 . 0 ;  <NL> final iterator iterator = this . fragments . iterator ( ) ;  <NL> while ( iterator . has next ( ) ) {  <NL> final text fragment fragment = ( text fragment ) iterator . next ( ) ;  <NL> final size2d dimension = fragment . calculate dimensions ( g2 ) ;  <NL> width = width + dimension . get width ( ) ;  <NL> height = math . max ( height , dimension . get height ( ) ) ;  <NL>  <NL>  }  <NL> return new size2d ( width , height ) ;  <NL>  }  COM: <s> calculates the width and height of the text line </s>