TDAT: private string get encoding ( i text editor editor ) {  <NL>  <NL> i editor input input = ( editor . get editor input ( ) ) ;  <NL> if ( input instanceof i file editor input ) {  <NL> i file file = ( ( i file editor input ) input ) . get file ( ) ;  <NL> try {  <NL> string explicit encoding ;  <NL> explicit encoding = file . get charset ( false ) ;  <NL> if ( explicit encoding = = null )  <NL> return null ;  <NL>  } catch ( core exception e ) {  <NL>  / / continue - assume file is not using default encoding <NL>  }  <NL>  }  <NL>  <NL> i encoding support s = get encoding support ( ) ;  <NL> if ( s ! = null )  <NL> return s . get encoding ( ) ;  <NL>  <NL> return null ;  <NL>  }  COM: <s> returns the encoding currently used in the given editor </s>