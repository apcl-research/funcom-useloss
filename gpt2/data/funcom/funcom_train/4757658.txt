TDAT: public te x formula add ( atom el ) {  <NL> if ( el ! = null ) {  <NL> if ( el instanceof middle atom )  <NL> middle . add ( ( middle atom ) el ) ;  <NL> if ( root = = null )  <NL> root = el ;  <NL> else {  <NL> if ( ! ( root instanceof row atom ) )  <NL> root = new row atom ( root ) ;  <NL>  ( ( row atom ) root ) . add ( el ) ;  <NL>  }  <NL>  }  <NL> return this ;  <NL>  }  COM: <s> inserts an atom at the end of the current formula </s>