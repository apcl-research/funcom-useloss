TDAT: private void update save offsets ( format token position format start position ) {  <NL> if ( first set ! = null ) { / / it has only sense if there are any save - sets <NL> format writer . format token item ti = ( format writer . format token item ) format start position <NL>  . get token ( ) ;  <NL> int offset = - format start position . get offset ( ) ;  <NL>  <NL> while ( ti ! = null ) {  <NL> ti . set save offset ( offset ) ;  <NL> offset + = ti . get image ( ) . length ( ) ;  <NL>  <NL> ti = ( format writer . format token item ) ti . get next ( ) ;  <NL>  }  <NL>  }  <NL>  }  COM: <s> number the tokens so that they are ok for finding out the offsets </s>