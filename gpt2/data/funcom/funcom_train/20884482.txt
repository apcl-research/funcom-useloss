TDAT: public void add new user ( user user ) throws cms exception , cms data validation exception {  <NL> if ( _ cms db query . is user name exists ( user . get user name ( ) )  <NL> || _ cms db query . is email exists ( user . get email ( ) ) ) {  <NL> throw new cms data validation exception ( " username or email already exists " ) ;  <NL>  }  <NL> validate user ( user ) ;  <NL> encrypt password ( user ) ;  <NL>  _ em . persist ( user ) ;  <NL>  }  COM: <s> add a new user to the database </s>