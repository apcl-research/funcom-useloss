TDAT: public int get count ( int count ) throws data source exception {  <NL> try {  <NL> if ( channel = = null )  <NL> return - 1 ;  <NL> count = 0 ;  <NL>  <NL> for ( int tmp = read record ( ) ; tmp ! = - 1 ; tmp = read record ( ) )  <NL> count + = tmp ;  <NL>  <NL>  } catch ( io exception ioe ) {  <NL> count = - 1 ;  <NL>  / / what now ? this seems arbitrarily appropriate !  <NL> throw new data source exception ( " problem reading shapefile record " ,  <NL> ioe ) ;  <NL>  }  <NL> return count ;  <NL>  }  COM: <s> parses the shpfile counting the records </s>