TDAT: public void add history ( history state history state ) {  <NL> validate ( history state ) ;  <NL> synchronized ( pending history state list ) {  <NL> history state list . add ( history state ) ;  <NL> pending history state list . add ( history state ) ;  <NL>  / /  <NL>  / / if our current history undoredo is at the end of the list <NL>  / / already then increment otherwise leave it alone <NL> if ( current history index = = ( history state list . size ( ) - 2 ) ) {  <NL> current history index = history state list . size ( ) - 1 ;  <NL>  }  <NL>  }  <NL> fire property change ( history _ changed _ property , null , null ) ;  <NL>  }  COM: <s> this adds a new code history state code object </s>