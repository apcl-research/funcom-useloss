TDAT: public position compute collapsed region anchor ( position position ) {  <NL> try {  <NL> i document document = get document ( ) ;  <NL> if ( document = = null )  <NL> return null ;  <NL>  <NL> int caption offset = position . get offset ( ) ;  <NL> if ( position instanceof i projection position )  <NL> caption offset + = ( ( i projection position ) position ) . compute caption offset ( document ) ;  <NL>  <NL> i region line info = document . get line information of offset ( caption offset ) ;  <NL> return new position ( line info . get offset ( ) + line info . get length ( ) , 0 ) ;  <NL>  } catch ( bad location exception x ) {  <NL>  }  <NL> return null ;  <NL>  }  COM: <s> computes the collapsed region anchor for the given position </s>