TDAT: public void write ( output node node , object source ) throws exception {  <NL> class type = source . get class ( ) ;  <NL> schema schema = context . get schema ( type ) ;  <NL> caller caller = schema . get caller ( ) ;  <NL>  <NL> try {  <NL> if ( schema . is primitive ( ) ) {  <NL> primitive . write ( node , source ) ;  <NL>  } else {  <NL> caller . persist ( source ) ;  <NL> write ( node , source , schema ) ;  <NL>  }  <NL>  } finally {  <NL> caller . complete ( source ) ;  <NL>  }  <NL>  }  COM: <s> this code write code method is used to perform serialization of </s>