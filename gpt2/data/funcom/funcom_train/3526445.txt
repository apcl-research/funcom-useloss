TDAT: protected connection get current connection ( ) throws service access exception {  <NL>  <NL> get logger ( ) . log ( " getting current connection for thread " + thread . current thread ( ) , log _ channel , logger . debug ) ;  <NL> transaction id id = get active transaction context ( ) ;  <NL> if ( id = = null ) {  <NL> get logger ( ) . log ( " no id for current thread - called outside transaction ? " , log _ channel , logger . debug ) ;  <NL> return null ;  <NL>  }  <NL> return id . connection ;  <NL>  }  COM: <s> get the connection object associated with the current transaction </s>