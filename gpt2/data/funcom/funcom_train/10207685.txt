TDAT: protected void sub append ( final logging event event ) {  <NL> write ( layout . format ( event ) ) ;  <NL>  <NL> if ( layout . ignores throwable ( ) ) {  <NL> final string s = event . get throwable str ( ) ;  <NL> if ( s ! = null ) {  <NL> write ( s ) ;  <NL>  }  <NL>  }  <NL>  <NL> try {  <NL> w . flush ( ) ;  <NL>  }  <NL> catch ( final io exception e ) {  <NL> error ( " failed to flush " , e ) ;  <NL>  }  <NL>  }  COM: <s> actual writing occurs here </s>