TDAT: static private string appt string ( appointment appt ) {  <NL> string txt = ( appt . get text ( ) . length ( ) < 20 ) ? appt . get text ( ) : appt <NL>  . get text ( ) . substring ( 0 , 19 ) ;  <NL> if ( appt . is encrypted ( ) )  <NL> txt = resource . get resource string ( " encrypted item short " ) ;  <NL> return " [ "  <NL>  + date format . get date instance ( date format . short ) . format (  <NL> appt . get date ( ) ) + " ] " + txt ;  <NL>  }  COM: <s> get a human readable appointment string for this undo item </s>