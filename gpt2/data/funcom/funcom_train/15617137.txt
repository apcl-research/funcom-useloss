TDAT: private string parse template ( parser input parser input , parser output parser output , string raw , int mode ) throws parser exception {  <NL> reader reader = to reader ( raw , true ) ;  <NL> jam wiki template lexer lexer = new jam wiki template lexer ( reader ) ;  <NL> int pre mode = ( mode > j flex parser . mode _ template ) ? j flex parser . mode _ template : mode ;  <NL> return this . lex ( lexer , parser input , parser output , pre mode ) ;  <NL>  }  COM: <s> first stage of the parser this method parses templates and signatures </s>