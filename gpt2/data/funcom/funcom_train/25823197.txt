TDAT: public int read ( ) {  <NL> if ( index = = source . length ( ) )  <NL> return - 1 ;  <NL> else {  <NL> char c = source . char at ( index + + ) ;  <NL> if ( c = = ' # ' ) comment mode = true ;  <NL> else if ( ( c = = ' \n ' ) || ( c = = ' \r ' ) ) comment mode = false ;  <NL>  <NL> if ( comment mode ) return ' ' ;  <NL> else return c ;  <NL>  }  <NL>  }  COM: <s> reads the next character </s>