TDAT: public void handle preferences ( application event ae ) {  <NL> if ( main app ! = null ) {  <NL> new thread ( ) {  <NL> public void run ( ) {  <NL> prefs . do preferences ( ) ;  <NL>  }  <NL>  } . start ( ) ;  <NL> ae . set handled ( true ) ;  <NL>  }  <NL> else {  <NL> throw new illegal state exception (  <NL>  " handle preferences : dx instance detached from listener " ) ;  <NL>  }  <NL>  }  COM: <s> handle the preferences dialog </s>