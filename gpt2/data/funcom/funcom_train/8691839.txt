TDAT: protected map add to name map ( map map , string name , rule rule ) {  <NL> if ( map = = null ) {  <NL> map = new hash map ( ) ;  <NL>  }  <NL>  <NL> rule set rule set = ( rule set ) map . get ( name ) ;  <NL>  <NL> if ( rule set = = null ) {  <NL> rule set = new rule set ( ) ;  <NL> map . put ( name , rule set ) ;  <NL>  }  <NL>  <NL> rule set . add rule ( rule ) ;  <NL>  <NL> return map ;  <NL>  }  COM: <s> adds the rule to a rule set for the given name </s>