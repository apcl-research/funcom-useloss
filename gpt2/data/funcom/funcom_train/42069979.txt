TDAT: public void update log fitness ( genome genome ) {  <NL> double result = 0 ;  <NL>  <NL> fitness genome cache cache = genome . get fitness cache ( ) ;  <NL>  <NL> int i = 0 ;  <NL> for ( fitness factor factor : factors ) {  <NL> double contrib = cache . factor contributions [ i ] ;  <NL>  <NL> if ( recompute factor [ i ] ) {  <NL> feature feature = factor . get feature ( ) ;  <NL> byte [ ] sequence = genome . get states ( feature ) ;  <NL> contrib = factor . compute log fitness ( sequence ) ;  <NL>  }  <NL>  <NL> cache . factor contributions [ i ] = contrib ;  <NL> result + = contrib ;  <NL> i + + ;  <NL>  }  <NL>  <NL> genome . set log fitness ( result ) ;  <NL>  <NL>  }  COM: <s> update all the fitness factors that have to recompute </s>