TDAT: private void flush internal ( ) throws io exception {  <NL> long to wait for ;  <NL> synchronized ( this ) {  <NL> dfs client . check open ( ) ;  <NL> is closed ( ) ;  <NL>  / /  <NL>  / / if there is data in the current buffer , send it across <NL>  / /  <NL> queue current packet ( ) ;  <NL> to wait for = last queued seqno ;  <NL>  }  <NL>  <NL> wait for acked seqno ( to wait for ) ;  <NL>  }  COM: <s> waits till all existing data is flushed and confirmations </s>