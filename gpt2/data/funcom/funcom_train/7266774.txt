TDAT: public long get end offset ( long total size ) {  <NL> if ( total size < 0 ) {  <NL> throw new illegal argument exception ( " total size must be > = 0 " ) ;  <NL>  }  <NL>  <NL> if ( start offset > = 0 ) {  <NL> if ( end offset > = 0 & & end offset < total size ) {  <NL> return end offset ;  <NL>  } else {  <NL> return total size - 1 ;  <NL>  }  <NL>  }  <NL>  / / format is - n , meaning return last n bytes <NL> return total size - 1 ;  <NL>  }  COM: <s> returns the inclusive end offset </s>