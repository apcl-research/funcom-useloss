TDAT: private void array ( iterator it , method method ) throws json exception {  <NL> this . add ( " [ " ) ;  <NL>  <NL> boolean has data = false ;  <NL> for ( int i = 0 ; it . has next ( ) ; i + + ) {  <NL> string expr = null ;  <NL> if ( this . build expr ) {  <NL> expr = this . expand expr ( i ) ;  <NL> if ( this . should exclude property ( expr ) ) {  <NL> continue ;  <NL>  }  <NL> expr = this . set expr stack ( expr ) ;  <NL>  }  <NL> if ( has data ) {  <NL> this . add ( ' , ' ) ;  <NL>  }  <NL> has data = true ;  <NL> this . value ( it . next ( ) , method ) ;  <NL> if ( this . build expr ) {  <NL> this . set expr stack ( expr ) ;  <NL>  }  <NL>  }  <NL>  <NL> this . add ( " ] " ) ;  <NL>  }  COM: <s> add array to buffer </s>