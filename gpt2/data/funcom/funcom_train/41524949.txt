TDAT: private study find or create study ( patient info info , patient patient ) {  <NL> study result = null ;  <NL> boolean save study = false ;  <NL>  <NL> if ( info ! = null ) {  <NL>  <NL>  / / search or create study <NL> result = study dao . find study in patient ( patient . get code ( ) , info . get study ( ) ) ;  <NL>  <NL> if ( result = = null ) {  <NL> save study = true ;  <NL> result = new study ( ) ;  <NL> result . set date ( new date ( ) ) ;  <NL> result . set hospital id ( info . get study ( ) ) ;  <NL> patient . add study ( result ) ;  <NL>  }  <NL>  <NL>  / / persist new patient and / or study only if necessary <NL> if ( save study )  <NL> study dao . persist ( result ) ;  <NL>  }  <NL>  <NL> return result ;  <NL>  }  COM: <s> it search study using infos identifiers if study doesnt </s>