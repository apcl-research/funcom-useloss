TDAT: private void check4completion ( string protocol type ) {  <NL>  / / check for completion ( bacc ) :  <NL> if ( protocol type <NL>  . equals ( coordinator constants . ws _ ba _ with _ coordinator _ completion )  <NL>  & & ! itree . has pending registrations ( )  <NL>  & & ! itree . has pending choice sets ( ) ) {  <NL>  / / send notfications to participants <NL> int completing participants = send notification thread ( protocol type ,  <NL>  " complete " , itree . get completion set ( ) ,  <NL> participant status . status _ active ,  <NL> participant status . status _ ba _ completing ) ;  <NL> send notification thread ( protocol type , " cancel " ,  <NL> itree . get cancel set ( ) , participant status . status _ active ,  <NL> participant status . status _ ba _ canceling ) ;  <NL> itree . set expected finishing answers ( completing participants ) ;  <NL>  }  <NL>  }  COM: <s> helper method checks if sending of complete or cancel is possible </s>