TDAT: public void action performed ( action event e ) {  <NL> if ( associated editor ! = null ) {  <NL>  / / allow deletion only if there is more than one shape <NL> if ( associated shape map . get shapes ( ) . size ( ) > 1 ) {  <NL> associated shape map . get shapes ( ) . remove (  <NL> associated editor . shape ) ;  <NL>  <NL> rebuild editor panels ( ) ;  <NL>  / / notify possible subclasses that something has <NL>  / / changed <NL> something has changed ( ) ;  <NL>  } else {  <NL> j option pane . show message dialog ( null ,  <NL>  " cannot delete last shape . " , " error " ,  <NL> j option pane . error _ message ) ;  <NL>  }  <NL>  }  <NL>  }  COM: <s> this code is called when a shape node is deleted </s>