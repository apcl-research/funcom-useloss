TDAT: private void annotate ( final compiler state state , final int depth ) {  <NL> stack < expr > scopes = state . get scopes ( ) ;  <NL> for ( int j = scopes . size ( ) - 1 ; j > depth ; j - - ) {  <NL> expr e = scopes . element at ( j ) ;  <NL> if ( e instanceof lambda expr ) {  <NL>  ( ( lambda expr ) e ) . add outer ( this ) ;  <NL>  }  <NL>  }  <NL>  }  COM: <s> annotate any functions in scope to the relevant depth with this name </s>