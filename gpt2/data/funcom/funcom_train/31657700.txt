TDAT: private void build index ( ) {  <NL> if ( index ! = null ) {  <NL> return ;  <NL>  }  <NL> index = new hash map < variable , set < triple pattern > > ( ) ;  <NL> iterator < triple pattern > tps = triple patterns . iterator ( ) ;  <NL> while ( tps . has next ( ) ) {  <NL> triple pattern tp = tps . next ( ) ;  <NL> set < triple pattern > siblings = index . get ( tp . get subject ( ) ) ;  <NL> if ( siblings = = null ) {  <NL> siblings = new hash set < triple pattern > ( ) ;  <NL> index . put ( tp . get subject ( ) , siblings ) ;  <NL>  }  <NL> siblings . add ( tp ) ;  <NL>  }  <NL>  }  COM: <s> builds the index </s>