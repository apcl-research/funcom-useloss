TDAT: public mesh compute lighting ( mesh mesh ) {  <NL> mesh result = new mesh ( ) ;  <NL> set < light source > light sources = get light sources ( ) ;  <NL>  <NL> for ( face face : mesh . get faces ( ) ) {  <NL> vector normal = face . get normal ( ) ;  <NL> normal . normalize ( ) ;  <NL>  <NL> vector center = face . get center ( ) ;  <NL> double lighting = 0 ;  <NL>  <NL> for ( light source source : light sources ) {  <NL> vector light = new vector ( vector . o ) ;  <NL> source . get transforms ( ) . apply transformations ( light ) ;  <NL> light . subtract ( center ) ;  <NL> light . normalize ( ) ;  <NL>  <NL> double dotproduct = light . dot product ( normal ) ;  <NL>  <NL> if ( dotproduct > 0 ) {  <NL> lighting + = dotproduct ;  <NL>  }  <NL>  }  <NL>  <NL> result . add face ( new face ( face , lighting ) ) ;  <NL>  }  <NL>  <NL> return result ;  <NL>  }  COM: <s> compute the lighting factor for a mesh according to this scenes light </s>