TDAT: public void update shared ( ) {  <NL> final v model ;  <NL> if ( m _ shared = = null ) {  <NL> final v unique = get unique value ( ) ;  <NL> if ( unique = = null ) {  <NL> model = m _ factory . apply ( null ) ;  <NL>  } else {  <NL>  / * * nothing to do : values are shared already . * /  <NL> return ;  <NL>  }  <NL>  } else {  <NL> model = m _ shared ;  <NL>  }  <NL> for ( k key : m _ map . key set ( ) ) {  <NL> final v value = m _ map . get ( key ) ;  <NL> if ( value ! = null ) {  <NL> m _ copier . copy contents ( model , value ) ;  <NL>  }  <NL>  }  <NL>  }  COM: <s> this method must be called after a modification of the shared view see </s>