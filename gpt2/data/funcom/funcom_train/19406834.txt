TDAT: public map gen rules ( grammar in _ grammar ) throws exception {  <NL> map rules = new tree map ( string . case _ insensitive _ order ) ;  <NL>  <NL> iterator it = m _ transitions . iterator ( ) ;  <NL>  <NL> while ( it . has next ( ) ) {  <NL> transition t = ( transition ) it . next ( ) ;  <NL>  <NL> if ( ! t . get operation ( ) . is implemented ( ) ) {  <NL>  / / operation not yet implemented .  <NL> rule r = t . gen rule ( in _ grammar , this . name ( ) ) ;  <NL> rules . put ( r . get name ( ) , r ) ;  <NL>  }  <NL>  }  <NL> m _ rules . put all ( rules ) ;  <NL> return rules ;  <NL>  }  COM: <s> generates the rules from the statechart </s>