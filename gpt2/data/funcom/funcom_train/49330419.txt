TDAT: private void update text ( ) {  <NL> if ( model ! = null ) {  <NL>  <NL> unit unit = model . get current unit ( ) ;  <NL> if ( show value ) {  <NL> set text ( unit . to string unit ( model . get value ( ) ) ) ;  <NL>  } else {  <NL> set text ( unit . get unit ( ) ) ;  <NL>  }  <NL>  <NL>  } else if ( unit group ! = null ) {  <NL>  <NL> set text ( current unit . get unit ( ) ) ;  <NL>  <NL>  } else {  <NL> throw new illegal state exception ( " both model and unit group are null . " ) ;  <NL>  }  <NL>  }  COM: <s> updates the text of the label </s>