TDAT: public void remove ( address obj ) {  <NL> long key ;  <NL> entry entry ;  <NL>  <NL> synchronized ( msgs ) {  <NL> for ( enumeration e = msgs . keys ( ) ; e . has more elements ( ) ; ) {  <NL> key = ( long ) e . next element ( ) ;  <NL> entry = ( entry ) msgs . get ( key ) ;  <NL>  <NL> synchronized ( entry ) {  <NL> entry . senders . remove ( obj ) ;  <NL> if ( ! entry . all received ( ) ) return ;  <NL>  } / / synchronized ( entry )  <NL>  <NL> synchronized ( stable _ msgs ) {  <NL> entry . cancel ( ) ;  <NL> msgs . remove ( key ) ;  <NL> stable _ msgs . add ( key ) ;  <NL>  } / / synchronized ( stable _ msgs )  <NL>  / / wake up wait until all acks received ( ) method <NL> msgs . notify ( ) ;  <NL>  }  <NL>  } / / synchronized ( msgs )  <NL>  }  COM: <s> remove code obj code from all receiver sets and wake up </s>