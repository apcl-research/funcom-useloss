TDAT: public void compress ( final byte buffer buf , final output stream os ) {  <NL>  <NL> if ( true & & buf . has array ( ) ) {  <NL>  <NL> final int off = buf . array offset ( ) + buf . position ( ) ;  <NL>  <NL> final int len = buf . remaining ( ) ;  <NL>  <NL> compress ( buf . array ( ) , off , len , os ) ;  <NL>  <NL> buf . position ( buf . limit ( ) ) ;  <NL>  <NL> return ;  <NL>  <NL>  }  <NL>  <NL>  / / fixme handle direct buffer and read - only buffer cases .  <NL> throw new unsupported operation exception ( ) ;  <NL>  <NL>  }  COM: <s> writes the buffer on the output stream </s>