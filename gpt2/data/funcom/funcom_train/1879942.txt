TDAT: public void set text ( string new value ) {  <NL> win app . text font ( local font , local font . get font ( ) . get size ( ) ) ;  <NL> text = new value ;  <NL> cursor pos = text . length ( ) ;  <NL> start select = end select = - 1 ;  <NL>  <NL> visible portion start = 0 ;  <NL> visible portion end = text . length ( ) ;  <NL> win app . text font ( local font ) ;  <NL> text width = ( int ) win app . text width ( text ) ;  <NL> if ( text width > width - 12 ) {  <NL> adjust visible portion end ( ) ;  <NL>  }  <NL> event type = set ;  <NL> fire event ( ) ;  <NL>  }  COM: <s> sets the contents of the text box and displays the </s>