TDAT: private void write token data ( ) throws xml stream exception {  <NL> attribute ( " role " , parser . current ( ) . role ( ) . name ( ) ) ;  <NL> attribute ( " token " , parser . current ( ) . token ( ) . token ( ) . kind ( ) . name ( ) ) ;  <NL> attribute ( " control " , parser . current ( ) . token ( ) . kind ( ) . name ( ) ) ;  <NL> if ( parser . current ( ) . token ( ) . token ( ) . kind ( ) = = tokens . newline ) {  <NL>  / / normalize new line to make browser happy <NL> out . write characters ( " \n " ) ;  <NL>  } else {  <NL> out . write characters ( parser . current ( ) . token ( ) . token ( ) . text ( ) ) ;  <NL>  }  <NL>  }  COM: <s> write token data </s>