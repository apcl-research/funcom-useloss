TDAT: public void run ( ) {  <NL> try {  <NL> connection . connect ( ) ;  <NL>  <NL> set maximum ( connection . get content length ( ) ) ;  <NL>  <NL> initialize for download ( ) ;  <NL>  <NL> byte [ ] buffer = new byte [ 2048 ] ;  <NL>  <NL> input stream dta = connection . get input stream ( ) ;  <NL> int cnt = 0 ;  <NL> int total = 0 ;  <NL> while ( ( cnt = dta . read ( buffer ) ) ! = - 1 ) {  <NL> handle incoming data ( buffer , cnt ) ;  <NL> notify listeners ( total + = cnt ) ;  <NL>  }  <NL>  <NL> finalize after download ( ) ;  <NL>  <NL>  } catch ( io exception e ) {  <NL> set maximum ( 0 ) ;  <NL> handle interrupted download ( ) ;  <NL>  <NL>  / / get maximum ( ) to handle the case that subclasses would change the <NL>  / / maximum in the handle .  <NL> notify listeners ( get maximum ( ) ) ;  <NL>  }  <NL>  }  COM: <s> starts the download </s>