TDAT: public void write expression ( expression old exp ) {  <NL> boolean internal = this . internal ;  <NL> this . internal = true ;  <NL> object old value = get value ( old exp ) ;  <NL> if ( get ( old value ) = = null || ( old value instanceof string & & ! internal ) ) {  <NL> get value data ( old value ) . exp = old exp ;  <NL> super . write expression ( old exp ) ;  <NL>  }  <NL> this . internal = internal ;  <NL>  }  COM: <s> records the expression so that the encoder will </s>