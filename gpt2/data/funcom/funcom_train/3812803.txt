TDAT: protected boolean is active ( grammar grammar ) {  <NL> if ( ! grammar . is enabled ( ) ) {  <NL> return false ;  <NL>  } else if ( grammar . get activation mode ( ) = = grammar . global ) {  <NL> return true ;  <NL>  } else if ( test engine state ( focus _ on ) ) {  <NL> if ( grammar . get activation mode ( ) = = grammar . recognizer _ modal ) {  <NL> return true ;  <NL>  } else if ( ! has modal grammars ) {  <NL> return true ;  <NL>  }  <NL>  }  <NL> return false ;  <NL>  }  COM: <s> determine if the given grammar is active </s>