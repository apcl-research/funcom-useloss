TDAT: public joule reduce energy ( joule amount of energy ) {  <NL> if ( current level . get value ( ) > amount of energy . get value ( ) ) {  <NL> current level . substract joule ( amount of energy ) ;  <NL> return new joule ( ) ;  <NL>  } else {  <NL>  / * this energy reservoir collapse ,  <NL>  * some amount of energy cannot be satisfied <NL>  * /  <NL> joule delta = ( joule ) amount of energy . clone ( ) ;  <NL> delta . substract joule ( current level ) ;  <NL> current level = new joule ( ) ;  <NL> return delta ;  <NL>  }  <NL>  }  COM: <s> reduces the amount of energy this energy reservoir can provide </s>