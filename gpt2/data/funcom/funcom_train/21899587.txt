TDAT: private type assign embedded type ( type i type ) {  <NL>  / / check for array <NL> if ( i type instanceof class < ? > ) {  <NL> class < ? > cls = ( class < ? > ) i type ;  <NL> if ( cls . is array ( ) )  <NL> set embedded language type ( cls . get component type ( ) ) ;  <NL>  }  <NL>  <NL> class < ? > emb class = schema helper . get generic class ( i type ) ;  <NL> if ( emb class ! = null ) {  <NL> set embedded language type ( emb class ) ;  <NL>  }  <NL>  <NL> return emb class ! = null ? i type : null ;  <NL>  }  COM: <s> get embedded type using generics reflection </s>