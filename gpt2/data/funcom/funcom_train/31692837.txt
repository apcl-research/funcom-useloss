TDAT: public string to string ( map dictionary ) throws no definition exception {  <NL> string buffer buf = new string buffer ( ) ;  <NL>  <NL> for ( iterator itr = tokens . iterator ( ) ; itr . has next ( ) ; ) {  <NL> object v = itr . next ( ) ;  <NL> if ( v instanceof string ) buf . append ( ( string ) v ) ;  <NL> else <NL> buf . append ( ( ( variable ) v ) . to string ( dictionary ) ) ;  <NL>  }  <NL>  <NL> return buf . to string ( ) ;  <NL>  }  COM: <s> expands all the variables with a given dictionary </s>