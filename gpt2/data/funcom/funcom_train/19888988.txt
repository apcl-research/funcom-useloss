TDAT: public rpc element put ( string key , rpc element value ) {  <NL>  <NL> rpc element element ;  <NL>  <NL> synchronized ( queue ) {  <NL> log . debug ( " received new message ( " + value . get message id ( ) + " ) ( waking up waiting threats ) " ) ;  <NL> element = queue . put ( key , value ) ;  <NL> queue . notify all ( ) ;  <NL>  }  <NL>  <NL> log . debug ( " notify listeners " ) ;  <NL> for ( message queue listener listener : listeners )  <NL> listener . receive rpc element ( element ) ;  <NL>  <NL> return element ;  <NL>  }  COM: <s> put element in internal queue but triggers event to listeners before </s>