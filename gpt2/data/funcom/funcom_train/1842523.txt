TDAT: private int next bin ( ) {  <NL>  / / fast case <NL> int i = last bin ;  <NL> do {  <NL> heap bin = bins [ i ] ;  <NL> if ( ! bin . is empty ( ) & & bin . peek first ( ) . time < bin max ) {  <NL> return last bin = i ;  <NL>  }  <NL> i = ( i + 1 ) % bins . length ;  <NL> bin max + = bin width ;  <NL>  } while ( i ! = last bin ) ;  <NL>  / / linear scan <NL> last bin = min bin ( ) ;  <NL> bin max = bins [ last bin ] . peek first ( ) . time ;  <NL> bin max = bin max - bin max % bin width + bin width ;  <NL> return last bin ;  <NL>  }  COM: <s> scan for and return next bin with an event with the next calendar </s>