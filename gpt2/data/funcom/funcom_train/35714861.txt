TDAT: private int adapt last line ( i source viewer viewer , int last line ) {  <NL> i line differ differ = get differ ( viewer ) ;  <NL> if ( differ ! = null & & last line > 0 ) {  <NL> i line diff info info = differ . get line info ( last line ) ;  <NL> if ( info ! = null & & info . get change type ( ) = = i line diff info . unchanged )  <NL> return last line - 1 ;  <NL>  }  <NL> return last line ;  <NL>  }  COM: <s> adapts the last line to the implementation of code iline diff info code </s>