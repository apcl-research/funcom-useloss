TDAT: public int get price ( list < abstract unit > units , boolean rebate ) {  <NL> int price = 0 ;  <NL> for ( abstract unit unit : units ) {  <NL> int new price = get price ( unit . get unit type ( ) , unit . get role ( ) ) ;  <NL> price + = new price * unit . get number ( ) ;  <NL>  }  <NL> if ( price > player . get gold ( ) & & rebate ) {  <NL> return player . get gold ( ) ;  <NL>  } else {  <NL> return price ;  <NL>  }  <NL>  }  COM: <s> returns the price for the given units </s>