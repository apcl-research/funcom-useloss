TDAT: private void set text state ( ) throws io exception {  <NL> if ( stream state = = text ) {  <NL> return ;  <NL>  } else if ( stream state = = graphics ) {  <NL> writer . get output ( ) . write ( " q " ) ;  <NL> writer . get output ( ) . write ( pdf writer . new line char ) ;  <NL> writer . get output ( ) . write ( " bt " ) ;  <NL> writer . get output ( ) . write ( pdf writer . new line char ) ;  <NL> stream state = text ;  <NL>  } else if ( stream state = = none ) {  <NL> writer . get output ( ) . write ( " bt " ) ;  <NL> writer . get output ( ) . write ( pdf writer . new line char ) ;  <NL> stream state = text ;  <NL>  }  <NL>  }  COM: <s> makes sure the stream state is text </s>