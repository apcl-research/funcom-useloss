TDAT: private state box retrieve state box ( node node ) {  <NL> state box result = state box . get existing instance ( node . get name ( ) ) ;  <NL> if ( result = = null ) {  <NL> state key state = retrieve state key ( node . get name ( ) ) ;  <NL> if ( state ! = null ) {  <NL> result = state box . get instance ( state , node ) ;  <NL>  }  <NL>  }  <NL> return result ;  <NL>  }  COM: <s> retrieve or build as needed as state box for the given node </s>