TDAT: private void ensure free bytes ( int len ) {  <NL> if ( bufsize - offset < len ) {  <NL> int newsize = bufsize * buf _ growth _ factor ;  <NL> if ( newsize - offset < len ) {  <NL> newsize + = len ;  <NL>  }  <NL> byte newbuf [ ] = new byte [ newsize ] ;  <NL>  / / only copy bytes in the range [ 0 , offset )  <NL> system . arraycopy ( buf , 0 , newbuf , 0 , offset ) ;  <NL>  <NL> buf = newbuf ;  <NL> bufsize = newsize ;  <NL>  }  <NL>  }  COM: <s> ensures that there are at least len unused bytes in buf </s>