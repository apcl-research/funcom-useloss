TDAT: public void close ( ) throws io exception {  <NL> flush buffer ( ) ;  <NL>  <NL> long file size = file channel . position ( ) ;  <NL>  <NL> int aiff size = ( int ) ( file size - first chunk position ) ;  <NL> int data size = ( int ) ( file size - data position ) ;  <NL>  <NL> byte buffer buffer = byte buffer . allocate ( integer . size / 8 ) . order ( byte order . little _ endian ) ;  <NL>  <NL> file channel . position ( total size position ) ;  <NL> buffer . put int ( aiff size ) ;  <NL> buffer . flip ( ) ;  <NL> file channel . write ( buffer ) ;  <NL>  <NL> file channel . position ( data chunk size position ) ;  <NL> buffer . clear ( ) ;  <NL> buffer . put int ( data size ) ;  <NL> buffer . flip ( ) ;  <NL> file channel . write ( buffer ) ;  <NL>  <NL> file channel . close ( ) ;  <NL>  }  COM: <s> closes the file </s>