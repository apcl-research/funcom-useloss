TDAT: static public string get charset ( locale loc ) {  <NL> string charset ;  <NL>  <NL>  / / try for a full name match ( may include country )  <NL> charset = ( string ) map . get ( loc . to string ( ) ) ;  <NL> if ( charset ! = null ) return charset ;  <NL>  <NL>  / / if a full name didn ' t match , try just the language <NL> charset = ( string ) map . get ( loc . get language ( ) ) ;  <NL>  <NL> return charset ! = null ? charset : default encoding ; / / tweaked so it doesn ' t return null .  <NL>  }  COM: <s> gets the preferred charset for the given locale or null if the locale </s>