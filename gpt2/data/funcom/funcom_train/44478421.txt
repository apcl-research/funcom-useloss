TDAT: protected file get copy directory ( file parent directory , file file , map < string , file > m dir ) {  <NL> string dir name = file . get parent file ( ) . get name ( ) ;  <NL> file directory = null ;  <NL>  <NL> synchronized ( m dir ) {  <NL> directory = m dir . get ( dir name ) ;  <NL> if ( directory = = null ) {  <NL> directory = new file ( parent directory , dir name ) ;  <NL> if ( directory . mkdir ( ) )  <NL> m dir . put ( dir name , directory ) ;  <NL> else <NL> directory = null ;  <NL>  }  <NL>  }  <NL> return directory ;  <NL>  }  COM: <s> looks for the matching copy directory or creates one </s>