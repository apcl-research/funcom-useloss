TDAT: public asset map query all ( string meta , asset location env , boolean recurse , asset map ret ) {  <NL>  <NL> for ( element link : agent db . db ( " links " ) . xml ( ) . list entities ( " / db / link " ) ) {  <NL> asset brief b = brief ( link ) ;  <NL> ret . put ( b . get key ( ) , b ) ;  <NL>  }  <NL>  <NL> return ret ;  <NL>  }  COM: <s> use the base and add details </s>