TDAT: public void close ( ) {  <NL>  <NL> if ( should stop = = false ) { / / subsequent calls to close shouldn ' t do anything .  <NL> should stop = true ;  <NL>  <NL> system . out . println ( thread . current thread ( ) . get name ( ) ) ;  <NL>  <NL>  <NL>  <NL> connection closed message message = new connection closed message ( ) ;  <NL> message . set source ( this ) ;  <NL> try {  <NL> send message ( message ) ;  <NL>  } catch ( invalid message format e ) {  <NL> e . print stack trace ( ) ;  <NL>  }  <NL>  <NL> try {  <NL> outbox . close ( ) ;  <NL> outbox = null ;  <NL> interrupt ( ) ;  <NL> inbox . close ( ) ;  <NL> inbox = null ;  <NL>  <NL>  } catch ( io exception e ) {  <NL> e . print stack trace ( ) ;  <NL>  }  <NL> system . out . println ( " the socket has been closed " ) ;  <NL>  <NL>  }  <NL>  <NL>  <NL>  }  COM: <s> this method closes the connection association with this class </s>