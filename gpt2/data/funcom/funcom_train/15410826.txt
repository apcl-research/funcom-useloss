TDAT: private void save enhanced ( persist request bean < ? > request ) {  <NL>  <NL> entity bean intercept intercept = request . get entity bean intercept ( ) ;  <NL>  <NL> if ( intercept . is reference ( ) ) {  <NL>  / / its a reference . . .  <NL> if ( request . is persist cascade ( ) ) {  <NL>  / / save any associated list held beans <NL> intercept . set loaded ( ) ;  <NL> save assoc many ( false , request ) ;  <NL> intercept . set reference ( ) ;  <NL>  }  <NL>  <NL>  } else {  <NL> if ( intercept . is loaded ( ) ) {  <NL>  / / need to call set loaded ( false ) to simulate insert <NL> update ( request ) ;  <NL>  } else {  <NL> insert ( request ) ;  <NL>  }  <NL>  }  <NL>  }  COM: <s> insert or update the bean depending on persist control and the bean state </s>