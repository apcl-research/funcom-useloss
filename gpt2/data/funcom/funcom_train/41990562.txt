TDAT: public double to roll ( ) {  <NL>  / / this is a test for singularities <NL> double test = x * y + z * w ;  <NL>  <NL>  / / special case for north pole <NL> if ( test > singularity _ north _ pole )  <NL> return 0 ;  <NL>  <NL>  / / special case for south pole <NL> if ( test < singularity _ south _ pole )  <NL> return 0 ;  <NL>  <NL> return math . atan2 (  <NL> 2 * x * w - 2 * y * z ,  <NL> 1 - 2 * x * x - 2 * z * z <NL>  ) ;  <NL>  }  COM: <s> returns the roll component of the quaternion if it is represented </s>