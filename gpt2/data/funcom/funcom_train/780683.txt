TDAT: public void add filter ( query q ) {  <NL>  <NL> event tree model filter f = new event tree model filter ( ( event tree model ) tree model , q ) ;  <NL> f . init query ( ) ;  <NL>  <NL> enumeration descendants = get expanded descendants ( new tree path ( get model ( ) . get root ( ) ) ) ;  <NL>  <NL> set model ( f ) ;  <NL>  <NL> while ( descendants . has more elements ( ) ) {  <NL> tree path tp = ( tree path ) descendants . next element ( ) ;  <NL> expand path ( tp ) ;  <NL>  }  <NL>  <NL> query stack . push ( q ) ;  <NL>  <NL>  } / / add filter  COM: <s> adds a new view filter on top of the original model or any </s>