TDAT: private boolean _ up block ( event event ) {  <NL>  / / * * * get an exclusive lock <NL> try { _ state lock . write lock ( ) ; try {  <NL>  <NL>  _ state = flush ;  <NL>  <NL>  / / * * * revoke the exclusive lock <NL>  } finally { _ state lock . write unlock ( ) ; }  <NL>  } catch ( interrupted exception ex ) { _ log ( ex . get message ( ) , false ) ; }  <NL>  <NL> return ( true ) ;  <NL>  } / / _ up block ( )  COM: <s> prepare for a view change switch to flushing state </s>