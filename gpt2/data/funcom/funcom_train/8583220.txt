TDAT: public map node select nearest ( collection < map node > nodes , map way filter filter ) {  <NL> map node result = null ;  <NL> double dist = double . max _ value ;  <NL> double new dist ;  <NL> for ( map node node : nodes ) {  <NL> new dist = get dist km ( node ) ;  <NL> boolean found = ( new dist < dist ) ;  <NL> if ( found & & filter ! = null ) {  <NL> found = false ;  <NL> for ( way ref ref : node . get way refs ( ) ) {  <NL> if ( filter . is accepted ( ref . get way ( ) ) )  <NL> found = true ;  <NL>  }  <NL>  }  <NL> if ( found ) {  <NL> result = node ;  <NL> dist = new dist ;  <NL>  }  <NL>  }  <NL> return result ;  <NL>  }  COM: <s> returns the node from code nodes code which is nearest to this </s>