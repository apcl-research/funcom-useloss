TDAT: protected void linearize ( node n , string buffer buf ) {  <NL> string buffer end text = process node ( n , buf ) ;  <NL> for ( node child = n . get first child ( ) ;  <NL> child ! = null ;  <NL> child = child . get next sibling ( ) ) {  <NL> linearize ( child , buf ) ;  <NL>  }  <NL>  <NL> if ( end text ! = null ) {  <NL> buf . append ( end text ) ;  <NL>  }  <NL>  }  COM: <s> appends the text for this node to the given string buffer </s>