TDAT: protected void run scheduler ( ) {  <NL> tp . initialize ( ) ;  <NL> try {  <NL> int next job ;  <NL> while ( ( next job = get next job ( ) ) ! = - 1 ) {  <NL> synchronized ( my counter ) {  <NL> if ( critical error || should stop ) {  <NL> break ;  <NL>  }  <NL> my counter . start thread ( ) ;  <NL>  }  <NL> jobs [ next job ] . start ( default job scheduler . this , next job + 1 ) ;  <NL>  }  <NL> my counter . wait for all threads ( ) ;  <NL>  } catch ( interrupted exception ex ) {  <NL> ex . print stack trace ( ) ;  <NL>  }  <NL> tp . finish ( ) ;  <NL> finished = true ;  <NL>  }  COM: <s> does the actual scheduler task maybe in a new thread </s>