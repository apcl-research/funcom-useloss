TDAT: private void error ( string message , boolean throw exception ) {  <NL> message = message +  <NL>  " , current thread = " + thread . current thread ( ) +  <NL>  " , locking thread = " + locking thread +  <NL>  " , locking locations = " + locations ;  <NL>  <NL> concurrency exception ex = new concurrency exception ( message , locking location ) ;  <NL>  <NL> if ( ! error reported ) {  <NL> error reported = true ;  <NL> application . get exception handler ( ) . handle error condition ( ex ) ;  <NL>  } else {  <NL> log . error ( message , ex ) ;  <NL>  }  <NL>  <NL> if ( throw exception ) {  <NL> throw ex ;  <NL>  }  <NL>  }  COM: <s> raise an error </s>