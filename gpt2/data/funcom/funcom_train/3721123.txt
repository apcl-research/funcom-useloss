TDAT: private string insert doctype ( string profile string ) {  <NL> string result = profile string ;  <NL> if ( profile string . index of ( " < ! doctype " ) < 0 ) {  <NL> string buffer buf = new string buffer ( ) ;  <NL> int loc = profile string . index of ( " ? > " ) ;  <NL> if ( loc > 0 ) {  <NL> buf . append ( profile string . substring ( 0 , loc + 2 ) ) ;  <NL> buf . append ( " < ! doctype hl7v2x conformance profile system \ " \ " > " ) ;  <NL> buf . append ( profile string . substring ( loc + 2 ) ) ;  <NL> result = buf . to string ( ) ;  <NL>  }  <NL>  }  <NL> return result ;  <NL>  }  COM: <s> inserts a doctype declaration in the string if there isnt one </s>