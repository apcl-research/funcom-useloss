TDAT: public void service changed ( final service event event ) {  <NL> final service reference ref = event . get service reference ( ) ;  <NL> final int type = event . get type ( ) ;  <NL> if ( type = = service event . registered ) {  <NL> final shell command group group = ( shell command group ) shell activator . context <NL>  . get service ( ref ) ;  <NL> command groups . put ( group . get group ( ) , group ) ;  <NL> return ;  <NL>  } else if ( type = = service event . unregistering ) {  <NL> final shell command group group = ( shell command group ) shell activator . context <NL>  . get service ( ref ) ;  <NL> command groups . remove ( group . get group ( ) ) ;  <NL> return ;  <NL>  }  <NL>  }  COM: <s> service listener method </s>