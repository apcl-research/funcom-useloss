TDAT: private ctrl state create state ( recipe recipe ) {  <NL> int state nr = this . max state nr + 1 ;  <NL> boolean fresh = false ;  <NL> while ( ! fresh ) {  <NL> fresh = true ;  <NL> for ( ctrl state state : node set ( ) ) {  <NL> if ( state nr = = state . get number ( ) ) {  <NL> fresh = false ;  <NL> state nr + + ;  <NL> break ;  <NL>  }  <NL>  }  <NL>  }  <NL> this . max state nr = state nr ;  <NL> return new ctrl state ( this , recipe , state nr ) ;  <NL>  }  COM: <s> factory method to create a control state for this automaton </s>