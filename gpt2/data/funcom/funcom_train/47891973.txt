TDAT: public int calculate ranks ( ) {  <NL> package decl p = package decl . get default package ( ) ;  <NL> int i ;  <NL> visitor . set methods ( true ) ;  <NL> visitor . set constructors ( true ) ;  <NL> visitor . set propagate rank ( true ) ;  <NL> for ( i = 0 ; ! visitor . has converged ( ) & & i < 1000 ; i + + ) {  <NL> p . accept ( visitor ) ;  <NL>  }  <NL> method ranks = visitor . get method ranks ( ) ;  <NL> for ( i = 0 ; ! has converged ( ) & & i < 1000 ; i + + ) {  <NL> p . accept ( this ) ;  <NL>  }  <NL> return i ;  <NL>  }  COM: <s> use the method rank visitor to get all the method ranks </s>