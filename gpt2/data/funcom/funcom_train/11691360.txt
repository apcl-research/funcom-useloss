TDAT: public void flush ( double weight , vector data ) {  <NL> for ( string word : counts . element set ( ) ) {  <NL>  / / weight words by log _ 2 ( tf ) times whatever other weight we are given <NL> word encoder . add to vector ( word , weight * math . log1p ( counts . count ( word ) ) / log _ 2 , data ) ;  <NL>  }  <NL> counts . clear ( ) ;  <NL>  }  COM: <s> adds all of the tokens that we counted up to a vector </s>