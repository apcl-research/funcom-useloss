TDAT: protected affine transform get arrow trans ( point2d p1 , point2d p2 , int width ) {  <NL> m _ arrow trans . set to translation ( p2 . get x ( ) , p2 . get y ( ) ) ;  <NL> m _ arrow trans . rotate ( - half _ pi +  <NL> math . atan2 ( p2 . get y ( ) - p1 . get y ( ) , p2 . get x ( ) - p1 . get x ( ) ) ) ;  <NL> if ( width > 1 ) {  <NL> double scalar = ( 2 . 0 * ( width - 1 ) ) / 4 + 1 ;  <NL> m _ arrow trans . scale ( scalar , scalar ) ;  <NL>  }  <NL> return m _ arrow trans ;  <NL>  } / /  COM: <s> returns an affine transformation that maps the arrowhead shape </s>