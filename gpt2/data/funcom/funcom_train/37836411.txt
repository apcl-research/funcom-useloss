TDAT: protected void build link ( final string builder sbuf , final string text ) {  <NL> sbuf . append ( " < a href = ' " ) ;  <NL>  <NL> if ( text . starts with ( " http : / / " ) || text . starts with ( " https : / / " )  <NL> || text . starts with ( " ftp : / / " ) ) {  <NL> sbuf . append ( text ) ;  <NL>  } else {  <NL> sbuf . append ( " say : " ) ;  <NL>  <NL> try {  <NL> sbuf . append ( url encoder . encode ( text , " utf - 8 " ) ) ;  <NL>  } catch ( final unsupported encoding exception ex ) {  <NL>  / / nothing left to try <NL> sbuf . append ( text ) ;  <NL>  }  <NL>  }  <NL>  <NL> sbuf . append ( " ' > " ) ;  <NL> append html ( sbuf , text ) ;  <NL> sbuf . append ( " < / a > " ) ;  <NL>  }  COM: <s> convert a text link to an html link </s>