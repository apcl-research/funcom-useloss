TDAT: public void register processor ( message processor processor ) {  <NL>  / / don ' t add an already registered processor <NL> for ( iterator i = processors . iterator ( ) ; i . has next ( ) ; ) {  <NL> weak reference ref = ( weak reference ) i . next ( ) ;  <NL> message processor p = ( message processor ) ref . get ( ) ;  <NL> if ( processor = = p )  <NL> return ;  <NL>  }  <NL>  <NL>  / / use weak reference to avoid memory leak if this becomes the <NL>  / / sole reference to the object .  <NL> processors . add ( new weak reference ( processor ) ) ;  <NL>  }  COM: <s> register a message processor so that it will be notified of future </s>