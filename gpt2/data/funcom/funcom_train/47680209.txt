TDAT: public int get instance number ( ) {  <NL>  / / the root field has only one instance <NL> if ( is root ( ) ) {  <NL> return 1 ;  <NL>  }  <NL> if ( ! this . attributes . is array ( ) ) {  <NL>  / / get the arraylist containing all instances of this field and return the position of this instance <NL> return get parent ( ) . get child instances ( get name ( ) ) . index of ( this ) + 1 ;  <NL>  } else {  <NL> return this . active instance ;  <NL>  }  <NL>  }  COM: <s> provides the position of the current field in the instance list </s>