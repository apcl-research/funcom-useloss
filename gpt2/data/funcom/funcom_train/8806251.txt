TDAT: private int get number of lines ( int start line , int offset , int length ) throws bad location exception {  <NL>  <NL> if ( length = = 0 )  <NL> return 1 ;  <NL>  <NL> int target = offset + length ;  <NL>  <NL> line l = ( line ) f lines . get ( start line ) ;  <NL>  <NL> if ( l . delimiter = = null )  <NL> return 1 ;  <NL>  <NL> if ( l . offset + l . length > target )  <NL> return 1 ;  <NL>  <NL> if ( l . offset + l . length = = target )  <NL> return 2 ;  <NL>  <NL> return get line number of offset ( target ) - start line + 1 ;  <NL>  }  COM: <s> returns the number of lines covered by the specified text range </s>