TDAT: public int get bonus ( goods type goods type , unit type unit type , int potential ) {  <NL> set < modifier > production bonus = type . get production modifier ( goods type , unit type ) ;  <NL> int bonus amount = ( int ) feature container . apply modifier set ( potential , null , production bonus ) - potential ;  <NL> if ( quantity > - 1 & & bonus amount > quantity ) {  <NL> return potential + quantity ;  <NL>  } else {  <NL> return potential + bonus amount ;  <NL>  }  <NL>  }  COM: <s> returns the bonus checking available stock for next turn </s>