TDAT: public void flush ( ) throws corrupt index exception , lock obtain failed exception , io exception {  <NL> synchronized ( directory ) {  <NL> assure open ( ) ;  <NL> if ( index writer ! = null ) {  <NL> index writer . close ( ) ;  <NL> index writer = null ;  <NL> create index writer ( ) ;  <NL>  } else {  <NL> index reader . close ( ) ;  <NL> index reader = null ;  <NL> create index reader ( ) ;  <NL>  }  <NL>  }  <NL>  }  COM: <s> make sure all changes are written to disk </s>