TDAT: public int get city count ( string base city name , player player ) {  <NL> int city count = 0 ;  <NL> for ( tile t : get all tiles ( ) ) {  <NL> city city = get city on ( t ) ;  <NL>  <NL> if ( city ! = null & & city . get type ( ) . equals ignore case ( base city name ) )  <NL> if ( player = = null || city . is owned by ( player ) ) {  <NL> city count + + ;  <NL>  }  <NL>  }  <NL> return city count ;  <NL>  }  COM: <s> counts cities of a given type owned by a given player </s>