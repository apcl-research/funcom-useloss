TDAT: public void set selected quantity ( string item id , long quantity ) {  <NL> long value = math . min ( get quantity ( item id ) , math . max ( quantity , 0 ) ) ;  <NL>  <NL> if ( value = = 0 ) {  <NL> selected quantities . remove ( item id ) ;  <NL>  }  <NL> if ( selected quantities . contains key ( item id ) ) {  <NL> selected quantities . put ( item id , value ) ;  <NL>  } else {  <NL>  / / the selection has changed <NL> selected item ids = null ;  <NL> if ( value ! = 0 ) {  <NL> selected quantities . put ( item id , value ) ;  <NL>  }  <NL>  }  <NL> selection changed = true ;  <NL>  }  COM: <s> set a selection of quantity for an item from the inventory </s>