TDAT: public void set preferred width ( int lines ) {  <NL> int digits = string . value of ( lines ) . length ( ) ;  <NL>  <NL>  / / update sizes when number of digits in the line number changes <NL>  <NL> if ( digits ! = current digits & & digits > 1 ) {  <NL> current digits = digits ;  <NL> int width = font metrics . char width ( ' 0 ' ) * digits ;  <NL> dimension d = get preferred size ( ) ;  <NL> d . set size ( 2 * margin + width , height ) ;  <NL> set preferred size ( d ) ;  <NL> set size ( d ) ;  <NL>  }  <NL>  }  COM: <s> calculate the width needed to display the maximum line number </s>