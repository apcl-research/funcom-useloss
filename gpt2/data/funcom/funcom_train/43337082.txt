TDAT: public void add unit ( instance unit new unit ) throws instance exception {  <NL>  <NL> instance unit tmp unit = unit map . get ( new unit . get id ( ) ) ;  <NL> if ( tmp unit ! = null ) {  <NL> if ( ! ( tmp unit . equals ( new unit ) ) )  <NL> throw new instance exception (  <NL> exception constants . ex _ instance _ double _ unit ) ;  <NL> else <NL> return ; / * unit already available * /  <NL>  } else {  <NL> if ( test unit ( new unit ) ) {  <NL> unit map . put ( new unit . get id ( ) , new unit ) ;  <NL>  } else <NL> throw new instance exception (  <NL> exception constants . ex _ instance _ unit _ information _ missing ) ;  <NL>  }  <NL>  }  COM: <s> adds a new unit to the instance </s>