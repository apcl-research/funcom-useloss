TDAT: public double get mag field ( ) {  <NL>  / / temporary fix for polarity problem by adding a " - " in the vertical direction <NL>  / / eventually , should be " - " for both directions to match the sns convention <NL> if ( get orientation ( ) = = i electromagnet . orient _ ver )  <NL> return - m _ dbl field ;  <NL> else <NL> return m _ dbl field ;  <NL>  }  COM: <s> return the current magnetic field </s>