TDAT: public void run ( graphics2d g2d ) {  <NL> if ( debug ) {  <NL>  + + run count ;  <NL> timer . reset ( ) ;  <NL>  }  <NL> emit particles ( ) ;  <NL> process particles ( ) ;  <NL> remove dead particles ( ) ;  <NL> render particles ( g2d ) ;  <NL> if ( debug ) {  <NL> long run time = timer . time elapsed nano ( ) ;  <NL> total time + = run time ;  <NL> average run time = total time / run count ;  <NL> g2d . set color ( color . black ) ;  <NL> if ( run count % 30 = = 0 ) {  <NL> timer display = " average : " + average run time + " ns " + " current : " + run time + " ns " ;  <NL>  }  <NL> g2d . draw string ( timer display , ( int ) x , ( int ) y - 100 ) ;  <NL>  }  <NL>  }  COM: <s> drives the simulation </s>