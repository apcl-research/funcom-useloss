TDAT: protected void process locale ( http servlet request request , http servlet response response ) {  <NL>  <NL> webapp util . ensure locale validity ( request ) ;  <NL>  <NL> string locale identifier = null ;  <NL> locale locale = request utils . get user locale ( request , null ) ;  <NL> if ( locale ! = null ) {  <NL> locale identifier = locale . get language ( ) ;  <NL>  }  <NL>  <NL> if ( log . is debug enabled ( ) ) {  <NL> log . debug ( " setting user locale ' " + locale identifier + " ' " ) ;  <NL>  }  <NL>  <NL> response . set header ( " content - language " , locale identifier ) ;  <NL>  }  COM: <s> p automatically selects a code locale code for the current user if requested </s>