TDAT: private void delete service ( svc reg reg , long now ) {  <NL> item item = reg . item ;  <NL> generate events ( item , null , now ) ;  <NL> service by id . remove ( item . service id ) ;  <NL> service by time . remove ( reg ) ;  <NL> delete service from types ( item . service type , reg ) ;  <NL> entry rep [ ] entries = item . attribute sets ;  <NL> for ( int i = entries . length ; - - i > = 0 ; ) {  <NL> delete attrs ( reg , entries [ i ] , false ) ;  <NL>  }  <NL> compute max leases ( ) ;  <NL>  }  COM: <s> delete given service generating events as necessary </s>