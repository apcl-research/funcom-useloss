TDAT: private void write object ( object output stream oos ) throws io exception {  <NL> oos . default write object ( ) ;  <NL>  <NL>  / / sender <NL> if ( sender = = null ) {  <NL> oos . write object ( null ) ;  <NL>  }  <NL> else if ( sender instanceof message sender receiver ) {  <NL> oos . write object ( sender ) ;  <NL>  }  <NL> else {  <NL> oos . write object ( new message sender receiver ( sender ) ) ;  <NL>  }  <NL>  <NL>  / / receiver <NL> if ( receiver = = null ) {  <NL> oos . write object ( null ) ;  <NL>  }  <NL> else if ( receiver instanceof message sender receiver ) {  <NL> oos . write object ( receiver ) ;  <NL>  }  <NL> else {  <NL> oos . write object ( new message sender receiver ( receiver ) ) ;  <NL>  }  <NL>  }  COM: <s> this method is called when the message is being serialized </s>