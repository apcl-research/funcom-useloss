TDAT: final private void activate ( final transition timer port port ) throws exception {  <NL> final long duration = port . get duration ( ) ;  <NL> if ( duration > = 0 ) {  <NL>  / / only consider transitions with durations greater <NL>  / / than or equal to 0 - this means transitions with <NL>  / / durations less than 0 will never fire <NL> final long current time = system . current time millis ( ) ;  <NL> port . set activation time ( current time ) ;  <NL> port . set desired expiry time ( new long ( current time + duration ) ) ;  <NL> timer queue . add ( port ) ;  <NL>  }  <NL>  }  COM: <s> calculate transitions expiry time and add it to timer queue in </s>