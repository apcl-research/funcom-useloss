TDAT: private void write external data ( externalizable obj ) throws io exception {  <NL> object old obj = cur obj ;  <NL> object stream class old desc = cur desc ;  <NL> put field impl old put = cur put ;  <NL> cur obj = obj ;  <NL> cur desc = null ;  <NL> cur put = null ;  <NL>  <NL> if ( protocol = = protocol _ version _ 1 ) {  <NL> obj . write external ( this ) ;  <NL>  } else {  <NL> bout . set block data mode ( true ) ;  <NL> obj . write external ( this ) ;  <NL> bout . set block data mode ( false ) ;  <NL> bout . write byte ( tc _ endblockdata ) ;  <NL>  }  <NL>  <NL> cur obj = old obj ;  <NL> cur desc = old desc ;  <NL> cur put = old put ;  <NL>  }  COM: <s> writes externalizable data of given object by invoking its </s>