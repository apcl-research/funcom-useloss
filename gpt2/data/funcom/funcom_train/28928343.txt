TDAT: protected double optimize unit ( unit u ) {  <NL> double old cost = get unit cost ( u ) ;  <NL> double best cost = old cost ;  <NL> int best phase = u . phase ;  <NL>  <NL> for ( int p = 0 ; p < param . phase scale ; p + + ) {  <NL> u . phase = p ;  <NL> double cost = get unit cost ( u ) ;  <NL> if ( cost < best cost ) {  <NL> best cost = cost ;  <NL> best phase = p ;  <NL>  }  <NL>  }  <NL>  <NL>  / / save the best phase <NL> u . phase = best phase ;  <NL> return best cost - old cost ;  <NL>  }  COM: <s> optimize a unit by changing its phase </s>