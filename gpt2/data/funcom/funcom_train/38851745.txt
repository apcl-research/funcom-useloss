TDAT: public double modularity _ gain ( int node _ id , int community _ id , int dnodecomm ) {  <NL> assert ( node _ id > = 0 & & node _ id < network _ size ) ;  <NL> double totc = ( double ) tot . get ( community _ id ) ;  <NL> double degc = ( double ) graph . get weighted degree ( node _ id ) ;  <NL> double m2 = ( double ) graph . get total _ weight ( ) ;  <NL> double dnc = ( double ) dnodecomm ;  <NL> return ( dnc - totc * degc / m2 ) ;  <NL>  }  COM: <s> calculates the modularity gain by simulating the movement of the node </s>