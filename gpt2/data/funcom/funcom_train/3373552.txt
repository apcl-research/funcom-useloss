TDAT: public void flush ( ) throws bad location exception {  <NL> if ( empty document & & ! insert after implied ) {  <NL> if ( html document . this . get length ( ) > 0 || <NL> parse buffer . size ( ) > 0 ) {  <NL> flush buffer ( true ) ;  <NL> adjust end element ( ) ;  <NL>  }  <NL>  / / we won ' t insert when <NL>  }  <NL> else {  <NL> flush buffer ( true ) ;  <NL>  }  <NL>  }  COM: <s> the last method called on the reader </s>