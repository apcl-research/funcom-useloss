TDAT: private void submit data ( ) {  <NL> if ( form def . get doc ( ) = = null )  <NL> xform builder . from form def2xform ( form def ) ;  <NL>  <NL> save values ( ) ;  <NL>  <NL> if ( ! is valid ( false ) )  <NL> return ;  <NL>  <NL> string xml = xform util . get instance data doc ( form def . get doc ( ) ) . to string ( ) ;  <NL> xml = form util . format xml ( xml ) ; / / " < ? xml version = ' 1 . 0 ' encoding = ' utf - 8 ' ? > " +  <NL> submit listener . on submit ( xml ) ;  <NL>  }  COM: <s> does the actual submission of form data to the submit listener </s>