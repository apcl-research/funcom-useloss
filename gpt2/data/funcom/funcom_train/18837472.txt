TDAT: public void stop ( ) {  <NL> logger . info ( " halting " ) ;  <NL> connection broker . interrupt ( ) ;  <NL>  <NL> thread [ ] client handlers array = new thread [ client handlers . active count ( ) ] ;  <NL> client handlers . enumerate ( client handlers array ) ;  <NL> for ( int i = 0 ; i < client handlers array . length ; i + + ) {  <NL> logger . finer ( " gracefully shutting down connection to " +  <NL> client handlers array [ i ] . get name ( ) ) ;  <NL> client handler c = ( client handler ) client handlers array [ i ] ;  <NL> c . interrupt ( ) ;  <NL> c . shutdown ( ) ;  <NL>  }  <NL>  <NL> synchronized ( connection broker lock ) {  <NL> running = false ;  <NL> logger . info ( " halted " ) ;  <NL>  }  <NL>  }  COM: <s> stops the server gracefully </s>