TDAT: protected int check sessions ( acl message reply ) {  <NL> if ( skip next resp flag ) {  <NL> sessions . clear ( ) ;  <NL>  }  <NL>  <NL> int ret = ( step = = 1 ? all _ responses _ received : all _ result _ notifications _ received ) ;  <NL> if ( reply ! = null ) {  <NL> if ( sessions . size ( ) > 0 ) {  <NL>  / / if there are still active sessions we haven ' t received <NL>  / / all responses / result _ notifications yet <NL> ret = - 1 ;  <NL>  }  <NL>  }  <NL> else {  <NL>  / / timeout has expired or we were interrupted - - > clear all remaining sessions <NL> sessions . clear ( ) ;  <NL>  }  <NL> if ( ret ! = - 1 ) {  <NL> step + + ;  <NL>  }  <NL> return ret ;  <NL>  }  COM: <s> check the status of the sessions after the reception of the last reply </s>