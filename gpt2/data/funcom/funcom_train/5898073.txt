TDAT: public void close ( ) {  <NL> if ( _ selected ) {  <NL> final tab tab = select next tab ( ) ;  <NL> if ( tab ! = null ) {  <NL> final set < tab > sel items = new hash set < tab > ( 2 ) ;  <NL> sel items . add ( tab ) ;  <NL> events . post event ( new select event < tab , object > ( events . on _ select , tab , sel items ) ) ;  <NL>  }  <NL>  }  <NL>  <NL>  / / cache panel before detach , or we couldn ' t get it after tab is detached .  <NL> final tabpanel panel = get linked panel ( ) ;  <NL>  <NL> detach ( ) ;  <NL> if ( panel ! = null )  <NL> panel . detach ( ) ;  <NL>  }  COM: <s> closes this tab and the linked tabpanel </s>