TDAT: public int is legal ( ) {  <NL> if ( packet [ 0 ] ! = dle )  <NL> return 0 ;  <NL>  <NL> int size = packet [ 2 ] ;  <NL>  <NL> if ( size + 6 ! = packet . length )  <NL> return 2 ;  <NL>  <NL> if ( packet [ packet . length - 3 ] ! = calc checksum ( ) )  <NL> return packet . length - 3 ;  <NL>  <NL> if ( packet [ packet . length - 2 ] ! = dle )  <NL> return packet . length - 2 ;  <NL>  <NL> if ( packet [ packet . length - 1 ] ! = etx )  <NL> return packet . length - 1 ;  <NL>  <NL> return - 1 ;  <NL>  }  COM: <s> checks if the packet is valid with regards to header </s>