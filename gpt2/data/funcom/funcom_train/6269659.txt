TDAT: public void run ( ) {  <NL>  <NL> while ( running ) {  <NL>  <NL> if ( next register < = 0 ) {  <NL> register ( ) ;  <NL> synchronized ( this ) {  <NL> while ( next register < = 0 & & running ) {  <NL> try {  <NL> wait ( ) ;  <NL>  }  <NL> catch ( interrupted exception ie ) {  <NL>  }  <NL>  }  <NL>  }  <NL>  }  <NL>  <NL> try {  <NL> thread . sleep ( 1000 ) ;  <NL>  }  <NL> catch ( interrupted exception ie ) {  <NL>  }  <NL>  <NL> next register - = 1 ;  <NL>  / *  <NL> if ( sc . stun is in use ( ) & & ( next register % 5 = = 0 ) ) {  <NL> send nat hole packet ( ) ;  <NL>  }  <NL>  * /  <NL>  }  <NL>  <NL>  }  COM: <s> runs the thread </s>