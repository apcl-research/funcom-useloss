TDAT: public void shape state changed ( retained shape peer ) {  <NL> change info change info = peer . state change info ;  <NL> if ( change info . last change < render pass peer . frame idx ) {  <NL> change info . last change = render pass peer . frame idx ;  <NL> change info . change cnt + + ;  <NL>  <NL> if ( peer . render queue = = static state list ) {  <NL> if ( change info . change cnt > 5 ) {  <NL> static state list . remove ( peer ) ;  <NL> dynamic state list . add ( peer ) ;  <NL> peer . render queue = dynamic state list ;  <NL>  } else {  <NL>  / / give it another chance in the statis state list <NL> static state dirty = true ;  <NL>  }  <NL>  }  <NL>  }  <NL>  }  COM: <s> invoked by the simple shape peer when the state changes </s>