TDAT: public string form ( double x ) {  <NL> string r ;  <NL> if ( precision < 0 )  <NL> precision = 6 ;  <NL> int s = 1 ;  <NL> if ( x < 0 ) {  <NL> x = - x ;  <NL> s = - 1 ;  <NL>  }  <NL> if ( fmt = = ' f ' )  <NL> r = fixed _ format ( x ) ;  <NL> else if ( fmt = = ' e ' || fmt = = ' e ' || fmt = = ' g ' || fmt = = ' g ' )  <NL> r = exp _ format ( x ) ;  <NL> else <NL> throw new java . lang . illegal argument exception ( ) ;  <NL> return pad ( sign ( s , r ) ) ;  <NL>  }  COM: <s> formats a double into a string like sprintf in c </s>