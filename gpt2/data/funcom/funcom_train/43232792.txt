TDAT: private void update activation rules ( final state type state type , final boolean added ) {  <NL> if ( this . get field types ( ) ! = null ) {  <NL> final iterator < field type > field types = this . get field types ( ) . iterator ( ) ;  <NL> while ( field types . has next ( ) ) {  <NL> final field type current = field types . next ( ) ;  <NL> if ( added ) {  <NL> final activation rule ar = this . default activation rule ( state type , current ) ;  <NL> this . activation rules . add ( ar ) ;  <NL>  } else {  <NL> final activation rule ar = this . get specific activation rule ( state type , current ) ;  <NL> this . activation rules . remove ( ar ) ;  <NL>  }  <NL>  }  <NL>  }  <NL>  }  COM: <s> updates the activation rules of the state profile </s>