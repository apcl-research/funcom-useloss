TDAT: / / public matrix apply ( final abstract matrix int int int double function fun ) {  <NL>  / / cache col sum ( ) ;  <NL>  / / cache row sum ( ) ;  <NL>  / / cache sum ( ) ;  <NL>  / / return new matrix (  <NL>  / / matrix . copy ( ) . for each non zero (  <NL>  / / new int int double function ( ) {  <NL>  / / public double apply ( int row , int col , double value ) {  <NL>  / / return fun . apply ( sum , row sum [ row ] , col sum [ col ] , value ) ;  <NL>  / / }  <NL>  / / }  <NL>  / / )  <NL>  / / ) ;  <NL>  / / }  COM: <s> apply a four paramters function on the whole table </s>