TDAT: protected void switch to state ( string state ) {  <NL> synchronized ( current state ) {  <NL> artifact state st = state map . get ( state ) ;  <NL> if ( st ! = null ) {  <NL> current state = st ;  <NL>  / *  <NL> if ( observed ) {  <NL> event ev state changed = new state event ( id , st . get name ( ) , current state . get name ( ) ) ;  <NL> env . gen event ( id , ev state changed ) ;  <NL>  } * /  <NL> i cartago logger manager log = env . get logger manager ( ) ;  <NL> if ( log . is logging ( ) ) {  <NL> log . log artifact state changed ( system . current time millis ( ) , id , state ) ;  <NL>  }  <NL>  } else {  <NL> throw new illegal argument exception ( " state " ) ;  <NL>  }  <NL>  }  <NL>  }  COM: <s> switches to the specified state </s>