TDAT: protected void show popup ( ) {  <NL> final string query = get text ( ) ;  <NL> final int mode = gui . prop . num ( gui prop . searchmode ) ;  <NL> if ( cmd mode ( ) ) {  <NL> cmd popup ( query ) ;  <NL>  } else if ( mode = = 1 || mode = = 0 & & query . starts with ( " / " ) ) {  <NL> query popup ( query ) ;  <NL>  } else {  <NL> pop . set visible ( false ) ;  <NL>  }  <NL>  }  COM: <s> shows the command popup menu </s>