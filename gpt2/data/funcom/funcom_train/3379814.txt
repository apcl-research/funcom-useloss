TDAT: private int read fully ( byte [ ] in buf , int total ) throws io exception {  <NL> int count , pos = 0 ;  <NL>  <NL> while ( total > 0 ) {  <NL> count = in . read ( in buf , pos , total ) ;  <NL>  <NL> if ( count = = - 1 ) {  <NL> return ( pos = = 0 ? - 1 : pos ) ;  <NL>  }  <NL> pos + = count ;  <NL> total - = count ;  <NL>  }  <NL> return pos ;  <NL>  }  COM: <s> read requested number of bytes before returning </s>