TDAT: public void test delete end ( ) throws core exception {  <NL> i buffer buffer = this . create buffer (  <NL>  " p / x / y / a . rb " ,  <NL>  " package x . y ; \n " +  <NL>  " public class a { \n " +  <NL>  " } "  <NL>  ) ;  <NL> try {  <NL>  / / delete " public class a { \n } "  <NL> buffer . replace ( 13 , 18 , " " ) ;  <NL> assert buffer event ( 13 , 18 , null ) ;  <NL> assert source equals (  <NL>  " unexpected buffer contents " ,  <NL>  " package x . y ; \n " ,  <NL> buffer . get contents ( )  <NL>  ) ;  <NL> assert true ( " should have unsaved changes " , buffer . has unsaved changes ( ) ) ;  <NL>  } finally {  <NL> this . delete buffer ( buffer ) ;  <NL>  }  <NL>  }  COM: <s> tests deleting text at the end of a buffer </s>