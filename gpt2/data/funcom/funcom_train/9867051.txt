TDAT: protected void apply changes ( ) throws core exception {  <NL> try {  <NL> this . write aspect ( ) ;  <NL> this . update imports ( ) ;  <NL> if ( ! this . refactoring info . is keep selection ( ) ) {  <NL> ast rewrite f rewriter = this . remove nodes ( ) ;  <NL> this . write java ( f rewriter ) ;  <NL>  }  <NL>  } catch ( core exception e ) {  <NL> status status = new status ( i status . error , flip plugin . plugin _ id ,  <NL> i status . ok , e . get message ( ) , e . get cause ( ) ) ;  <NL> flip plugin . get default ( ) . get log ( ) . log ( status ) ;  <NL> throw e ;  <NL>  }  <NL>  }  COM: <s> writes the aspect updates its imports removes the selected code from </s>