TDAT: private void is allowed ( avatar avatar ) {  <NL> this . apply common constraints ( avatar ) ;  <NL>  <NL> boolean allow gallery = this . config . get boolean ( config keys . avatar _ allow _ gallery ) ;  <NL> boolean allow upload = this . config . get boolean ( config keys . avatar _ allow _ upload ) ;  <NL>  <NL> if ( avatar . get avatar type ( ) = = avatar type . avatar _ upload & & ! allow upload <NL> || avatar . get avatar type ( ) = = avatar type . avatar _ gallery & & ! allow gallery ) {  <NL> throw new validation exception ( avatar . get avatar type ( ) + " is not allowed ! " ) ;  <NL>  }  <NL>  }  COM: <s> check the user can do this operation according to config </s>