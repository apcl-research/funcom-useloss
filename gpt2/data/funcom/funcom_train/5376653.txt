TDAT: protected void expand ( ) {  <NL> keyed element [ ] old elements = elements ;  <NL> elements = new keyed element [ elements . length * 2 ] ;  <NL>  <NL> int max array index = elements . length - 1 ;  <NL> for ( int i = 0 ; i < old elements . length ; i + + ) {  <NL> keyed element element = old elements [ i ] ;  <NL> if ( element ! = null ) {  <NL> int hash = hash ( element ) ;  <NL> while ( elements [ hash ] ! = null ) {  <NL> hash + + ;  <NL> if ( hash > max array index )  <NL> hash = 0 ;  <NL>  }  <NL> elements [ hash ] = element ;  <NL>  }  <NL>  }  <NL>  }  COM: <s> the array isnt large enough so double its size and rehash </s>