TDAT: public void save diagram as svg ( output stream os ) throws io exception {  <NL> try {  <NL> dom implementation dom impl = generic dom implementation . get dom implementation ( ) ;  <NL> document document = dom impl . create document ( null , " svg " , null ) ;  <NL>  <NL> svg graphics2d svg = new svg graphics2d ( document ) ;  <NL>  <NL> boolean grid = is grid visible ( ) ;  <NL> set grid visible ( false ) ;  <NL> paint ( svg ) ;  <NL> set grid visible ( grid ) ;  <NL>  <NL> output stream writer osw = new output stream writer ( os , " utf - 8 " ) ;  <NL> svg . stream ( osw , true ) ;  <NL>  <NL> osw . flush ( ) ;  <NL> osw . close ( ) ;  <NL>  }  <NL> catch ( exception e ) {  <NL> log . error ( " failed to save the diagram as an svg file . " ) ;  <NL> throw new io exception ( ) ;  <NL>  }  <NL>  }  COM: <s> saves current diagram as an svg image </s>