TDAT: private void flush using write ahead log protocol ( buffer control block bcb ) {  <NL> page page = bufferpool [ bcb . get frame index ( ) ] ;  <NL> assert bcb . get page id ( ) . equals ( page . get page id ( ) ) ;  <NL> lsn lsn = page . get page lsn ( ) ;  <NL> if ( log mgr ! = null & & ! lsn . is null ( ) ) {  <NL>  / *  <NL>  * the write ahead log protocol requires that the log be flushed <NL>  * prior to writing the page .  <NL>  * /  <NL> log mgr . flush ( lsn ) ;  <NL>  }  <NL> page factory . store ( page ) ;  <NL> decrement dirty buffers count ( ) ;  <NL>  }  COM: <s> write a buffer page </s>