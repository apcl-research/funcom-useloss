TDAT: public int buy ( int amount ) {  <NL> if ( exchange rate > 0 ) {  <NL> if ( on stock available > = amount ) {  <NL> on stock available - = amount ;  <NL> exchange rate + = amount * 0 . 1f ;  <NL> return amount ;  <NL>  }  <NL> else {  <NL> int ret = on stock available ;  <NL> on stock available = 0 ;  <NL> exchange rate + = ret * 0 . 1f ;  <NL> return ret ;  <NL>  }  <NL>  }  <NL> else {  <NL>  / / share is worth nothing , don ' t sell any more of these shares <NL> return 0 ;  <NL>  }  <NL>  }  COM: <s> buy a certain amount of the share will lower the availability and higher </s>