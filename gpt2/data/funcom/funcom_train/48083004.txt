TDAT: protected reference to reference ( int type , reference referent , int hash ) {  <NL> switch ( type ) {  <NL> case soft :  <NL> return new soft ref ( hash , referent , parent . queue ) ;  <NL> case weak :  <NL> return new weak ref ( hash , referent , parent . queue ) ;  <NL> default :  <NL> throw new error ( " attempt to create hard reference in reference map ! " ) ;  <NL>  }  <NL>  }  COM: <s> constructs a reference of the given type to the given referent </s>