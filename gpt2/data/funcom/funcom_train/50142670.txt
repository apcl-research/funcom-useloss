TDAT: public void lock for writing ( ) {  <NL> object lock = new object ( ) ;  <NL> synchronized ( lock ) {  <NL> synchronized ( this ) {  <NL> boolean can write = writer locks . size ( ) = = 0 <NL>  & & active readers = = 0 & & active writers = = 0 ;  <NL>  <NL> if ( can write ) {  <NL>  + + active writers ;  <NL> return ;  <NL>  }  <NL> writer locks . add last ( lock ) ;  <NL>  }  <NL> try {  <NL> lock . wait ( ) ;  <NL>  }  <NL> catch ( interrupted exception e ) {  <NL>  }  <NL>  }  <NL>  }  COM: <s> request the write lock </s>