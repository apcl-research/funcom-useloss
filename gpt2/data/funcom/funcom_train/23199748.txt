TDAT: public signal segment save ( signal segment entry ) {  <NL> corpus file entry file entry = null ;  <NL> if ( ! ( entry instanceof corpus file entry ) ) {  <NL> if ( entry . get id ( ) = = null ) {  <NL> file entry = new corpus file entry ( ) ;  <NL> file entry . set name ( entry . get name ( ) ) ;  <NL> file entry . put all ( entry ) ;  <NL>  } else {  <NL> throw new processing exception ( " not implemented " ) ;  <NL>  }  <NL>  } else {  <NL> file entry = ( corpus file entry ) entry ;  <NL>  }  <NL> corpus file entry file = save or update file ( ( corpus file entry ) file entry ) ;  <NL> return file ;  <NL>  }  COM: <s> save and reset repo </s>