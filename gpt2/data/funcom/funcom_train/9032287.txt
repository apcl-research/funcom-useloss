TDAT: public string read0terminated string ( int totlength ) throws io exception {  <NL> if ( totlength = = - 1 ) {  <NL> string buffer sbuf = new string buffer ( ) ;  <NL> while ( peek u8 ( ) ! = 0 )  <NL> sbuf . append ( ( char ) read u8 ( ) ) ;  <NL> read u8 ( ) ; / / read the 0 as well <NL> return sbuf . to string ( ) ;  <NL>  } else {  <NL> string buffer sbuf = new string buffer ( ) ;  <NL> boolean read0 = false ;  <NL> for ( int i = 0 ; i < totlength ; i + + ) {  <NL> if ( peek u8 ( ) = = 0 )  <NL> read0 = true ;  <NL> char c = ( char ) read u8 ( ) ;  <NL> if ( ! read0 )  <NL> sbuf . append ( c ) ;  <NL>  }  <NL> return sbuf . to string ( ) ;  <NL>  }  <NL>  }  COM: <s> reads a 0 terminated string from this stream </s>