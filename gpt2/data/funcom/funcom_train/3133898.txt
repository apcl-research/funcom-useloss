TDAT: private status write ( int count ) throws io exception {  <NL> while ( count > 0 ) {  <NL> ssl engine result result = engine . wrap ( empty , output ) ;  <NL> handshake status status = result . get handshake status ( ) ;  <NL>  <NL> switch ( status ) {  <NL> case not _ handshaking :  <NL> case finished :  <NL> case need _ unwrap :  <NL> return server ;  <NL> case need _ wrap :  <NL> return write ( count - 1 ) ;  <NL> case need _ task :  <NL> execute ( ) ;  <NL>  }  <NL>  }  <NL> return server ;  <NL>  }  COM: <s> this is used to perform the write part of the negotiation </s>