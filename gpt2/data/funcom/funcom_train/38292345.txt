TDAT: public list ams search ( ams agent description template , long max results ) {  <NL> list results = new array list ( ) ;  <NL> aid [ ] ids = platform agents . keys ( ) ;  <NL> for ( int i = 0 ; i < ids . length ; + + i ) {  <NL> try {  <NL> ams agent description amsd = get ams description ( ids [ i ] ) ;  <NL> if ( match ( template , amsd ) ) {  <NL> results . add ( amsd ) ;  <NL> if ( results . size ( ) > = max results ) {  <NL> break ;  <NL>  }  <NL>  }  <NL>  }  <NL> catch ( not found exception nfe ) {  <NL>  / / the agent disappeared while we were looping . ignore it <NL>  }  <NL>  }  <NL> return results ;  <NL>  }  COM: <s> searches the white pages for agents whose description matches a given </s>