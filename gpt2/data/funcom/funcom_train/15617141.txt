TDAT: private string parse pre process ( parser input parser input , parser output parser output , string raw , int mode ) throws parser exception {  <NL> if ( mode < j flex parser . mode _ preprocess ) {  <NL> return raw ;  <NL>  }  <NL> reader reader = to reader ( raw , false ) ;  <NL> jam wiki pre lexer lexer = new jam wiki pre lexer ( reader ) ;  <NL> int pre mode = ( mode > j flex parser . mode _ preprocess ) ? j flex parser . mode _ preprocess : mode ;  <NL> return this . lex ( lexer , parser input , parser output , pre mode ) ;  <NL>  }  COM: <s> second stage of the parser this method builds metadata </s>