TDAT: public string to string ( object val ) {  <NL> if ( val = = null ) {  <NL> control null operand ( ) ;  <NL> return " " ;  <NL>  } else if ( val instanceof double ) {  <NL> double dval = ( double ) val ;  <NL> if ( double . is na n ( dval ) ) {  <NL> return " " ;  <NL>  } else {  <NL> return dval . to string ( ) ;  <NL>  }  <NL>  } else {  <NL> return val . to string ( ) ;  <NL>  }  <NL>  }  COM: <s> coerce to a string </s>