TDAT: protected int find closest height index ( vector3f position , terrain patch patch ) {  <NL>  <NL> int x = ( int ) position . x ;  <NL> int z = ( int ) position . z ;  <NL>  <NL> if ( x < 0 || x > = patch . get size ( ) - 1 ) {  <NL> return - 1 ;  <NL>  }  <NL> if ( z < 0 || z > = patch . get size ( ) - 1 ) {  <NL> return - 1 ;  <NL>  }  <NL>  <NL> return z * patch . get size ( ) + x ;  <NL>  }  COM: <s> finds the closest height point to a position </s>