TDAT: private batch get batch for graph ( ) {  <NL> batch last valid batch = this . batches . is empty ( ) ? null : this . batches . get ( this . batches . size ( ) - 1 ) ;  <NL>  <NL> if ( last valid batch ! = null & & last valid batch . graph size ( ) < this . max batch size )  <NL> return last valid batch ;  <NL> else {  <NL> batch next = new batch ( this , this . mapper , this . access token , this . timeout , this . retries ) ;  <NL> this . batches . add ( next ) ;  <NL> return next ;  <NL>  }  <NL>  }  COM: <s> get an appropriate batch for issuing a new graph call </s>