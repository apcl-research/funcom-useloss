TDAT: public q name get type ( ) {  <NL>  / / try to get the type from our target if we ' re a reference . . .  <NL> if ( type q name = = null & & href ! = null & & context ! = null ) {  <NL> message element referent = context . get element by id ( href ) ;  <NL> if ( referent ! = null ) {  <NL> type q name = referent . get type ( ) ;  <NL>  }  <NL>  }  <NL> return type q name ;  <NL>  }  COM: <s> get the elements type </s>