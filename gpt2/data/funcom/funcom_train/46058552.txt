TDAT: public instant messaging client get instant messaging client ( string username ) {  <NL>  / / no need to sync over whole method ( get / put ) since only called once per <NL>  / / user request and username .  <NL>  / / we do not sync since " new instant messaging client ( . . . ) " may last quite <NL>  / / long .  <NL> instant messaging client client ;  <NL> client = clients . get ( username ) ;  <NL> if ( client = = null ) {  <NL> string password = get instant messaging credential for user ( username ) ;  <NL> client = new instant messaging client ( username , password ) ;  <NL> clients . put ( username , client ) ;  <NL> return client ;  <NL>  } else {  <NL> return client ;  <NL>  }  <NL>  }  COM: <s> creates an new instant messaging client and connects automatically </s>