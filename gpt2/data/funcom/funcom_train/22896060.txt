TDAT: public void terminate ( ) {  <NL> synchronized ( this . is running ) {  <NL> if ( this . terminate flag ) {  <NL>  / / if we ' re called and the termination flag is already set , this means <NL>  / / that we ' re probably the script - running thread , and should clean up .  <NL> log . debug ( " terminate ( ) : cleaning up lingering peerhandles " ) ;  <NL> peer handle . thread termination cleanup ( ) ;  <NL>  } else {  <NL> this . terminate flag = true ;  <NL> log . debug ( " wakes up all in terminate " ) ;  <NL> this . is running . notify all ( ) ;  <NL>  }  <NL>  }  <NL>  }  COM: <s> clean up and prepare for termination </s>