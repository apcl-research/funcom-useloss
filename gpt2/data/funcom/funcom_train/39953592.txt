TDAT: public process factory wait condition ( condition condition ) {  <NL> if ( exception handler ! = null ) {  <NL> throw new pvm exception ( " exception handler needs to be closed with exception handler end " ) ;  <NL>  }  <NL> if ( transition = = null ) {  <NL> throw new pvm exception ( " no current transition " ) ;  <NL>  }  <NL> object reference < condition > wait condition reference = new object reference < condition > ( condition ) ;  <NL> transition . set wait condition reference ( wait condition reference ) ;  <NL> return this ;  <NL>  }  COM: <s> sets the wait condition on the current transition </s>