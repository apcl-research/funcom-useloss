TDAT: public double percentage ( ) throws illegal state exception {  <NL>  <NL> if ( future . is job finished ( ) ) {  <NL> return 1 . 0 ;  <NL>  }  <NL>  <NL> if ( future . get state ( ) ! = grid job state . executing ) {  <NL> throw new illegal state exception ( " job is not in executing state " ) ;  <NL>  }  <NL>  <NL>  / / deduct 0 . 01 to avoid reaching 100 % before aggregation <NL> double val = ( ( double ) get result count ( ) ) / get total tasks ( ) - 0 . 01 ;  <NL>  <NL> return ( val > 0 ) ? val : 0 ;  <NL>  }  COM: <s> returns a percentage value double 0 1 </s>