TDAT: public void set perception ( int perception ) {  <NL> int old perception = get perception ( ) ;  <NL> if ( old perception ! = perception ) {  <NL> post undo edit ( msg _ perception _ undo , id _ perception , new integer ( old perception ) , new integer ( perception ) ) ;  <NL> update perception info ( perception - ( m perception bonus + ( sheet preferences . are optional iq rules used ( ) ? 10 : get intelligence ( ) ) ) , m perception bonus ) ;  <NL>  }  <NL>  }  COM: <s> sets the perception </s>