TDAT: public snapshot set next ( snapshot snap ) {  <NL> if ( this . is fixed ( ) & & ! this . next snapshot . is null ( ) ) {  <NL> check is not fixed ( ) ;  <NL>  }  <NL> if ( snap . get branch ( ) ! = this . get branch ( ) ) {  <NL> throw new repository exception ( " attempt to set next snapshot to a snapshot on a different branch . " ) ;  <NL>  }  <NL> this . next snapshot = snap ;  <NL> return snap ;  <NL>  }  COM: <s> sets the next snapshot </s>