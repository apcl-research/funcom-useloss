TDAT: public double get raw value ( double value ) {  <NL> if ( function = = none )  <NL> return value ;  <NL> if ( function = = straight _ line & & coefficients ! = null & & coefficients . length = = 2 & & coefficients [ 1 ] ! = 0 . 0 )  <NL> return ( value - coefficients [ 0 ] ) / coefficients [ 1 ] ;  <NL> if ( c table = = null )  <NL> make c table ( ) ;  <NL> float fvalue = ( float ) value ;  <NL> float smallest diff = float . max _ value ;  <NL> float diff ;  <NL> int index = 0 ;  <NL> for ( int i = 0 ; i < c table . length ; i + + ) {  <NL> diff = fvalue - c table [ i ] ;  <NL> if ( diff < 0f ) diff = - diff ;  <NL> if ( diff < smallest diff ) {  <NL> smallest diff = diff ;  <NL> index = i ;  <NL>  }  <NL>  }  <NL> return index ;  <NL>  }  COM: <s> converts a density calibrated value into a raw pixel value </s>