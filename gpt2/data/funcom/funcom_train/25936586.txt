TDAT: private string detect encoding ( ) {  <NL> try {  <NL> ensure has local copy ( ) ;  <NL> input stream is = new buffered input stream ( local document source . open input stream ( ) ) ;  <NL> string encoding = this . encoder detector . guess encoding ( is ) ;  <NL> is . close ( ) ;  <NL> return encoding ;  <NL>  } catch ( exception e ) {  <NL> throw new runtime exception ( " an error occurred while trying to detect the input encoding . " , e ) ;  <NL>  }  <NL>  }  COM: <s> detects the encoding of the local document source input stream </s>