TDAT: public int get prefix end ( ) throws bad location exception {  <NL> i text region php token = get php token ( ) ;  <NL> int end offset = region collection . get start offset ( ) + php script region . get start ( ) + php token . get text end ( ) ;  <NL> if ( php token . get type ( ) = = php region types . php _ constant _ encapsed _ string ) {  <NL>  - - end offset ;  <NL>  }  <NL> return end offset ;  <NL>  }  COM: <s> returns the end of the word on which code assist was invoked </s>