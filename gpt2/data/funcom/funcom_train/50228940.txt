TDAT: private void test connection ( pooled connection conn ) throws sql exception {  <NL> if ( conn . has received exception ( ) || <NL>  ( idle check > = 0 & &  <NL>  ( system . current time millis ( ) - conn . get last used time ( ) > idle check ) ) ) {  <NL>  <NL> conn . clear received exception ( ) ;  <NL>  <NL> if ( ! is connection valid ( conn ) )  <NL> throw new sql exception ( " connection is invalid , remove from pool . " ) ;  <NL>  }  <NL>  }  COM: <s> tests if the connection is still valid or not </s>