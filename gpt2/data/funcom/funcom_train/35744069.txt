TDAT: protected string effective service ( string service ) {  <NL>  <NL>  / / no redirection required . just apply the default service .  <NL> if ( inserted service = = null ) {  <NL> return ( service = = null ) ? orig service : service ;  <NL>  }  <NL>  <NL>  / / check if redirection is applicable .  <NL> return ( ( service ! = null ) & & service . starts with ( inserted service prefix ) ) ? service : inserted service ;  <NL>  }  COM: <s> figure out what the service string will be after mangling if required </s>