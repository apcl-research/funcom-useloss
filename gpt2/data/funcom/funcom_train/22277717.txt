TDAT: public string selected string value ( ) {  <NL> int start , stop ;  <NL>  <NL> if ( has insertion point ( ) ) {  <NL> return " " ;  <NL>  }  <NL>  <NL> start = selection start ( ) ;  <NL> stop = selection stop ( ) ;  <NL>  <NL> if ( start = = - 1 || stop = = - 1 ) {  <NL> return " " ;  <NL>  }  <NL>  <NL> if ( stop = = _ contents . length ( ) ) {  <NL> return _ contents . to string ( ) . substring ( start ) ;  <NL>  }  <NL>  <NL> return _ contents . to string ( ) . substring ( start , stop ) ;  <NL>  }  COM: <s> returns the selected portion of the text fields contents </s>