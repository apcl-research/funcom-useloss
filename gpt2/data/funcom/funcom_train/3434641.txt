TDAT: private void write nesting level ( ) {  <NL> if ( orb = = null || <NL> orb version factory . get foreign ( ) . equals ( orb . get orb version ( ) ) || <NL> orb version factory . get newer ( ) . compare to ( orb . get orb version ( ) ) < = 0 ) {  <NL>  <NL> write _ long ( chunked value nesting level ) ;  <NL>  <NL>  } else {  <NL> write _ long ( end _ flag ) ;  <NL>  }  <NL>  }  COM: <s> handles orb versioning of the end tag </s>