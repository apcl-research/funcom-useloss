TDAT: public double discount factor ( final double rate ) {  <NL> double df = 0 ;  <NL> for ( int i = 0 ; i < 2 * years to maturity ; i + + ) {  <NL> df + = ( coupon rate / 2 ) / math . pow ( 1 + rate / 2 , i ) ;  <NL>  }  <NL> df + = ( 1 + coupon rate / 2 ) / math . pow ( 1 , + rate / 2 , 2 * years to maturity ) ;  <NL> return df ;  <NL>  }  COM: <s> calculate discount factor usually for futures </s>