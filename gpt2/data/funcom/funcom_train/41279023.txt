TDAT: protected long collect cached ( long bytes , boolean check ) {  <NL> cache generation gen , next ;  <NL> long collected = 0 ;  <NL> cache store store = filter . get store ( ) ;  <NL> gen = ( cache generation ) store . get lru generation ( ) ;  <NL> while ( gen ! = null ) {  <NL> next = filter . get store ( ) . get prev generation ( gen ) ;  <NL> collected + = gen . collect space ( bytes - collected , check ) ;  <NL> if ( collected > = bytes ) {  <NL> break ;  <NL>  }  <NL> gen = next ;  <NL>  }  <NL> return collected ;  <NL>  }  COM: <s> collect the existing resources </s>