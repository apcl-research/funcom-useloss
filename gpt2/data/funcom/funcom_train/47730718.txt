TDAT: public int get skill total bonus ( i skill skill ) {  <NL> int bonus = get skill rank bonus ( skill ) ;  <NL> bonus + = get skillcategory total bonus ( get skillcategory ( skill ) ) ;  <NL>  / * special bonus and magicalitems * /  <NL> if ( skill ranks . contains key ( skill . get id ( ) ) ) {  <NL> rank rank = skill ranks . get ( skill . get id ( ) ) ;  <NL> if ( rank . get special bonus ( ) ! = null ) {  <NL> bonus + = rank . get special bonus ( ) . int value ( ) ;  <NL>  }  <NL>  }  <NL> return bonus ;  <NL>  }  COM: <s> returns the sum of rank bonus skillgroup total bonus special skill bonus </s>