TDAT: public string to text ( ) {  <NL> if ( ( codes = = null ) || ( codes . size ( ) = = 0 ) ) return text . to string ( ) ;  <NL> if ( ! is balanced ) balance markers ( ) ;  <NL> string builder tmp = new string builder ( ) ;  <NL> code code ;  <NL> for ( int i = 0 ; i < text . length ( ) ; i + + ) {  <NL> switch ( text . char at ( i ) ) {  <NL> case marker _ opening :  <NL> case marker _ closing :  <NL> case marker _ isolated :  <NL> code = codes . get ( to index ( text . char at ( + + i ) ) ) ;  <NL> tmp . append ( code . data ) ;  <NL> break ;  <NL> default :  <NL> tmp . append ( text . char at ( i ) ) ;  <NL> break ;  <NL>  }  <NL>  }  <NL> return tmp . to string ( ) ;  <NL>  }  COM: <s> returns the content of this fragment including the original codes whenever </s>