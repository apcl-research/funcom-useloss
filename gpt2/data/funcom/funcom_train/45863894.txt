TDAT: public void run ( ) {  <NL> error count = 0 ;  <NL>  <NL> if ( con ! = null ) {  <NL> running = true ;  <NL>  }  <NL>  <NL> if ( debug ) {  <NL> if ( running ) {  <NL> system . out . println ( " server thread running " ) ;  <NL>  } else {  <NL> system . out . println ( " server thread not started " ) ;  <NL>  }  <NL>  }  <NL> while ( running ) {  <NL> try {  <NL> if ( use _ l2cap ) {  <NL> l2cap con . receive ( recv buffer ) ;  <NL>  } else {  <NL> stream recv . read fully ( recv buffer ) ;  <NL>  }  <NL> error count = 0 ;  <NL>  } catch ( exception e ) {  <NL> error count + + ;  <NL>  }  <NL> if ( error count > max _ errors ) {  <NL> running = false ;  <NL>  }  <NL>  }  <NL> close ( ) ;  <NL>  }  COM: <s> reads the blocking client data </s>