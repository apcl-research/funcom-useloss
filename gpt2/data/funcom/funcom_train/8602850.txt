TDAT: private void do error ( io session session , error response message error response message ) {  <NL>  / / when receiving an error packet , throw exception and let exception caught notify future <NL> pg connection connection = io session util . get connection ( session ) ;  <NL>  <NL> string message = error response message . get fields ( ) . get ( error field . message ) ;  <NL> db exception exception ;  <NL> if ( message = = null ) {  <NL> exception = new pg exception ( connection , error response message . get fields ( ) ) ;  <NL>  } else {  <NL> exception = new pg exception ( connection , message , error response message . get fields ( ) ) ;  <NL>  }  <NL> throw exception ;  <NL>  }  COM: <s> when an error packet is received a pg exception is created and thrown </s>