TDAT: public int add mana ( int mana , boolean tell ) {  <NL> int old _ mana = get mana ( ) ;  <NL> int new _ mana = old _ mana + mana ;  <NL> int given = 0 ;  <NL>  <NL>  / / no negative mana <NL> new _ mana = math . max ( new _ mana , 0 ) ;  <NL>  <NL>  / / maximum is base _ mana <NL> new _ mana = math . min ( new _ mana , get base mana ( ) ) ;  <NL>  <NL> given = new _ mana - old _ mana ;  <NL>  <NL> if ( tell ) {  <NL>  / / todo : add notification for increased mana <NL>  }  <NL>  <NL> set mana ( new _ mana ) ;  <NL>  <NL> return given ;  <NL>  }  COM: <s> give mana to the entity </s>