TDAT: private string strip extra chars ( string indent , int max , int tab size ) {  <NL> int measured = 0 ;  <NL> int i = 0 ;  <NL> for ( ; ( measured < max ) & & ( i < indent . length ( ) ) ; i + + ) {  <NL> char ch = indent . char at ( i ) ;  <NL> switch ( ch ) {  <NL> case ' \t ' :  <NL> if ( tab size > 0 ) {  <NL> int reminder = measured % tab size ;  <NL> measured + = tab size - reminder ;  <NL>  }  <NL> break ;  <NL> case ' ' :  <NL> measured + + ;  <NL> break ;  <NL>  }  <NL>  }  <NL> return indent . substring ( 0 , measured > max ? i - 1 : i ) ;  <NL>  }  COM: <s> strips any characters off the end of an indentation that exceed a </s>