TDAT: public void write primitive ( string type , string value ) {  <NL> string clipped value = " " ;  <NL> if ( value ! = null ) {  <NL> clipped value = value ;  <NL> if ( value . length ( ) > ( 50 + 3 ) ) {  <NL> clipped value = value . substring ( 0 , 50 ) + " . . . " ;  <NL>  }  <NL>  }  <NL>  <NL> current state . write primitive ( type ,  <NL> escape string . escape html ( clipped value ) ) ;  <NL>  }  COM: <s> overly long string buffers will cause formatting problems especially if </s>