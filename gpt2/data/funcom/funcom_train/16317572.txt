TDAT: public void commit protected ( ) throws sql exception {  <NL> synchronized ( this ) {  <NL> if ( transaction thread ! = thread . current thread ( ) ) {  <NL>  / / if this thread has not opened this transaction - > error <NL> throw new inconsistency exception ( " transaction was not opened by this thread " ) ;  <NL>  }  <NL> context . commit work ( ) ;  <NL>  / / let next one work on db - connetion <NL> transaction thread = null ;  <NL> retries = 0 ;  <NL> notify ( ) ;  <NL>  }  <NL>  }  COM: <s> commits a protected transaction </s>