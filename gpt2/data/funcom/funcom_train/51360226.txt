TDAT: public int read ( ) {  <NL> int data in ;  <NL>  <NL> bus . start ( ) ;  <NL> bus . write ( addr | 1 ) ; / / send read address ( bit zero is set )  <NL> bus . read ( bus . ack ) ; / / read buffer <NL> data in = bus . read ( bus . nak ) ; / / read current inputs <NL> bus . stop ( ) ;  <NL>  <NL> return ( data in & dirs ) ;  <NL>  }  COM: <s> get pcf8574 inputs pins masked with dirs value </s>