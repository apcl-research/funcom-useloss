TDAT: public node type check ( context visitor tc ) {  <NL> type system ts = tc . type system ( ) ;  <NL>  <NL> type type = null ;  <NL>  <NL> for ( expr e : elements ) {  <NL> if ( type = = null ) {  <NL> type = e . type ( ) ;  <NL>  }  <NL> else {  <NL> try {  <NL> type = ts . least common ancestor ( type , e . type ( ) , tc . context ( ) ) ;  <NL>  } catch ( semantic exception e1 ) {  <NL>  / / leave type unchanged <NL>  }  <NL>  }  <NL>  }  <NL>  <NL> if ( type = = null ) {  <NL> return type ( ts . null ( ) ) ;  <NL>  }  <NL> else {  <NL> return type ( ts . array of ( type ) ) ;  <NL>  }  <NL>  }  COM: <s> type check the initializer </s>