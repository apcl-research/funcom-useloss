TDAT: private void flush queue ( ) throws interrupted exception {  <NL> int queue size = get queue size ( ) ;  <NL> if ( queue size > 1 ) {  <NL> list < logging event > events = new array list < logging event > ( queue size ) ;  <NL> for ( int i = 0 ; i < queue size ; i + + ) {  <NL> events . add ( queue . poll ( ) ) ;  <NL>  }  <NL> add collection of events ( events ) ;  <NL>  } else {  <NL>  / *  <NL>  * this will block the thread until there is a event in the <NL>  * queue . if the thread was interrupted ( such as by a call to <NL>  * shutdown ( ) ) , this call will throw an interrupted exception .  <NL>  * /  <NL> add single message ( queue . take ( ) ) ;  <NL>  }  <NL>  }  COM: <s> writes the contents of the queue to hibernate </s>