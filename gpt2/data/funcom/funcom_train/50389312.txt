TDAT: protected void check version ( persist < ? > p , string table name ) throws persistence exception {  <NL> set < string > ids = p . get i ds ( ) ;  <NL> try {  <NL> if ( ids . size ( ) > 0 ) {  <NL> p . read ( ids . iterator ( ) . next ( ) ) ;  <NL>  }  <NL>  } catch ( data version exception v ) {  <NL>  / / check if we really should delete all unreadable data <NL> if ( ! boolean . get boolean ( " unicore . update . force " ) ) {  <NL> throw v ;  <NL>  }  <NL> logger . info ( " removing unreadable data from table " + table name ) ;  <NL> for ( string id : ids ) {  <NL> try {  <NL> p . read ( id ) ;  <NL>  }  <NL> catch ( data version exception ex ) {  <NL> try {  <NL> p . remove ( id ) ;  <NL>  } catch ( persistence exception pe ) {  <NL> log . log exception ( " error removing " + id , pe ) ;  <NL>  }  <NL>  }  <NL>  }  <NL>  }  <NL>  }  COM: <s> check that the data from the given persist instance can be used </s>