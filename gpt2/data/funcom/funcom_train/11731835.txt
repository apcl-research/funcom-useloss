TDAT: public void flush ( ) throws repository exception {  <NL> try {  <NL> index . wait until indexing queue is empty ( ) ;  <NL> index . safe flush ( ) ;  <NL>  / / flush may have pushed nodes into the indexing queue <NL>  / / - > wait again <NL> index . wait until indexing queue is empty ( ) ;  <NL>  } catch ( io exception e ) {  <NL> throw new repository exception ( " failed to flush the index " , e ) ;  <NL>  }  <NL>  }  COM: <s> waits until all pending text extraction tasks have been processed </s>