TDAT: private void send protocol exception ( drda protocol exception de ) {  <NL> string dbname = null ;  <NL> if ( database ! = null ) {  <NL> dbname = database . get database name ( ) ;  <NL>  }  <NL>  <NL> try {  <NL> println2log ( dbname , session . drda id , de . get message ( ) ) ;  <NL> server . console exception print trace ( de ) ;  <NL> reader . clear buffer ( ) ;  <NL> de . write ( writer ) ;  <NL> finalize chain ( ) ;  <NL>  } catch ( drda protocol exception ioe ) {  <NL>  / / there may be an io exception in the write .  <NL> println2log ( dbname , session . drda id , de . get message ( ) ) ;  <NL> server . console exception print trace ( ioe ) ;  <NL>  }  <NL>  }  COM: <s> notice the client about a protocol error </s>