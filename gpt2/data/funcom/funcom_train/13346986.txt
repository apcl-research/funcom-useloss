TDAT: public void cycle states ( ) {  <NL> int updates = 0 ;  <NL> cycle state current state = get current state ( ) ;  <NL> if ( ! current state . is active ( ) ) {  <NL> enforce current state ( ) ;  <NL> return ;  <NL>  }  <NL> do {  <NL> current index = ( current index + 1 ) % states . size ( ) ;  <NL> updates + + ;  <NL> current state = get current state ( ) ;  <NL> if ( try every state || current state . always activate ( )  <NL> || ! current state . is active ( ) ) {  <NL> enforce current state ( ) ;  <NL> return ;  <NL>  }  <NL>  } while ( updates < states . size ( ) ) ;  <NL>  }  COM: <s> first check the current state </s>