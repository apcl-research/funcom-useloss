TDAT: final protected long get read time ( ) {  <NL>  <NL> if ( get timestamp ( ) = = i tx . read _ committed & & get read consistent ( ) ) {  <NL>  <NL> if ( commit time = = 0l ) {  <NL>  <NL>  / *  <NL>  * the commit time is not yet available ( nothing has been read ) .  <NL>  * /  <NL>  <NL> throw new illegal state exception ( ) ;  <NL>  <NL>  }  <NL>  <NL> return timestamp utility . as historical read ( commit time ) ;  <NL>  <NL>  }  <NL>  <NL> return get timestamp ( ) ;  <NL>  <NL>  }  COM: <s> return the timestamp used for </s>