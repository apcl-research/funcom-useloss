TDAT: public locale resolve locale ( http servlet request request ) {  <NL> locale locale = ( locale ) request . get attribute ( " subsonic . locale " ) ;  <NL> if ( locale ! = null ) {  <NL> return locale ;  <NL>  }  <NL>  <NL>  / / optimization : cache locale in the request .  <NL> locale = do resolve locale ( request ) ;  <NL> request . set attribute ( " subsonic . locale " , locale ) ;  <NL>  <NL> return locale ;  <NL>  }  COM: <s> resolve the current locale via the given request </s>