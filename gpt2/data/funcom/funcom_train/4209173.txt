TDAT: public chat create chat ( string user jid , string thread , message listener listener ) {  <NL> if ( thread = = null ) {  <NL> thread = next id ( ) ;  <NL>  }  <NL> chat chat = thread chats . get ( thread ) ;  <NL> if ( chat ! = null ) {  <NL> throw new illegal argument exception ( " thread id is already used " ) ;  <NL>  }  <NL> chat = create chat ( user jid , thread , true ) ;  <NL> chat . add message listener ( listener ) ;  <NL> return chat ;  <NL>  }  COM: <s> creates a new chat using the specified thread id then returns it </s>