TDAT: protected boolean can apply workflow ( user user , content item item ) {  <NL>  <NL> if ( user = = null ) {  <NL> return false ;  <NL>  }  <NL>  <NL> if ( ! has permission ( user , cms _ edit _ item ) ) {  <NL> return true ;  <NL>  }  <NL>  <NL> if ( workflow . get object workflow id ( item ) ! = null ) {  <NL> return false ;  <NL>  }  <NL>  <NL> return ( has permission ( user , cms _ new _ item , item ) || <NL> has permission ( user , cms _ workflow _ admin ) ) ;  <NL>  }  COM: <s> p check if p </s>