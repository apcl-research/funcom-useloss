TDAT: private void main loop ( ) {  <NL> while ( ! keyboard . is key down ( keyboard . key _ escape )  <NL>  & & ! display . is close requested ( ) ) {  <NL>  / / allow subsystem to get a chance to run too <NL> display . update ( ) ;  <NL>  <NL> if ( display . is visible ( ) ) {  <NL>  / / check keyboard input <NL> process keyboard ( ) ;  <NL> process mouse ( ) ;  <NL>  <NL> render ( ) ;  <NL>  } else {  <NL>  <NL>  / / no need to render / paint if nothing has changed ( ie . window dragged over )  <NL> if ( display . is dirty ( ) ) {  <NL> render ( ) ;  <NL>  }  <NL>  <NL>  / / don ' t waste cpu time , sleep more <NL> try {  <NL> thread . sleep ( 100 ) ;  <NL>  } catch ( interrupted exception inte ) {  <NL>  }  <NL>  }  <NL>  }  <NL>  }  COM: <s> runs the main loop of the test </s>