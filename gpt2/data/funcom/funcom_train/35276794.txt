TDAT: protected void update normals ( ) {  <NL>  <NL> if ( need to recalculate normals ( ) ) {  <NL>  / / todo background - thread this if it ends up being expensive <NL> fix normals ( affected area b box ) ; / / the affected patches <NL> fix normal edges ( affected area b box ) ; / / the edges between the patches <NL>  <NL> set normal recalc needed ( null ) ; / / set to false <NL>  }  <NL>  }  COM: <s> update the normals if there were any height changes recently </s>