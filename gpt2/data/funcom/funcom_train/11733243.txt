TDAT: public write operation start write operation ( ) throws repository exception {  <NL> boolean success = false ;  <NL> versioning lock . write lock lock = acquire write lock ( ) ;  <NL> try {  <NL> state mgr . edit ( ) ;  <NL> success = true ;  <NL> return new write operation ( lock ) ;  <NL>  } catch ( illegal state exception e ) {  <NL> string msg = " unable to start edit operation . " ;  <NL> throw new repository exception ( msg , e ) ;  <NL>  } finally {  <NL> if ( ! success ) {  <NL> lock . release ( ) ;  <NL>  }  <NL>  }  <NL>  }  COM: <s> starts a write operation by acquiring the write lock and setting the </s>