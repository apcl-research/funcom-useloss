TDAT: public int downsample ( double l , double p ) {  <NL> int t [ ] [ ] = this . get triangle data ( true ) ;  <NL> vector v [ ] = this . get vectors ( true ) ;  <NL>  <NL> int total = 0 ;  <NL>  <NL> for ( int i = 0 ; i < t . length ; i + + ) {  <NL> vector v0 = v [ t [ i ] [ 0 ] ] ;  <NL> vector v1 = v [ t [ i ] [ 1 ] ] ;  <NL> vector v2 = v [ t [ i ] [ 2 ] ] ;  <NL>  <NL> double d0 = v0 . subtract ( v1 ) . length ( ) ;  <NL> double d1 = v1 . subtract ( v2 ) . length ( ) ;  <NL> double d2 = v2 . subtract ( v0 ) . length ( ) ;  <NL>  <NL> if ( ( d0 + d1 + d2 ) < l & & math . random ( ) < p ) {  <NL> this . ignore [ i ] = true ;  <NL> total + + ;  <NL>  }  <NL>  }  <NL>  <NL> return total ;  <NL>  }  COM: <s> downsamples this mesh by setting the ignore flag for some triangles </s>