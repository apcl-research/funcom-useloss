TDAT: public void set action ( action new action ) {  <NL>  <NL> if ( new action instanceof massim . framework . invalid action ) {  <NL>  <NL>  / / set invalid action <NL> this . action . type = " invalid " ;  <NL> this . original action = action . type ;  <NL> this . agentstate . current action = action . type ;  <NL>  / / this . agentstate . next action = action . type ;  <NL>  }  <NL>  <NL> else if ( new action instanceof grid simulation agent action ) {  <NL>  <NL>  / / set action <NL> this . action = ( grid simulation agent action ) new action ;  <NL> this . original action = action . type ;  <NL> this . agentstate . current action = action . type ;  <NL>  }  <NL>  }  COM: <s> set the new action for this agent </s>