TDAT: public void close session ( ) throws hibernate exception {  <NL> java . util . stack session stack = ( java . util . stack ) threaded sessions . get ( ) ;  <NL> if ( null ! = session stack ) {  <NL> object [ ] arr = ( object [ ] ) session stack . peek ( ) ;  <NL> string cf = ( string ) arr [ 0 ] ;  <NL> if ( null = = cf ) {  <NL> session session = ( session ) arr [ 1 ] ;  <NL> session . close ( ) ;  <NL> session stack . pop ( ) ;  <NL>  }  <NL> else {  <NL> string configuration file = get configuration file name ( ) ;  <NL> if ( null ! = configuration file & & configuration file . equals ( cf ) ) {  <NL> session session = ( session ) arr [ 1 ] ;  <NL> session . close ( ) ;  <NL> session stack . pop ( ) ;  <NL>  }  <NL>  }  <NL>  }  <NL>  }  COM: <s> close the session </s>