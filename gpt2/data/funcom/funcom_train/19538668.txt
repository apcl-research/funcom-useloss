TDAT: public void set identity name ( string identity ) {  <NL> if ( identity = = null ) {  <NL> set identity impl ( null ) ;  <NL>  } else {  <NL> token token = null ;  <NL> zone renderer zr = map tool . get frame ( ) . get current zone renderer ( ) ;  <NL> if ( zr ! = null )  <NL> token = zr . get zone ( ) . get token by name ( identity ) ;  <NL> set identity impl ( token ) ;  <NL>  / / for the name to be used , even if there is no such token <NL> identity name = identity ;  <NL> set character label ( " speaking as : " + get identity ( ) ) ;  <NL>  }  <NL> html frame factory . impersonate token ( ) ;  <NL>  }  COM: <s> sets the impersonated identity to code identity code which is a token name </s>