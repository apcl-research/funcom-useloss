TDAT: public action undo ( ) throws undo exception {  <NL> try {  <NL> step s = ( step ) applied actions . get last ( ) ;  <NL> s . data . undo action ( s . action ) ;  <NL> applied actions . remove last ( ) ;  <NL> undone actions . add last ( s ) ;  <NL> s . data . notify observers ( s . action , true ) ;  <NL> application . get message dispatcher ( ) . dispatch (  <NL> this , message dispatcher . action _ undone , s . action ) ;  <NL> return s . action ;  <NL>  } catch ( exception e ) {  <NL> throw new undo exception ( ) ;  <NL>  }  <NL>  }  COM: <s> performs an undo operation </s>