TDAT: private int marked ( ) {  <NL> if ( mark position < = read position ) {  <NL>  / / any space between the mark position and <NL>  / / the first write is marked . in this case it <NL>  / / is all in one piece .  <NL> return ( read position - mark position ) ;  <NL>  } else {  <NL>  / / space at the beginning and end .  <NL> return ( buffer . length - ( mark position - read position ) ) ;  <NL>  }  <NL>  }  COM: <s> characters saved for supporting marks </s>