TDAT: public icon icon for activity ( activity < ? > activity ) {  <NL> icon icon = icons map . get ( activity ) ;  <NL> if ( icon = = null ) {  <NL> int best score = activity icon spi . no _ icon ;  <NL> activity icon spi best spi = null ;  <NL> for ( activity icon spi spi : get instances ( ) ) {  <NL> int spi score = spi . can provide icon score ( activity ) ;  <NL> if ( spi score > best score ) {  <NL> best spi = spi ;  <NL> best score = spi score ;  <NL>  }  <NL>  }  <NL> if ( best spi ! = null ) {  <NL> icon = best spi . get icon ( activity ) ;  <NL> icons map . put ( activity , icon ) ;  <NL> return icon ;  <NL>  }  <NL> else {  <NL> return null ;  <NL>  }  <NL>  } else {  <NL> return icon ;  <NL>  }  <NL>  }  COM: <s> returns an icon for the activity </s>