TDAT: protected int next ( int bits ) {  <NL> long oldseed , nextseed ;  <NL> long seed = this . seed ;  <NL> boolean seed equal oldseed = false ;  <NL> do {  <NL> oldseed = seed ;  <NL> nextseed = ( oldseed * multiplier + addend ) & mask ;  <NL> seed equal oldseed = false ;  <NL> if ( seed = = oldseed ) {  <NL> seed = nextseed ;  <NL> seed equal oldseed = true ;  <NL>  }  <NL>  } while ( ! seed equal oldseed ) ;  <NL> return ( int ) ( nextseed > > > ( 48 - bits ) ) ;  <NL>  }  COM: <s> generates the next pseudorandom number </s>