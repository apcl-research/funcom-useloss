TDAT: public void flush ( ) throws io exception {  <NL> if ( root ) {  <NL> final fat file system fs = ( fat file system ) get file system ( ) ;  <NL> if ( fs ! = null ) {  <NL> long offset = fat utils . get root dir offset ( fs . get boot sector ( ) ) ;  <NL> write ( fs . get api ( ) , offset ) ;  <NL>  }  <NL>  } else {  <NL> write ( ) ;  <NL>  }  <NL>  }  COM: <s> flush the contents of this directory to the persistent storage </s>