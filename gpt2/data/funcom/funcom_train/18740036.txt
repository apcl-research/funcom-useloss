TDAT: public dfa state add state ( set < reg node > nodes , boolean is final ) {  <NL> dfa state result =  <NL> new dfa state ( this . state map . size ( ) , nodes , false , is final ) ;  <NL> dfa state old state = this . state map . put ( nodes , result ) ;  <NL> assert old state = = null ;  <NL> return result ;  <NL>  }  COM: <s> adds a normalised state corresponding to a given set of regular automaton nodes </s>