TDAT: private i region model range2widget range ( i region region ) {  <NL> if ( f text viewer instanceof i text viewer extension5 ) {  <NL> i text viewer extension5 extension = ( i text viewer extension5 ) f text viewer ;  <NL> return extension . model range2widget range ( region ) ;  <NL>  }  <NL>  <NL> i region visible region = f text viewer . get visible region ( ) ;  <NL> int start = region . get offset ( ) - visible region . get offset ( ) ;  <NL> int end = start + region . get length ( ) ;  <NL> if ( end > visible region . get length ( ) )  <NL> end = visible region . get length ( ) ;  <NL>  <NL> return new region ( start , end - start ) ;  <NL>  }  COM: <s> translated the given range in the viewers document into the </s>