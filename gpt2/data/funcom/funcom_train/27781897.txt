TDAT: public void read message ( channel callback callback ) throws io exception , interrupted exception {  <NL> byte buffer byte buffer = byte buffer . allocate ( buffsize ) ;  <NL> int nbytes = callback . get channel ( ) . read ( byte buffer ) ;  <NL> byte buffer . flip ( ) ;  <NL> string result = decode ( byte buffer ) ;  <NL> callback . append ( result ) ;  <NL> if ( result . index of ( ' \n ' ) > = 0 ) {  <NL> callback . execute ( ) ;  <NL>  }  <NL>  }  COM: <s> reads next characters from a channel and if a new line is read </s>