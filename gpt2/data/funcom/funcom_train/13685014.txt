TDAT: public void aggregate updates ( plugin aggregation api plugin agg ) {  <NL>  <NL>  / / all locations on which basic updates occur <NL> set < location > basic update locations = plugin agg . get locs with action only ( update . update _ action ) ;  <NL>  <NL> for ( location l : basic update locations ) {  <NL>  / / get all updates on the location <NL> update multiset updates on loc = plugin agg . get loc updates ( l ) ;  <NL>  <NL>  / / for all updates on the location <NL> for ( update u : updates on loc )  <NL>  {  <NL>  / / flag the update as succuessful <NL> plugin agg . flag update ( u , flag . successful , this ) ;  <NL>  <NL>  / / resultant update is this update <NL> plugin agg . add resultant update ( u , this ) ;  <NL>  }  <NL>  }  <NL>  }  COM: <s> basic update aggregator </s>