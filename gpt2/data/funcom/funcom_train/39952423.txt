TDAT: protected void handle job execution exception ( environment environment , job < ? > job , throwable exception ) {  <NL> transaction transaction = environment . get transaction ( ) ;  <NL> transaction . set rollback only ( ) ;  <NL>  <NL> command service command service = ( command service ) environment . get ( command service . class ) ;  <NL> job exception handler job exception handler = new job exception handler ( job . get dbid ( ) , exception , command service ) ;  <NL> transaction . add listener ( job exception handler , transaction . event _ aftercompletion ) ;  <NL>  }  COM: <s> this transaction will be marked for rollback </s>