TDAT: public void mutate selection ( boolean up ) {  <NL>  <NL> if ( ! is selected ( ) ) return ;  <NL> if ( selection . index = = up _ id ) return ;  <NL>  <NL> segment seg = get segment ( selection . index ) ;  <NL>  <NL> seg . mutate type ( up ) ;  <NL>  <NL> if ( ! seg . has object ( selection . obj ) ) {  <NL> selection . obj = segment object . point ; / / deselect ( ) ;  <NL>  }  <NL>  <NL> set needs repaint ( ) ;  <NL>  }  COM: <s> changes the type of the selected segment </s>