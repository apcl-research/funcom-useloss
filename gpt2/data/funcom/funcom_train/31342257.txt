TDAT: public void shutdown ( boolean emergency ) {  <NL> f shutting down = true ;  <NL>  <NL>  / * shutdown connection manager ( safely ) * /  <NL> if ( ! emergency & & f connection service ! = null ) {  <NL> try {  <NL> f connection service . shutdown ( ) ;  <NL>  } catch ( exception e ) {  <NL> activator . safe log error ( e . get message ( ) , e ) ;  <NL>  }  <NL>  }  <NL>  <NL>  / * shutdown persistence service * /  <NL> if ( f persistence service ! = null )  <NL> f persistence service . shutdown ( emergency ) ;  <NL>  <NL> f start level = start level . not _ started ;  <NL>  }  COM: <s> shutdown the services managed by this facade </s>