TDAT: public void insert ( string str ) {  <NL> delete ( ) ;  <NL>  / / adjust given string <NL> if ( str = = null ) {  <NL> str = " " ;  <NL>  }  <NL> if ( max length > = 0 & & get text ( ) . length ( ) + str . length ( ) > max length ) {  <NL> str = str . substring ( 0 , max length - get text ( ) . length ( ) ) ;  <NL>  }  <NL>  <NL>  / / insert string <NL> if ( get field ( ) . is valid value ( this , test insert ( str ) ) ) {  <NL> super . insert ( str ) ;  <NL>  }  <NL> focus ( 0 ) ;  <NL>  }  COM: <s> when trying to insert the given string test whether that is allowed </s>