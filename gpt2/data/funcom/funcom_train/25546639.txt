TDAT: public t insert ( t new item ) {  <NL> lock . lock ( ) ;  <NL> try {  <NL> t old item = items [ index ] ;  <NL> t new aggregate value = aggregator . update aggregate value ( aggregate value , old item , new item ) ;  <NL> items [ index ] = new item ;  <NL> if ( new aggregate value = = null ) {  <NL> new aggregate value = aggregator . compute aggregate value ( items ) ;  <NL>  }  <NL> index = ( index + 1 ) % items . length ;  <NL> insert count + + ;  <NL> this . aggregate value = new aggregate value ;  <NL> return old item ;  <NL>  } finally {  <NL> lock . unlock ( ) ;  <NL>  }  <NL>  }  COM: <s> insert the new item and update </s>