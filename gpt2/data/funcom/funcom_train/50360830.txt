TDAT: final public string wrapper prepare ( string s ) {  <NL> bag of tokens bag = new bag of tokens ( s , tokenizer . tokenize ( s ) ) ;  <NL> double total weight = bag . get total weight ( ) ;  <NL> for ( iterator < token > i = bag . token iterator ( ) ; i . has next ( ) ; ) {  <NL> token tok = ( token ) i . next ( ) ;  <NL> double freq = bag . get weight ( tok ) ;  <NL> bag . set weight ( tok , smoothed probability ( tok , freq , total weight ) ) ;  <NL>  }  <NL> return bag ;  <NL>  }  COM: <s> preprocess a string by finding tokens and giving them weights w </s>