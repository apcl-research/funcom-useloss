TDAT: private void unlink cancelled consumer ( node node ) {  <NL>  / / use a form of double - check to avoid unnecessary locking and <NL>  / / traversal . the first check outside lock might <NL>  / / conservatively report true .  <NL> if ( waiting consumers . should unlink ( node ) ) {  <NL> qlock . lock ( ) ;  <NL> try {  <NL> if ( waiting consumers . should unlink ( node ) )  <NL> waiting consumers . unlink ( node ) ;  <NL>  } finally {  <NL> qlock . unlock ( ) ;  <NL>  }  <NL>  }  <NL>  }  COM: <s> unlinks the given node from consumer queue </s>