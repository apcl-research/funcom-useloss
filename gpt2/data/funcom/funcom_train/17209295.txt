TDAT: public void add shutdown hooks ( ) {  <NL> runtime . get runtime ( ) . add shutdown hook ( new thread ( ) {  <NL>  @ override <NL> public void run ( ) {  <NL>  <NL>  / / closing off network connections <NL> cntrl . shut down ( ) ;  <NL>  <NL> save all ( ) ;  <NL>  <NL>  / / these commands absolutely need to run last , and in this order <NL> program properties pp = program properties . get instance ( ) ;  <NL> pp . set property ( " controller : : connections " , connections ) ;  <NL> pp . save properties ( ) ;  <NL> access access = access impl . get instance ( ) ;  <NL> access . shutdown ( ) ;  <NL>  }  <NL>  } ) ;  <NL>  <NL>  }  COM: <s> this method registers shutdown hook in the runtime system </s>