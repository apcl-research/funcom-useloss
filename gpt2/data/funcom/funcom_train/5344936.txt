TDAT: private void wait impl ( ) throws io exception {  <NL> while ( ! buffer . has remaining ( ) ) {  <NL> if ( shutdown )  <NL> throw new io exception ( " socket closed " ) ;  <NL>  <NL> try {  <NL> lock . wait ( ) ;  <NL>  } catch ( interrupted exception ix ) {  <NL> throw new interrupted io exception ( ix ) ;  <NL>  }  <NL>  <NL>  }  <NL>  <NL> if ( shutdown )  <NL> throw new io exception ( " socket closed " ) ;  <NL>  }  COM: <s> waits until there is space in the buffer to write to </s>