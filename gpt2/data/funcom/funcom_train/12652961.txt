TDAT: public void delete ( ) {  <NL>  / / if the user has not been persisted then ignore this step <NL> if ( is logged in ( ) ) {  <NL> logger . debug ( " deleting patient # # 0 " , patient . get id ( ) ) ;  <NL>  / / because we are deleting the patient and its associations , we do <NL>  / / not need to re - attach invitations ' transient field <NL> merge ( ) ;  <NL> em . remove ( patient ) ;  <NL> em . flush ( ) ;  <NL> logger . debug ( " patient # # 0 deleted " , patient . get id ( ) ) ;  <NL>  }  <NL> logout ( ) ;  <NL>  }  COM: <s> deletes a user and logs out </s>