TDAT: public net ticket get ticket ( ) {  <NL> net ticket ticket = new net ticket ( ran . next long ( ) ) ;  <NL>  <NL> long now = system . current time millis ( ) ;  <NL> long expiry = now + timeout ;  <NL>  <NL> meta ticket meta ticket = new meta ticket ( ticket , expiry ) ;  <NL>  <NL> tickets . add ( meta ticket ) ;  <NL>  <NL> logger . info ( " generating new ticket " + ticket . get number ( ) + " expires " + time formatter . format ( expiry ) ) ;  <NL>  <NL> return ticket ;  <NL>  }  COM: <s> gets a new ticket </s>