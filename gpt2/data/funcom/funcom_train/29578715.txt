TDAT: public void run ( ) {  <NL>  <NL> while ( true ) {  <NL> if ( ! running ) {  <NL> break ;  <NL>  }  <NL>  <NL> final map < file , filesystem watcher > current observers = observers ;  <NL>  <NL> for ( final filesystem watcher filesystem alteration observer : current observers . values ( ) ) {  <NL> final filesystem watcher observer = filesystem alteration observer ;  <NL> observer . check and notify ( ) ;  <NL>  }  <NL>  <NL> try {  <NL> thread . sleep ( delay ) ;  <NL>  } catch ( final interrupted exception e ) {  <NL>  }  <NL>  }  <NL>  }  COM: <s> the core of the monitor </s>