TDAT: public matrix get sol pivoted ( matrix b ) throws singular matrix exception {  <NL> matrix b = null ;  <NL> try {  <NL> b = matrices wrap . dense2matrix ( lu . solve ( matrices wrap . matrix2dense ( b ) ) ) ;  <NL>  } catch ( matrix singular exception e ) {  <NL>  / / todo auto - generated catch block <NL> throw new singular matrix exception (  <NL>  " get l upivoted . partial pivoting fail for a singular matrix . " ) ;  <NL>  }  <NL> return b ;  <NL>  }  COM: <s> solve with lu decomposition </s>