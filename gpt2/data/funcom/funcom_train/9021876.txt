TDAT: protected void page change ( int new page index ) {  <NL> super . page change ( new page index ) ;  <NL> if ( new page index = = 1 ) {  <NL> token table table = ti file . get token table ( ti file . calc _ 8x ) ;  <NL> token [ ] tokens = table . read tokens ( source editor . get document ( ) . get ( ) ) ;  <NL> string text = " " ;  <NL> for ( token t : tokens )  <NL> text + = t . get display text ( ) ;  <NL> text = text . replace all ( " " , ( char ) 0x b7 + " " ) ;  <NL> style range sr = new style range ( ) ;  <NL> preview text . set text ( text ) ;  <NL>  }  <NL>  }  COM: <s> calculates the contents of page 2 when the it is activated </s>