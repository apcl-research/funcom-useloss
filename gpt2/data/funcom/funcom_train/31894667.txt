TDAT: public void update ( long ms ) {  <NL> if ( health . get current hit points ( ) > 0 ) {  <NL>  <NL> time elapsed + = ms ;  <NL>  <NL> if ( time elapsed % 100 = = 0 ) {  <NL> health . set current hit points ( health . get current hit points ( ) + 30 ) ;  <NL>  }  <NL>  <NL> if ( time elapsed > game . spawn _ time / 2 ) {  <NL> time elapsed = 0 ;  <NL>  <NL> if ( ! spawn queue . is empty ( ) ) {  <NL> spawnable spawn object = spawn queue . remove ( 0 ) ;  <NL> spawn object . set waiting for spawn ( false ) ;  <NL> spawn object . spawn ( new vector2 ( x * map . tilesize , y * map . tilesize ) ) ;  <NL>  }  <NL>  }  <NL>  }  <NL>  }  COM: <s> updates the factorys state </s>