TDAT: private int test rotation by geometry ( transform3d t1 ) {  <NL>  <NL> get transform ( trans temp ) ;  <NL>  / / get current rotation <NL> trans temp . get ( rot temp ) ;  <NL>  <NL>  / / break it down <NL> rot current . set ( rot temp ) ;  <NL>  <NL>  / / get incoming rot <NL> t1 . get ( rot temp ) ;  <NL>  <NL>  / / break it down <NL> rot incoming . set ( rot temp ) ;  <NL>  <NL>  / / no new rotation <NL> if ( rot incoming . equals ( rot current ) ) {  <NL> return - 1 ;  <NL>  }  <NL>  <NL>  / / int direction = get direction rotation ( rot current , rot incoming ) ;  <NL>  <NL> int num points = init rotation segments ( t1 ) ;  <NL> return test segments ( num points ) ;  <NL>  <NL>  }  COM: <s> cast segment from point upper cmt to point upper new rot cast segment </s>