TDAT: public boolean lock resource ( int transaction id , int resource id ) throws remote exception {  <NL> resource r = ( resource ) resources . get ( resource id ) ;  <NL> boolean result = r . lock ( transaction id ) ;  <NL>  <NL> if ( ! result ) {  <NL> nof aborts + + ;  <NL> transaction counter + + ;  <NL> r . get lock owner ( ) ;  <NL>  }  <NL>  <NL> if ( gui ! = null ) {  <NL> gui . update transaction counters ( nof aborts , transaction counter ) ;  <NL> gui . update resource table ( resources ) ;  <NL>  }  <NL> return result ;  <NL>  }  COM: <s> gives the lock of the specified local resource to the specified transaction </s>