TDAT: public void stop ( ) {  <NL> thread tmp = null ;  <NL>  <NL>  / / 1 . close the queue <NL> queue . close ( false ) ; / / will stop thread at next peek ( ) ;  <NL>  <NL>  / / 2 . interrupt the scheduler thread <NL> if ( sched _ thread ! = null & & sched _ thread . is alive ( ) ) {  <NL> tmp = sched _ thread ;  <NL> sched _ thread = null ;  <NL> tmp . interrupt ( ) ;  <NL> try { tmp . join ( thread _ join _ timeout ) ; }  <NL> catch ( exception ex ) { }  <NL>  <NL> if ( tmp . is alive ( ) )  <NL> trace . error ( " scheduler . stop ( ) " , " scheduler thread is still not dead ! ! ! " ) ;  <NL>  }  <NL> sched _ thread = null ;  <NL>  <NL>  / / 3 . delete the thread pool <NL> if ( pool ! = null ) {  <NL> pool . destroy ( ) ;  <NL> pool = null ;  <NL>  }  <NL>  }  COM: <s> stop the scheduler thread </s>