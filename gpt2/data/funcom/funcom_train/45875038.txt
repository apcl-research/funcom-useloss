TDAT: public code state set branch end state ( conditional cond , boolean within expansion , int offset ) {  <NL>  / / implicit state change <NL> code state new state = cond ! = null ? cond . f initial state : code state . e active ;  <NL> change state ( new state , branch kind . e end , within expansion , offset ) ;  <NL> return new state ;  <NL>  }  COM: <s> the preprocessor has to inform the context about the state of if and </s>