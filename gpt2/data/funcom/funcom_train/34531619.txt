TDAT: private player create player ( string name , boolean persisted , boolean ai controlled ) throws duplicate player exception {  <NL> player new player ;  <NL>  <NL> synchronized ( players ) {  <NL> if ( players . contains key ( name ) )  <NL> throw new duplicate player exception ( " player with name ' " + name + " ' already exists . " , players . get ( name ) ) ;  <NL>  <NL> new player = new player ( name , persisted , this , ai controlled ) ;  <NL> players . put ( name , new player ) ;  <NL>  }  <NL>  <NL> return new player ;  <NL>  }  COM: <s> creates the new player either temporary or persisted </s>