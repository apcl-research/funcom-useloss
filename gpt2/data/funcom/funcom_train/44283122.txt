TDAT: protected void calculate checksum ( patch p , int start , int end , int offset ) {  <NL> int sum = 0x00 ;  <NL>  / / add all values of address and data <NL> for ( int i = start ; i < offset ; i + + ) {  <NL> sum + = p . sysex [ i ] ;  <NL>  }  <NL>  / / calculate check sum with a simple formula <NL> int chk sm = 0x80 - ( sum % 0x80 ) ;  <NL> p . sysex [ offset ] = ( byte ) chk sm ;  <NL>  }  COM: <s> spd11 patch driver check sum calculation replaces the offset byte br </s>