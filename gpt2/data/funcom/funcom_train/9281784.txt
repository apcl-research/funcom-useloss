TDAT: private sql session context get current sql session context ( ) {  <NL> statement context ctx = get statement context ( ) ;  <NL> sql session context curr ;  <NL>  <NL> if ( ctx = = null || ! ctx . in use ( ) ) {  <NL> curr = get top level sql session context ( ) ;  <NL>  } else {  <NL>  / / we are inside a nested connection in a procedure of <NL>  / / function .  <NL> curr = ctx . get sql session context ( ) ;  <NL>  <NL> if ( sanity manager . debug ) {  <NL> sanity manager . assert (  <NL> curr ! = null ,  <NL>  " sql session context should never be empty here " ) ;  <NL>  }  <NL>  }  <NL>  <NL> return curr ;  <NL>  }  COM: <s> return the current sql session context based on statement context </s>