TDAT: public string encode ( message source , string encoding ) throws hl7exception , encoding not supported exception {  <NL> my validator . validate ( source ) ;  <NL> string result = do encode ( source , encoding ) ;  <NL> my validator . validate ( result , encoding . equals ( " xml " ) , source . get version ( ) ) ;  <NL>  <NL> return result ;  <NL>  }  COM: <s> formats a message object into an hl7 message string using the given </s>