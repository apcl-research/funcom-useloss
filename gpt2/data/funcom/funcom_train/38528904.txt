TDAT: private void previous command ( final int direction ) {  <NL> if ( direction < 0 ) {  <NL> if ( last cmd index > 0 ) {  <NL> last cmd index = last cmd index - 1 ;  <NL>  }  <NL> text in . set text ( cmd stack . get ( last cmd index ) ) ;  <NL>  } else {  <NL> if ( last cmd index < cmd stack . size ( ) ) {  <NL> last cmd index = last cmd index + 1 ;  <NL> if ( last cmd index < cmd stack . size ( ) ) {  <NL> text in . set text ( cmd stack . get ( last cmd index ) ) ;  <NL>  } else {  <NL> text in . set text ( " " ) ;  <NL>  }  <NL>  }  <NL>  }  <NL>  }  COM: <s> get a previous command from the command stack </s>