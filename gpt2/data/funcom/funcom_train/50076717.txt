TDAT: public string generate new free id ( sofaa element element ) {  <NL> string id ;  <NL> do {  <NL> id = long . to string ( max id + + ) ;  <NL>  }  <NL> while ( all sofaa elements . contains key ( id )  <NL> || other elements . contains key ( id ) ) ;  <NL> if ( element ! = null ) {  <NL> all sofaa elements . put ( id , element ) ;  <NL> element . set id ( id ) ;  <NL>  }  <NL> else {  <NL> other elements . put ( id , new integer ( 1 ) ) ;  <NL>  }  <NL> return id ;  <NL>  }  COM: <s> calculates an new free id and stores the sofaa element in the </s>