TDAT: private void next event in document ( boolean attach ) {  <NL>  / / no filter cases <NL> if ( filter = = null ) {  <NL> next document ( ) ;  <NL> return ;  <NL>  }  <NL>  <NL>  / / filter - based case <NL> if ( filter . has next ( ) ) {  <NL> if ( attach ) {  <NL>  / / attach the manifest and the current merging info to the start document <NL> event event = filter . next ( ) ;  <NL> start document sd = event . get start document ( ) ;  <NL> sd . set annotation ( info ) ;  <NL> sd . set annotation ( manifest ) ;  <NL> queue . add ( event ) ;  <NL>  }  <NL> else {  <NL> event e = filter . next ( ) ;  <NL> queue . add ( e ) ;  <NL>  }  <NL>  }  <NL> else { / / no more event : close the filter and move to the next document <NL> filter . close ( ) ;  <NL> next document ( ) ;  <NL>  }  <NL>  }  COM: <s> get the next event in the current document </s>