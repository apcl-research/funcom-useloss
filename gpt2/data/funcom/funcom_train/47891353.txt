TDAT: protected void clean up ( ) {  <NL>  / / detach the main listener <NL> colours = null ;  <NL> widget . redraw ( ) ;  <NL> widget . remove line background listener ( this ) ;  <NL>  <NL>  / / detach the leap frog listener <NL> if ( painter ! = null ) {  <NL> i text viewer extension2 extension = ( i text viewer extension2 ) viewer ;  <NL> extension . remove painter ( painter ) ;  <NL>  }  <NL>  <NL>  / / free all the colours in the colour cache <NL> cache . flush ( ) ;  <NL>  <NL> metric . delete observer ( this ) ;  <NL> metric = null ;  <NL>  <NL> line tracker listener . get instance ( ) . get line tracker ( this . viewer ) . clear messages ( ) ;  <NL>  }  COM: <s> cleanup the colourer and detach all listeners </s>