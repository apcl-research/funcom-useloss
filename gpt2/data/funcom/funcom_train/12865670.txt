TDAT: public conditional criteria build single ( ) {  <NL> assert brace count ( ) ;  <NL> assert operator stack ( ) ;  <NL> if ( criteria stack . size ( ) > 1 ) {  <NL> throw new illegal state exception ( " invalid criteria , too many items in the build stack : "  <NL>  + criteria stack . size ( ) ) ;  <NL>  }  <NL> if ( criteria stack . is empty ( ) ) {  <NL> return null ;  <NL>  }  <NL> return criteria stack . peek ( ) ;  <NL>  }  COM: <s> easier to use from test </s>