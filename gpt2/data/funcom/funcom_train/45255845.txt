TDAT: private void save tree selection ( ) {  <NL> i structured selection selection = ( i structured selection ) tree <NL>  . get viewer ( ) . get selection ( ) ;  <NL> object element = selection . get first element ( ) ;  <NL> string buffer buffer = new string buffer ( ) ;  <NL> append marker to buffer ( buffer , element ) ;  <NL> if ( buffer . length ( ) > 0 ) {  <NL> buffer . append ( ( ( i theme element definition ) element ) . get id ( ) ) ;  <NL>  }  <NL> get preference store ( ) . set value ( selected _ element _ pref , buffer . to string ( ) ) ;  <NL>  }  COM: <s> save the selection state of the tree </s>