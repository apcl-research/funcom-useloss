TDAT: public void add dirty ( state manager impl sm ) {  <NL> if ( _ dirty = = null ) {  <NL> if ( _ order dirty )  <NL>  _ dirty = map backed set . decorate ( new linked map ( ) ) ;  <NL> else <NL>  _ dirty = new hash set < state manager impl > ( ) ;  <NL>  }  <NL> if ( _ dirty . add ( sm ) )  <NL> remove clean internal ( sm ) ;  <NL>  }  COM: <s> add the given instance to the dirty cache </s>