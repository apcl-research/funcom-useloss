TDAT: public void finish ( ) throws io exception {  <NL> if ( done ) {  <NL> return ;  <NL>  }  <NL> def . finish ( ) ;  <NL> int x = 0 ;  <NL> while ( ! def . finished ( ) ) {  <NL> if ( def . needs input ( ) ) {  <NL> def . set input ( buf , 0 , 0 ) ;  <NL>  }  <NL> x = def . deflate ( buf ) ;  <NL> out . write ( buf , 0 , x ) ;  <NL>  }  <NL> done = true ;  <NL>  }  COM: <s> writes any unwritten data to the underlying stream </s>