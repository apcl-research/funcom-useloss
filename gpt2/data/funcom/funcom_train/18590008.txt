TDAT: public void on receive ask ( message ask ask ) {  <NL> synchronized ( sync obj ) {  <NL> collections . sort ( bids , comp bids ) ;  <NL> if ( bids . size ( ) > 0 ) {  <NL> message bid bid = ( message bid ) bids . get first ( ) ;  <NL> double price ask = ask . get price ( ) ;  <NL> double price bid = bid . get price ( ) ;  <NL>  <NL> if ( price bid > = price ask ) {  <NL> double final price = ( price ask + price bid ) / 2 ;  <NL> super . match ( ask , bid , final price ) ;  <NL>  <NL> bids . remove ( bid ) ;  <NL>  }  <NL> else {  <NL> asks . add ( ask ) ;  <NL>  }  <NL>  }  <NL> else {  <NL> asks . add ( ask ) ;  <NL>  }  <NL>  }  <NL>  }  COM: <s> called when a ask is sent by a provider </s>