TDAT: private void on close ( ) {  <NL> on save check ( ) ;  <NL>  <NL> add history ( " close viewer " ) ;  <NL>  <NL> tmev . set data type ( tmev . data _ type _ two _ dye ) ; / / default type <NL> default tree model model = ( default tree model ) tree . get model ( ) ;  <NL> fire on close event ( ( default mutable tree node ) model . get root ( ) ) ;  <NL> mainframe . dispose ( ) ;  <NL> manager . remove component ( this ) ;  <NL>  }  COM: <s> invoked by a window listener when frame close button was pressed </s>