TDAT: private long date diff ( calendar end ) {  <NL> calendar today = calendar . get instance ( locale . us ) ;  <NL>  <NL>  / / if the book is overdue return 0 .  <NL> if ( end . before ( today ) ) {  <NL> return 0 ;  <NL>  }  <NL>  <NL>  / / otherwise return the difference from today and the due date .  <NL> long dif = ( end . get time in millis ( ) - today . get time in millis ( ) ) ;  <NL> return ( dif / ( 1000l * 60l * 60l * 24l ) ) ;  <NL>  }  COM: <s> calculates the difference between today and this books due date </s>