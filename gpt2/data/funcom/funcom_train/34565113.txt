TDAT: private void finish text ( ) throws io exception {  <NL> if ( tb . size ( ) ! = 0 ) {  <NL> builder . text ( tb ) ;  <NL> tb . reset ( ) ;  <NL>  }  <NL> for ( int i = 0 ; i < ns . size ; i + + ) builder . start ns ( ns . key [ i ] , ns . val [ i ] ) ;  <NL> ns . reset ( ) ;  <NL>  }  COM: <s> checks if a text node has to be written </s>