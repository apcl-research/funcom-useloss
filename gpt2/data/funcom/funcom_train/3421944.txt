TDAT: public xs simple type definition get primitive type ( ) {  <NL> if ( f variety = = variety _ atomic & & f validation dv ! = dv _ anysimpletype ) {  <NL> xs simple type decl pri = this ;  <NL>  / / recursively get base , until we reach any simple type <NL> while ( pri . f base ! = f any simple type )  <NL> pri = pri . f base ;  <NL> return pri ;  <NL>  }  <NL> else {  <NL>  / / revisit : error situation . runtime exception ?  <NL> return null ;  <NL>  }  <NL>  }  COM: <s> if variety is code atomic code the primitive type definition a </s>