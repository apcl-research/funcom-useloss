TDAT: protected boolean should compress ( http servlet request request , string buffer ) {  <NL> if ( ! allow compression || ! accepts gzip encoding ( request ) ) {  <NL> return false ;  <NL>  } else {  <NL>  / / this is the rough calculation according to google - it ' s just <NL>  / / a basic guesstimate based on utf - 8 using on average 2 characters <NL>  / / for most common strings we might be returning <NL> return ( buffer . length ( ) * 2 ) > 256 ;  <NL>  }  <NL>  }  COM: <s> returns whether the response should be compressed before sending back to </s>