TDAT: protected source to source ( file base directory , file file ) {  <NL> if ( target path ! = null )  <NL> return to source ( target path , file ) ;  <NL> else {  <NL> string base path = base directory . get absolute path ( ) ;  <NL> string file path = base directory . get absolute path ( ) ;  <NL> if ( ! file path . starts with ( base path ) ) {  <NL> throw new illegal argument exception ( " the specified file ' " +  <NL> file + " ' is not below " + base directory ) ;  <NL>  }  <NL> return to source ( file path . substring ( base path . length ( ) ) , file ) ;  <NL>  }  <NL>  }  COM: <s> converts the given file to a source </s>