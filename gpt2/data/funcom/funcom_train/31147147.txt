TDAT: public int dequeue ( list list , int max elements ) {  <NL> if ( num registered ( ) = = 0 ) return 0 ;  <NL>  <NL> if ( ( ready _ size = = 0 ) || ( ready _ offset = = ready _ size ) ) {  <NL> do poll ( 0 ) ;  <NL>  }  <NL> if ( ready _ size = = 0 ) return 0 ;  <NL> int numtoret = math . min ( ready _ size - ready _ offset , max elements ) ;  <NL>  <NL> for ( int i = 0 ; i < numtoret ; i + + ) {  <NL> list . add ( new nio selector queue element ( ready [ ready _ offset + + ] ) ) ;  <NL>  }  <NL> return numtoret ;  <NL>  }  COM: <s> dequeues at most tt max elements tt elements which are ready from the </s>