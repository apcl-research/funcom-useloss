TDAT: protected db db rw ( ) throws exception {  <NL> check session ( ) ;  <NL> try {  <NL> int company _ id = session handler . get company id ( ) ;  <NL>  <NL>  / / no rw in <NL> if ( fake auth ) {  <NL>  _ logger . error ( " attempting to retrieve a db rw ( ) in fake auth mode " , new exception ( ) ) ;  <NL> return null ;  <NL>  }  <NL>  <NL> if ( forced auth )  <NL> company _ id = forced company id ;  <NL>  <NL> if ( company _ id = = 0 )  <NL> return db connection . default cie db rw ( ) ;  <NL>  <NL> return db connection . company db rw ( company _ id ) ;  <NL>  }  <NL> catch ( exception e ) {  <NL> store ( e ) ; throw e ;  <NL>  }  <NL>  }  COM: <s> open a database connection </s>