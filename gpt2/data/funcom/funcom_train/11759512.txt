TDAT: protected agent id lookup agent ( string name ) throws agent not found exception {  <NL> boolean failed = false ;  <NL> agent id id = null ;  <NL> sensor id sid = null ;  <NL> try {  <NL> sid = link default sensor ( ) ;  <NL> use ( agent _ registry , new op ( " lookup agent " , name ) , sid , integer . max _ value ) ;  <NL> perception p = sense ( sid , " lookup _ succeeded|lookup _ failed " , integer . max _ value ) ;  <NL> this . unlink sensor ( sid ) ;  <NL> if ( p . get label ( ) . equals ( " lookup _ succeeded " ) ) {  <NL> id = ( agent id ) p . get content ( 0 ) ;  <NL>  } else {  <NL> failed = true ;  <NL>  }  <NL>  } catch ( exception ex ) {  <NL> failed = true ;  <NL>  }  <NL> if ( failed ) {  <NL> throw new agent not found exception ( ) ;  <NL>  } else {  <NL> return id ;  <NL>  }  <NL>  <NL>  }  COM: <s> auxiliary action to lookup an existing agent </s>