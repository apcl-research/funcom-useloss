TDAT: private reader handle doctype section ( reader to parse ) throws exception {  <NL> int i char ;  <NL> char c char ;  <NL> char prev char = ' ' ;  <NL>  <NL> boolean entities = false ;  <NL>  <NL> while ( ( i char = to parse . read ( ) ) ! = - 1 ) {  <NL> c char = ( char ) i char ;  <NL> if ( c char = = ' [ ' ) entities = true ;  <NL> if ( c char = = ' > ' ) {  <NL> if ( prev char = = ' ] ' & & entities || ! entities )  <NL> return to parse ;  <NL>  }  <NL> prev char = c char ;  <NL>  }  <NL> throw new runtime exception ( " comment is not correctly closed in line : " + line ) ;  <NL>  }  COM: <s> parses the doctype section of a xml document </s>