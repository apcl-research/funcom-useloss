TDAT: public t check allowed ( t old finite state , t new finite state , object . . . messages ) throws application illegal state exception {  <NL> application illegal state exception . check state ( is allowed transition ( old finite state , new finite state ) ,  <NL> get class safely ( old finite state , new finite state ) , " : finite state cannot transition from " , old finite state , " to " , new finite state , " : " , messages ) ;  <NL> return new finite state ;  <NL>  }  COM: <s> throws exception if old finite state </s>