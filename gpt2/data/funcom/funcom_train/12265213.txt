TDAT: public void send error ( int error code , string msg ) {  <NL> if ( is close on sending error || ( ( error code > = 500 ) & & is _ close _ connection _ on _ 5xx _ response ) ) {  <NL> set persistent ( false ) ;  <NL>  }  <NL>  <NL> if ( is response committed ( ) ) {  <NL> throw new illegal state exception ( " response is already committed " ) ;  <NL>  }  <NL>  <NL> super . send error ( error code , msg ) ;  <NL>  }  COM: <s> send an error response </s>