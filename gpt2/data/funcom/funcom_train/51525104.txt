TDAT: protected form field get field for update ( ) {  <NL> form field field4update ;  <NL> form form = source . get form ( ) ;  <NL> form root form = get root form ( ) ;  <NL> switch ( event def . get view update type ( ) ) {  <NL> case event const . self :  <NL> field4update = source ;  <NL> break ;  <NL> case event const . parent _ form :  <NL> field4update = form ;  <NL> break ;  <NL> case event const . foreparent _ form :  <NL> if ( form . get parent form ( ) = = null ) {  <NL> field4update = form ;  <NL>  } else {  <NL> field4update = form . get parent form ( ) ;  <NL>  }  <NL> break ;  <NL> case event const . root _ form :  <NL> field4update = root form ;  <NL> break ;  <NL> default :  <NL> field4update = form ;  <NL>  }  <NL> return field4update ;  <NL>  }  COM: <s> the root field for update </s>