TDAT: public encoding detect encoding ( url url ) {  <NL> byte raw text [ ] = new byte [ buffer size ] ;  <NL> int bytes read = 0 , byte offset = 0 ;  <NL> encoding guess = encoding . other ;  <NL> input stream url stream ;  <NL>  <NL> try {  <NL> url stream = url . open stream ( ) ;  <NL> while ( ( bytes read = url stream . read ( raw text , byte offset ,  <NL> raw text . length - byte offset ) ) > 0 ) {  <NL> byte offset + = bytes read ;  <NL>  }  <NL> url stream . close ( ) ;  <NL> guess = detect encoding ( raw text ) ;  <NL>  } catch ( exception e ) {  <NL> for output . save error ( e ) ;  <NL> guess = encoding . other ;  <NL>  }  <NL>  <NL> return guess ;  <NL>  }  COM: <s> this function looks at the url contents and assigns it a probability </s>