TDAT: private int count affiliations ( string node name , pub sub affiliation affiliation ) {  <NL> map < entity , pub sub affiliation > affils = this . node affiliations . get ( node name ) ;  <NL> int i = 0 ;  <NL> for ( pub sub affiliation a : affils . values ( ) ) {  <NL> if ( a . equals ( affiliation ) )  <NL>  + + i ;  <NL>  }  <NL> return i ;  <NL>  }  COM: <s> calculates how many users with the given affiliation are present for this node </s>