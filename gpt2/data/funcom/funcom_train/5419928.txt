TDAT: static public int next doc id ( int kind , session s ) throws hibernate exception {  <NL> int next = 0 ;  <NL> transaction tx = null ;  <NL> try {  <NL> tx = s . begin transaction ( ) ;  <NL> doc counter cnt = get counter instance ( kind , s ) ;  <NL> next = cnt . get next doc id ( ) ;  <NL> tx . commit ( ) ;  <NL>  }  <NL> catch ( hibernate exception e ) {  <NL> if ( tx ! = null )  <NL> tx . rollback ( ) ;  <NL> throw e ;  <NL>  }  <NL> return next ;  <NL>  }  COM: <s> return the next doc </s>