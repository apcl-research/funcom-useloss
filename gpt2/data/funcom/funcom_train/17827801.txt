TDAT: public string do expand ( string str ) {  <NL>  <NL> writer writer = new string writer ( str . length ( ) ) ;  <NL> try {  <NL>  <NL> velocity . evaluate ( expand context , writer , " < string > " , str ) ;  <NL>  }  <NL> catch ( exception e ) {  <NL>  <NL> session . err . println ( " error during variable expansion : "  <NL>  + e . get message ( ) ) ;  <NL>  }  <NL>  <NL> return writer . to string ( ) ;  <NL>  }  COM: <s> performs the actual variable expansion </s>