TDAT: private void set xf to font ( font f ) {  <NL>  / / myfont = f ;  <NL> int fti = add font if necessary ( f ) ;  <NL>  / / deal with new <NL> if ( myxf = = null ) { / / shouldn ' t ! !  <NL> myxf = this . duplicate xf ( null ) ;  <NL> myxf . set font ( fti ) ;  <NL>  } else if ( myxf . get ifnt ( ) ! = fti ) { / / if not using font already , duplicate xf and set to new font <NL> xf xf = clone xf ( myxf ) ;  <NL> xf . set font ( fti ) ;  <NL> update xf ( xf ) ;  <NL>  }  <NL>  <NL>  }  COM: <s> set new font to xf handling duplication and caching </s>