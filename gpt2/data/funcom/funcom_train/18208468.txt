TDAT: protected session get hibernate session ( ) throws server not available exception {  <NL> service context context = this . get context ( ) ;  <NL> if ( context = = null ) {  <NL> throw new server not available exception ( ) ;  <NL>  }  <NL> service session session = context . get session ( ) ;  <NL> if ( session = = null ) {  <NL> throw new server not available exception ( ) ;  <NL>  }  <NL> session hib session = ( session ) session . get attribute ( " hibernate session " ) ;  <NL> if ( hib session = = null ) {  <NL> hib session = hibernate util . get session factory ( ) . open session ( ) ;  <NL> session . set attribute ( " hibernate session " , hib session ) ;  <NL>  }  <NL> return hib session ;  <NL>  }  COM: <s> gets hibernate session from session context </s>