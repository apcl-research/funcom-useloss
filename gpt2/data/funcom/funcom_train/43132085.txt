TDAT: public boolean has finished animation ( ) {  <NL>  / / tests all the illegal states of command and current command <NL> command last = get last command ( ) ;  <NL> if ( last = = null <NL> ||current animation command = = null <NL> ||current animation command index < 0 <NL> ||current animation command index > = command list . size ( ) )  <NL> return true ;  <NL> else {  <NL>  / / tests if the last comment is the current and it is completed <NL> command pos last = current animation command ;  <NL> return pos last = = last & & last . has completed ( ) ;  <NL>  }  <NL>  }  COM: <s> returns if the animation is finished </s>