TDAT: public boolean is presence update ( jid jid , presence new presence ) {  <NL> assert ( new presence ! = null ) ;  <NL> presence old presence = data map . get ( jid ) . get presence ( ) ;  <NL> if ( old presence = = null ) {  <NL> return true ;  <NL>  }  <NL> if ( ! new presence . get show ( ) . equals ( old presence . get show ( ) )  <NL> || ! new presence . get status ( ) . equals ( old presence . get status ( ) )  <NL> || new presence . get priority ( ) ! = old presence . get priority ( ) ) {  <NL> return true ;  <NL>  }  <NL> return false ;  <NL>  }  COM: <s> whether the new presence is different from cached one </s>