TDAT: protected void ensure capacity ( dimension req ) {  <NL> if ( offscreen buffer = = null ) {  <NL> create new buffer ( req . width , req . height ) ;  <NL>  } else {  <NL> int w = offscreen buffer . get width ( null ) ;  <NL> int h = offscreen buffer . get height ( null ) ;  <NL> if ( ( w < req . width ) || ( h < req . height ) ) {  <NL> if ( w < req . width ) { w = req . width ; }  <NL> if ( h < req . height ) { h = req . height ; }  <NL>  / / should i try to free something ?  <NL> create new buffer ( w , h ) ;  <NL>  }  <NL>  }  <NL>  }  COM: <s> this method sets up all the instance variables </s>