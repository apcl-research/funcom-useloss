TDAT: private void update pairs ( ) throws bad location exception {  <NL> if ( f document instanceof i document extension4 ) {  <NL> i document extension4 document = ( i document extension4 ) f document ;  <NL>  <NL> if ( document . get modification stamp ( ) = = cached stamp ) {  <NL> return ;  <NL>  }  <NL>  <NL>  } else {  <NL> string content = f document . get ( 0 , f document . get length ( ) ) ;  <NL>  <NL> if ( content . hash code ( ) = = cached hash ) {  <NL> return ;  <NL>  }  <NL>  }  <NL>  <NL> recalc ( ) ;  <NL>  }  COM: <s> recalcs pairs for the document only if it is required </s>