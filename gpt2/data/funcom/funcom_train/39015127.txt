TDAT: private class shutdown hook implements runnable {  <NL>  <NL> private boolean attached = false ;  <NL> private destroyer destroyer ;  <NL> private thread hook = new thread ( this ) ;  <NL>  <NL> private shutdown hook ( destroyer destroyer ) {  <NL> this . destroyer = destroyer ;  <NL>  }  <NL>  <NL>  / * *  <NL>  * register this hook to the current runtime env <NL>  * @ param destroyer <NL>  * /  <NL> private void prepare shutdown procedure ( ) {  <NL> if ( ! attached ) {  <NL> runtime . get runtime ( ) . add shutdown hook ( hook ) ;  <NL> attached = true ;  <NL>  }  <NL>  }  <NL>  <NL> private void remove shutdown procedure ( ) {  <NL> if ( attached ) {  <NL> runtime . get runtime ( ) . remove shutdown hook ( hook ) ;  <NL> attached = false ;  <NL>  }  <NL>  }  <NL>  <NL>  / * *  <NL>  * this code is performed when jvm is closing <NL>  * /  <NL> public void run ( ) {  <NL> destroyer . destroy all ( ) ;  <NL>  }  <NL>  }  COM: <s> this class handles the shutdown procedure calling the destry method </s>