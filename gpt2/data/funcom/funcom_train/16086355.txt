TDAT: public affine transform get draw transform ( ) {  <NL> draw transform . set to identity ( ) ;  <NL>  <NL> draw transform . translate ( get center scale ( ) . get x ( ) * get width ( ) , get center scale ( ) . get y ( ) * get height ( ) ) ;  <NL> draw transform . scale ( get scale factor ( ) . get x ( ) , get scale factor ( ) . get y ( ) ) ;  <NL> draw transform . translate ( - get view center ( ) . get x ( ) , get view center ( ) . get y ( ) ) ;  <NL>  <NL> return draw transform ;  <NL>  }  COM: <s> calculates the affine transform needed to draw correctly </s>