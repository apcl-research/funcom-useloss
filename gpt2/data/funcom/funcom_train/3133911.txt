TDAT: public boolean send ( ) throws io exception {  <NL> int require = output . position ( ) ;  <NL> int count = 0 ;  <NL>  <NL> if ( require > 0 ) {  <NL> output . flip ( ) ;  <NL>  }  <NL> while ( count < require ) {  <NL> int size = channel . write ( output ) ;  <NL>  <NL> if ( size < = 0 ) {  <NL> break ;  <NL>  }  <NL> count + = size ;  <NL>  }  <NL> if ( require > 0 ) {  <NL> output . compact ( ) ;  <NL>  }  <NL> return count = = require ;  <NL>  }  COM: <s> here we attempt to send all data within the output buffer </s>