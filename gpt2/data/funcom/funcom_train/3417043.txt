TDAT: private string read string ( boolean unshared ) throws io exception {  <NL> string str ;  <NL> byte tc = bin . read byte ( ) ;  <NL> switch ( tc ) {  <NL> case tc _ string :  <NL> str = bin . read utf ( ) ;  <NL> break ;  <NL>  <NL> case tc _ longstring :  <NL> str = bin . read long utf ( ) ;  <NL> break ;  <NL>  <NL> default :  <NL> throw new stream corrupted exception (  <NL> string . format ( " invalid type code : % 02x " , tc ) ) ;  <NL>  }  <NL> pass handle = handles . assign ( unshared ? unshared marker : str ) ;  <NL> handles . finish ( pass handle ) ;  <NL> return str ;  <NL>  }  COM: <s> reads in and returns new string </s>