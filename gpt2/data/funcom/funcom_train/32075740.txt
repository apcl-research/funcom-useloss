TDAT: public void set error ( final string text ) {  <NL> mail holder . get instance ( ) . flush messages ( ) ;  <NL> display . async exec ( new runnable ( ) {  <NL>  <NL> public void run ( ) {  <NL> log ui . add log line ( " error : " + text ) ;  <NL> error mail = true ;  <NL> handle tray image ( ) ;  <NL> message menu = new menu ( shell , swt . drop _ down ) ;  <NL> messages item . set menu ( message menu ) ;  <NL> add message to menu ( " error receiving mail " ) ;  <NL>  }  <NL>  } ) ;  <NL>  }  COM: <s> update the ui for an error </s>