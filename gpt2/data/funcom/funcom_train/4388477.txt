TDAT: protected message create message with image attachment ( ) throws exception {  <NL> message message = create mime message ( ) ;  <NL> body part part1 = new mime body part ( ) ;  <NL> part1 . set content ( text _ plain _ content , text _ plain _ type ) ;  <NL>  <NL> body part part2 = new mime body part ( ) ;  <NL> byte array data source ds = new byte array data source ( get image bytes ( ) , image _ type ) ;  <NL> part2 . set data handler ( new data handler ( ds ) ) ;  <NL> part2 . set file name ( image _ file ) ;  <NL>  <NL> multipart multipart = new mime multipart ( ) ;  <NL> multipart . add body part ( part1 ) ;  <NL> multipart . add body part ( part2 ) ;  <NL>  <NL> message . set content ( multipart ) ;  <NL> message . save changes ( ) ;  <NL>  <NL> return message ;  <NL>  }  COM: <s> creates the message with image attachment </s>