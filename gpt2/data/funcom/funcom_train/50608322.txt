TDAT: private int do _ query _ req ( message token msg ) {  <NL>  <NL> if ( ! dep _ query _ req . contains ( msg . get sender ( ) ) )  <NL> throw new place manager exception ( over _ request ) ;  <NL>  <NL>  / / remove the sender from the dependency list <NL> dep _ query _ req . remove ( msg . get sender ( ) ) ;  <NL>  <NL>  / / reply to the requester with the local database <NL> queue . put ( new message token ( msg . get sender ( ) ,  <NL> time ,  <NL> tk _ query _ reply ,  <NL> local _ objects ) ) ;  <NL> return process query end ( ) ;  <NL>  }  COM: <s> response to a tk query request message </s>