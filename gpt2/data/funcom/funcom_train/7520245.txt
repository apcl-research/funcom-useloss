TDAT: public void peek read only ( msg buffer mbuf ) {  <NL> if ( first = = null ) {  <NL> mbuf . data = null ;  <NL> mbuf . off = 0 ;  <NL> mbuf . len = 0 ;  <NL> return ;  <NL>  }  <NL>  <NL> if ( first . refs < 2 ) {  <NL> if ( ro _ mode ) {  <NL> first . off = ro _ off ;  <NL> first . len = ro _ len ;  <NL>  <NL> ro _ mode = false ;  <NL> ro _ off = 0 ;  <NL> ro _ len = 0 ;  <NL>  }  <NL> peek ( mbuf ) ;  <NL> return ;  <NL>  }  <NL>  <NL> if ( ro _ mode ) {  <NL> if ( mbuf . len > ro _ len ) {  <NL> peek ( mbuf ) ;  <NL> return ;  <NL>  }  <NL>  <NL> mbuf . data = first . buf ;  <NL> mbuf . off = ro _ off ;  <NL>  } else {  <NL> if ( mbuf . len > first . len ) {  <NL> peek ( mbuf ) ;  <NL> return ;  <NL>  }  <NL>  <NL> mbuf . data = first . buf ;  <NL> mbuf . off = first . off ;  <NL>  <NL> ro _ off = first . off ;  <NL> ro _ len = first . len ;  <NL> ro _ mode = true ;  <NL>  }  <NL>  }  COM: <s> peeks the requested number of bytes without copying these bytes </s>