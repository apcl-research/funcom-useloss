TDAT: private void end moding ( ) {  <NL> if ( _ moding ) {  <NL> assert d . off || _ mode ! = embedded ;  <NL>  <NL> if ( _ mode = = modal )  <NL> executions . notify all ( _ mutex ) ;  <NL>  <NL> if ( _ mode = = modal )  <NL> response ( null , new au end modal ( this ) ) ;  <NL> else if ( _ mode = = popup )  <NL> response ( null , new au end popup ( this ) ) ;  <NL> else <NL> response ( null , new au end overlapped ( this ) ) ;  <NL>  _ moding = false ;  <NL>  }  <NL>  }  COM: <s> ends the modal mode </s>