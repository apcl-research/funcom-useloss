TDAT: private void ensure document listener installed ( ) {  <NL> if ( f document listener = = null ) {  <NL> f document listener = new i document listener ( ) {  <NL> public void document about to be changed ( document event event ) {  <NL> if ( ! f inserting )  <NL> f document events . add ( event ) ;  <NL>  }  <NL>  <NL> public void document changed ( document event event ) {  <NL> if ( ! f inserting )  <NL> filter proposals ( ) ;  <NL>  }  <NL>  } ;  <NL> i document document = f content assist subject control adapter . get document ( ) ;  <NL> if ( document ! = null )  <NL> document . add document listener ( f document listener ) ;  <NL>  }  <NL>  }  COM: <s> installs the document listener if not already done </s>