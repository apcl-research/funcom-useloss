TDAT: public void close ( ) throws io exception {  <NL> switch ( state ) {  <NL> case ready :  <NL> throw new illegal state exception ( " file " + temp file <NL>  + " hasn ' t been opened yet . " ) ;  <NL> case closed :  <NL> throw new illegal state exception ( " file " + temp file <NL>  + " has been closed already . " ) ;  <NL> default : / / open <NL> file writer . close ( ) ;  <NL> temp file . rename to ( file ) ;  <NL> state = state . closed ;  <NL>  }  <NL>  }  COM: <s> close the writer and rename the file </s>