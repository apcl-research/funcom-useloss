TDAT: private double get horizon pixel ( int x ) {  <NL> double y = null ;  <NL> switch ( vr control . get vr status ( ) ) {  <NL> case vr control . measure _ from _ horizon :  <NL> y = get horizon pixel _ h ( x ) ;  <NL> break ;  <NL> case vr control . measure _ from _ shore :  <NL> y = get horizon pixel _ h ( x ) ;  <NL> break ;  <NL>  }  <NL> if ( y = = null ) {  <NL>  / *  <NL>  * work something out based on the tilt so that the <NL>  * shore line gets shown at the top of the image in any case .  <NL>  * /  <NL> double dx = x - ( get image width ( ) / 2 ) ;  <NL> y = - dx * math . tan ( vr control . get horizon tilt ( ) * math . pi / 180 ) ;  <NL>  }  <NL> return y ;  <NL>  }  COM: <s> gets the y coordinate of the horizon at a given x </s>