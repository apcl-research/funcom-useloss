TDAT: private void check no self intersecting ring ( edge intersection list ei list ) {  <NL> set node set = new tree set ( ) ;  <NL> boolean is first = true ;  <NL> for ( iterator i = ei list . iterator ( ) ; i . has next ( ) ; ) {  <NL> edge intersection ei = ( edge intersection ) i . next ( ) ;  <NL> if ( is first ) {  <NL> is first = false ;  <NL> continue ;  <NL>  }  <NL> if ( node set . contains ( ei . coord ) ) {  <NL> valid err = new topology validation error (  <NL> topology validation error . ring _ self _ intersection ,  <NL> ei . coord ) ;  <NL> return ;  <NL>  } else {  <NL> node set . add ( ei . coord ) ;  <NL>  }  <NL>  }  <NL>  }  COM: <s> check that a ring does not self intersect except at its endpoints </s>