TDAT: public image filter ( image image ) {  <NL> image processed image = null ;  <NL>  <NL> if ( image instanceof intensity image ) {  <NL> intensity image intens image = ( intensity image ) image ;  <NL> short [ ] [ ] matrix = intens image . get data ( ) ;  <NL> short [ ] [ ] equalized matrix = filter ( matrix ) ;  <NL> processed image = new intensity image ( equalized matrix ) ;  <NL>  } else {  <NL> system . out . println ( " histogram equalization is only "  <NL>  + " implemented for instances of " + " intensity image . " ) ;  <NL> processed image = null ;  <NL>  }  <NL>  <NL> return processed image ;  <NL>  }  COM: <s> performs histogram equalization on an intensity image </s>