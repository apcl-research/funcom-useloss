TDAT: public void end merge map ( ) throws topic map processing exception {  <NL> if ( m _ curr scope . is empty ( ) ) {  <NL> m _ tm . add merge map ( m _ merge map locator , null ) ;  <NL>  } else {  <NL> m _ tm . add merge map ( m _ merge map locator ,  <NL>  ( topic [ ] ) m _ curr scope . to array ( new topic [ 1 ] ) ) ;  <NL>  }  <NL>  <NL> pop purpose ( ) ;  <NL>  }  COM: <s> indicates the end of a merge map event </s>