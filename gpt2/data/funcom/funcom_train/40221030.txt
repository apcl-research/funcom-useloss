TDAT: public instruction undo ( ) {  <NL> if ( moves . is empty ( ) ) {  <NL> return null ;  <NL>  }  <NL> instruction undo val = moves . pop ( ) ;  <NL>  <NL> undo instruction ( undo val ) ;  <NL>  <NL> if ( undo val . get start piece ( ) . get first moved ( ) > moves . size ( ) ) {  <NL> undo val . get start piece ( ) . set first moved ( - 1 ) ;  <NL>  }  <NL>  <NL> if ( last instruction ( ) ! = null ) {  <NL> get board ( ) . set last piece moved ( last instruction ( ) . get start piece ( ) ) ;  <NL>  } else {  <NL> get board ( ) . set last piece moved ( null ) ;  <NL>  }  <NL>  <NL> next turn ( ) ;  <NL>  <NL> notify observers ( ) ;  <NL>  <NL> return undo val ;  <NL>  }  COM: <s> undoes the last instruction performed upon the game </s>