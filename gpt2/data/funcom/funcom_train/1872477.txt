TDAT: public long next long ( long n ) {  <NL>  <NL> if ( n < = 0 )  <NL> throw new illegal argument exception ( " n must be positive " ) ;  <NL>  <NL> if ( ( n & - n ) = = n ) / / i . e . , n is a power of 2 <NL>  {  <NL> return next long ( ) & ( n - 1 ) ;  <NL>  }  <NL>  <NL> long bits , val ;  <NL> do <NL>  {  <NL> bits = ( next long ( ) > > > 1 ) ;  <NL> val = bits % n ;  <NL>  }  <NL> while ( bits - val + ( n - 1 ) < 0 ) ;  <NL>  <NL> return val ;  <NL>  }  COM: <s> implements next long long the same way nex int int is implemented in </s>