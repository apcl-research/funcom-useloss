TDAT: public void add ( message message , persistence persistence ) {  <NL> if ( persistence = = persistence . short ) {  <NL> if ( short persistence ! = null ) {  <NL> short persistence . send ( message ) ;  <NL>  }  <NL>  }  <NL> if ( persistence = = persistence . session ) {  <NL> if ( session persistence ! = null ) {  <NL> session persistence . send ( message ) ;  <NL>  }  <NL>  }  <NL> if ( persistence = = persistence . long ) {  <NL> if ( long persistence ! = null ) {  <NL> long persistence . send ( message ) ;  <NL>  }  <NL>  }  <NL> if ( persistence = = persistence . permanent ) {  <NL> if ( permanent persistence ! = null ) {  <NL> permanent persistence . send ( message ) ;  <NL>  }  <NL>  }  <NL>  }  COM: <s> add a message to a document with the persistence level </s>