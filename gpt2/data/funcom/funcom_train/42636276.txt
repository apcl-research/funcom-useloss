TDAT: public number get max finish ( schedule schedule , number horizon ) {  <NL> double slot = schedule environment . get instance ( ) . get schedule slot ( ) ;  <NL> number slot duration = number . create number ( horizon , slot ) ;  <NL> number time0 = horizon . copy ( ) . add ( - slot ) ;  <NL> collection < task > tasks ;  <NL> do {  <NL> tasks = schedule . get tasks ( time0 , slot duration ) ;  <NL> time0 = time0 . add ( - slot ) ;  <NL> if ( time0 . signum ( ) < 0 ) return number . zero ( ) ; / / no tasks !  <NL>  } while ( tasks = = null ) ;  <NL> return get max finish ( tasks ) ;  <NL>  }  COM: <s> optimized for slot schedule horizon must not be null </s>