TDAT: public void process stimulus ( enumeration criteria ) {  <NL> wakeup criterion wakeup ;  <NL> awt event [ ] event ;  <NL> int id ;  <NL>  <NL> while ( criteria . has more elements ( ) ) {  <NL> wakeup = ( wakeup criterion ) criteria . next element ( ) ;  <NL> if ( wakeup instanceof wakeup on awt event ) {  <NL> event = ( ( wakeup on awt event ) wakeup ) . get awt event ( ) ;  <NL> for ( int i = 0 ; i < event . length ; i + + ) {  <NL> process key event ( ( key event ) event [ i ] ) ;  <NL> process keys ( ) ;  <NL>  }  <NL>  } else if ( kb _ any key down & &  <NL>  ( wakeup instanceof wakeup on elapsed time ) ) {  <NL> if ( kb _ key down [ 6 ] = = 0 )  <NL> process keys ( ) ;  <NL>  }  <NL>  }  <NL>  / / make sure we get the next event .  <NL> wakeup on ( kb _ key criterion ) ;  <NL>  }  COM: <s> processes the event </s>