TDAT: public void append samples ( int channel , float [ ] f , int len ) {  <NL>  <NL> int pos = bufferp [ channel ] ;  <NL> short s ;  <NL> float fs ;  <NL>  <NL> for ( int i = 0 ; i < len ; ) {  <NL> fs = f [ i + + ] ;  <NL> fs = ( fs > 32767 . 0f ? 32767 . 0f <NL>  : ( fs < - 32767 . 0f ? - 32767 . 0f : fs ) ) ;  <NL>  <NL> s = ( short ) fs ;  <NL> buffer [ pos ] = s ;  <NL> pos + = channels ;  <NL>  }  <NL> bufferp [ channel ] = pos ;  <NL>  }  COM: <s> accepts 32 new pcm samples </s>