TDAT: protected int next in end tag ( ) throws io exception , xml exception {  <NL> switch ( current ) {  <NL> case 0x9 :  <NL> case 0x a :  <NL> case 0x d :  <NL> case 0x20 :  <NL> do {  <NL> next char ( ) ;  <NL>  } while ( current ! = - 1 & &  <NL> xml utilities . is xml space ( ( char ) current ) ) ;  <NL> return lexical units . s ;  <NL>  <NL> case ' > ' :  <NL> if ( - - depth < 0 ) {  <NL> throw create xml exception ( " unexpected . end . tag " ) ;  <NL>  } else if ( depth = = 0 ) {  <NL> context = top _ level _ context ;  <NL>  } else {  <NL> context = content _ context ;  <NL>  }  <NL> next char ( ) ;  <NL> return lexical units . end _ char ;  <NL>  <NL> default :  <NL> throw create xml exception ( " invalid . character " ) ;  <NL>  }  <NL>  }  COM: <s> returns the next lexical unit in the context of a end tag </s>