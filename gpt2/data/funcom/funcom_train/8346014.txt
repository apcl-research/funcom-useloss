TDAT: private void ensure attachment cleaned up ( ) {  <NL> if ( ! attach section elements . is empty ( ) ) {  <NL> throw new illegal state exception ( " attachments not cleaned up : "  <NL>  + attach section elements ) ;  <NL>  }  <NL> if ( ! detach statements stack . is empty ( ) ) {  <NL> throw new illegal state exception ( " detach not cleaned up : "  <NL>  + detach statements stack ) ;  <NL>  }  <NL>  }  COM: <s> ensures that all of the internal data structures are cleaned up correctly </s>