TDAT: public void add next damage ( ) {  <NL> npc n = server . engine . npcs [ p . attack npc ] ;  <NL> if ( p = = null || n = = null || n . is dead || n . current hp < = 0 ) {  <NL> p . attack npc = 0 ;  <NL> p . request face to ( 65535 ) ;  <NL> p . reset attack ( ) ;  <NL> return ;  <NL>  }  <NL> if ( p . next damage delay = = 0 ) {  <NL> n . append hit ( get random ( get maxhit ( ) ) , 0 ) ;  <NL>  }  <NL> p . next damage delay = - 1 ;  <NL>  }  COM: <s> magic shortbow second damage </s>