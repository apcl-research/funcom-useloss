TDAT: private void prepare form ( base action action ) throws is cancel action exception , exception {  <NL> patient model patient = null ;  <NL> if ( action . get base model ( ) ! = null & & action . get base model ( ) instanceof patient model ) {  <NL> patient = ( patient model ) action . get base model ( ) ;  <NL>  } else if ( action . has patient ( ) ) {  <NL> patient = action . get patient ( ) ;  <NL>  } else {  <NL> patient = new patient model ( ) ;  <NL>  }  <NL> service utility . prepare form ( action . get parent frame or dialog ( ) , action , patient ) ;  <NL>  }  COM: <s> open the registration screen </s>