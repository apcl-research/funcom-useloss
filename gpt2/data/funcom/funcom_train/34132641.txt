TDAT: private int get line width ( element line ) {  <NL> int p0 = line . get start offset ( ) ;  <NL> int p1 = line . get end offset ( ) ;  <NL> int w ;  <NL> segment s = segment cache . get shared segment ( ) ;  <NL>  <NL> try {  <NL> line . get document ( ) . get text ( p0 , p1 - p0 , s ) ;  <NL> w = utilities . get tabbed text width ( s , metrics , tab base , this , p0 ) ;  <NL>  } catch ( bad location exception ble ) {  <NL> w = 0 ;  <NL>  }  <NL>  <NL> segment cache . release shared segment ( s ) ;  <NL>  <NL> return w ;  <NL>  }  COM: <s> calculate the width of the line represented by </s>