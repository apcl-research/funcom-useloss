TDAT: protected void register snapshot info ( string id , string segment , index commit commit ) {  <NL> id to snapshot . put ( id , new snapshot info ( id , segment , commit ) ) ;  <NL> set < string > ids = segments file to i ds . get ( segment ) ;  <NL> if ( ids = = null ) {  <NL> ids = new hash set < string > ( ) ;  <NL> segments file to i ds . put ( segment , ids ) ;  <NL>  }  <NL> ids . add ( id ) ;  <NL>  }  COM: <s> registers the given snapshot information </s>