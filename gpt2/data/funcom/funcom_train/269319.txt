TDAT: public shape model to view ( int pos , shape a , position . bias b ) throws bad location exception {  <NL> int p0 = get start offset ( ) ;  <NL> int p1 = get end offset ( ) ;  <NL> if ( ( pos > = p0 ) & & ( pos < = p1 ) ) {  <NL> rectangle r = a . get bounds ( ) ;  <NL> if ( pos = = p1 ) {  <NL> r . x + = r . width ;  <NL>  }  <NL> r . width = 0 ;  <NL> return r ;  <NL>  }  <NL> return null ;  <NL>  }  COM: <s> provides a mapping from the document model coordinate space </s>