TDAT: public string lookup value ( element log ) throws cruise control exception {  <NL> if ( ! was validated ) {  <NL> throw new illegal state exception (  <NL>  " this child was not validated . "  <NL>  + " should not be calling lookup value ( ) unless it has first been validated . " ) ;  <NL>  }  <NL>  <NL> if ( value ! = null ) {  <NL> return value ;  <NL>  } else {  <NL> try {  <NL> return evaluate xpath ( log ) ;  <NL>  } catch ( exception e ) {  <NL> throw new cruise control exception ( e ) ;  <NL>  }  <NL>  }  <NL>  }  COM: <s> looks up the appropriate value based on how the class is being used </s>