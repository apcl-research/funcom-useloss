TDAT: private int consume ( double ticks ) {  <NL> if ( total parent = = 0 || total for children = = 0 ) {  <NL> return 0 ;  <NL>  }  <NL>  <NL> used for children + = ticks ;  <NL>  <NL> if ( used for children > total for children ) {  <NL> used for children = total for children ;  <NL>  } else if ( used for children < 0 . 0 ) {  <NL> used for children = 0 . 0 ;  <NL>  }  <NL>  <NL> int parent position = ( int ) ( total parent * used for children / total for children ) ;  <NL> int delta = parent position - used for parent ;  <NL>  <NL> used for parent = parent position ;  <NL> return delta ;  <NL>  }  COM: <s> consumes the given number of child ticks given as a double </s>