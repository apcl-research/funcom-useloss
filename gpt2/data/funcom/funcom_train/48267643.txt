TDAT: public void on event record ( event record record ) {  <NL> record . set sequence ( event records . size ( ) + sequence base ) ;  <NL>  / / possibly register a new custom type .  <NL> record . < ui event > cast ( ) . apply ( custom type visitor ) ;  <NL>  <NL>  / / keep a copy of the string for saving later .  <NL> trace data copy . push ( json . stringify ( record ) ) ;  <NL> event records . add ( record ) ;  <NL> fire on event record ( record ) ;  <NL>  }  COM: <s> data sources that drive the data model drive it through this single function </s>