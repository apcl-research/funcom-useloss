TDAT: private void register reciever ( ) {  <NL> if ( r ! = null ) return ;  <NL>  <NL> r = new broadcast receiver ( ) {  <NL>  @ override <NL> public void on receive ( context c , intent i ) {  <NL> string phone _ state = i . get string extra ( telephony manager . extra _ state ) ;  <NL> if ( ! phone _ state . equals ( telephony manager . extra _ state _ offhook ) )  <NL>  {  <NL> debug log ( " received " + phone _ state + " , time to go bye bye , thanks for playing ! " ) ;  <NL> finish ( ) ;  <NL>  }  <NL>  }  <NL>  } ;  <NL>  <NL> register receiver ( r , new intent filter ( " android . intent . action . phone _ state " ) ) ;  <NL>  }  COM: <s> register phone state receiver </s>