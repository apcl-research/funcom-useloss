TDAT: public void run ( ) {  <NL> try {  <NL> while ( ! is paused ) {  <NL> long refresh start = system . current time millis ( ) ;  <NL> long refresh delay ;  <NL>  <NL> refresh display ( ) ;  <NL>  <NL> refresh delay = system . current time millis ( ) - refresh start ;  <NL>  <NL> refresh delay cumulative + = refresh delay ;  <NL> refresh cycle + + ;  <NL> if ( refresh cycle > = refresh rate ) {  <NL> refresh delay per second = refresh delay cumulative ;  <NL> refresh delay cumulative = refresh cycle = 0 ;  <NL>  }  <NL>  <NL> if ( refresh delay < refresh interval ) {  <NL> thread . sleep ( refresh interval - refresh delay ) ;  <NL>  }  <NL>  }  <NL>  } catch ( throwable e ) {  <NL> apple . view . debug ( e ) ;  <NL> apple . view . repaint ( ) ;  <NL>  }  <NL>  }  COM: <s> display refresh thread </s>