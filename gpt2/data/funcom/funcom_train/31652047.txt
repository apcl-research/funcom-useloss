TDAT: public void register listener ( plugin listener listener ) {  <NL> try {  <NL> listener . initializing ( ) ;  <NL> string [ ] f = listener . get facilities ( ) ;  <NL> if ( f = = null || f . length = = 0 ) {  <NL> listeners . add ( new listener record ( listener ) ) ;  <NL>  } else {  <NL> listeners . add ( new listener record ( listener , f ) ) ;  <NL>  }  <NL>  } catch ( plugin exception e ) {  <NL> sm . warning ( " plugin listener failed intialize " , e ) ;  <NL>  }  <NL>  }  COM: <s> add a listener to the managers set of registered listeners </s>