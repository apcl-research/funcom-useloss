TDAT: final public d vector calc match rank ( ) {  <NL> int i , j ;  <NL>  <NL> if ( match seq = = null ) make match matrices ( ) ;  <NL>  <NL> d vector rv = new d vector ( n matches ( ) ) ;  <NL>  <NL> for ( i = 0 ; i < n matches ( ) ; i + + ) {  <NL> int ms = match seq [ i ] ;  <NL> int mf = match fold [ i ] ;  <NL> for ( j = 0 ; sorted scores [ ms ] . data [ j ] ! = mf ; j + + ) ;  <NL> rv . data [ i ] = ( double ) ( j + 1 ) ;  <NL>  }  <NL>  <NL> return rv ;  <NL>  }  COM: <s> calculate vector of ranks showing one rank for each match </s>