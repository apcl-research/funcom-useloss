TDAT: public void write fragment ( string fragment )  <NL>  { if ( just exited block )  <NL>  { new line ( ) ;  <NL> just exited block = false ;  <NL>  }  <NL> else if ( buffer . length ( ) + fragment . length ( ) - line start > line limit & &  <NL> fragment . length ( ) + current indent < = line limit ) new line ( true ) ;  <NL> buffer . append ( fragment ) ;  <NL>  }  COM: <s> writes a minimal fragment that cannot be splitted into 2 lines </s>