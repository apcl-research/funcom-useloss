TDAT: protected void prepare attachment ( http servlet response response , file file , string content type ) {  <NL> string builder type = new string builder ( " attachment ; filename = " ) ;  <NL> type . append ( file . get name ( ) ) ;  <NL> response . set content length ( ( int ) file . length ( ) ) ;  <NL> response . set content type ( content type ) ;  <NL>  / / " application / octet - stream " will open the browser download dialog <NL> response . set header ( " content - disposition " , type . to string ( ) ) ;  <NL>  }  COM: <s> creates an http response with the given file as attachment and the given </s>