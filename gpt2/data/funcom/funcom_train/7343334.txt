TDAT: public void rollback ( ) throws dao exception {  <NL>  <NL>  / / commit the transaction if it has not been committed <NL> if ( ! commmitted ) {  <NL>  <NL> try {  <NL>  <NL>  / / make sure the uow is still active before rollback <NL> if ( ( unit of work ! = null ) & & unit of work . is active ( ) ) {  <NL>  <NL> unit of work . revert and resume ( ) ;  <NL> unit of work . release ( ) ;  <NL> session . release ( ) ;  <NL>  <NL>  }  <NL>  <NL>  } catch ( top link exception e ) {  <NL>  <NL> throw new dao exception ( " error rolling back transaction " , e ) ;  <NL>  <NL>  }  <NL>  <NL>  }  <NL>  <NL>  }  COM: <s> rollback all pending changes to persistent storage and revert changes </s>