TDAT: public connection get connection ( ) throws sql exception {  <NL> long thread id = thread . current thread ( ) . get id ( ) ;  <NL> connection data data = connection map . get ( thread id ) ;  <NL> if ( data = = null ) {  <NL> data = new connection data ( ) ;  <NL> data . conn = get data source ( ) . get connection ( ) ;  <NL> connection map . put ( thread id , data ) ;  <NL>  }  <NL> data . hits count + + ;  <NL> return data . conn ;  <NL>  }  COM: <s> establish db connection </s>