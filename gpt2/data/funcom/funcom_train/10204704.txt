TDAT: private string up directory ( string directory ) {  <NL> string up dir = null ;  <NL>  <NL> if ( curr dir ! = null ) {  <NL>  / / ignore the final separator <NL> int index = curr dir . last index of ( sep _ char , curr dir . length ( ) - 2 ) ;  <NL>  <NL> if ( index > 0 ) {  <NL>  / / make sure we include the trailing separator <NL> up dir = curr dir . substring ( 0 , index + 1 ) ;  <NL>  }  <NL>  <NL> if ( up dir . equals ( url _ prefix ) ) {  <NL>  / / we ' re back up to our fake root <NL> up dir = null ;  <NL>  }  <NL>  }  <NL>  <NL> return up dir ;  <NL>  }  COM: <s> returns the url of the parent of the given directory </s>