TDAT: public display attach ( display d ) {  <NL> synchronized ( get display lock ( ) ) {  <NL> display d old = m _ d display ;  <NL>  <NL> m _ d display = d ;  <NL>  <NL> synchronized ( get sales point lock ( ) ) {  <NL> if ( ( m _ sp current ! = null ) & & ( m _ sp current . get current customer ( ) = = this ) ) {  <NL> m _ sp current . attach ( m _ d display ) ;  <NL>  }  <NL> else {  <NL> set default sheets ( ) ;  <NL>  }  <NL>  }  <NL>  <NL> return d old ;  <NL>  }  <NL>  }  COM: <s> attach a display to the customer </s>