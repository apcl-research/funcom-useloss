TDAT: private string rewrite query ( reader is , string filename ) {  <NL> string xquery = null ;  <NL>  <NL> try {  <NL> proc . set query filename ( filename ) ;  <NL>  <NL> xquery = proc . process ( is ) ;  <NL> num of syntax errors = proc . get number of syntax errors ( ) ;  <NL>  <NL>  } catch ( exception e ) {  <NL> system . err . println ( " parse error : " + e ) ;  <NL> e . print stack trace ( ) ;  <NL> parse errors = true ;  <NL>  }  <NL> return xquery ;  <NL>  }  COM: <s> actual query rewriting </s>