TDAT: private void write to database ( tree tree ) throws database exception {  <NL>  / / save new property definitions , the tree , the scaffolds and the <NL>  / / scaffold properties <NL> iterable < db object > to save = iterables . concat ( new prop defs , collections . singleton list ( tree ) , scaffolds . values ( ) ,  <NL> properties ) ;  <NL>  <NL>  / / todo ask the user to retry on error <NL> db . save all as new ( to save ) ;  <NL>  }  COM: <s> writes the collected scaffolds and their properties to the database </s>