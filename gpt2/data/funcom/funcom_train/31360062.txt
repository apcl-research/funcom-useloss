TDAT: public void run ( ) {  <NL>  <NL>  / / monitor for close message from server <NL> api . psap . get data ( psap connection . close ) ;  <NL>  <NL>  / *  <NL>  / / close connection <NL> api . psap . shutdown ( ) ;  <NL> try {  <NL>  / / api . in . close ( ) ;  <NL>  } catch ( exception e ) {  <NL>  } / / try <NL> try {  <NL>  / / api . out . close ( ) ;  <NL>  } catch ( exception e ) {  <NL>  } / / try <NL> try {  <NL>  / / api . psap . close ( ) ;  <NL>  } catch ( exception e ) {  <NL>  } / / try <NL>  * /  <NL>  / / set connected state <NL>  / / api . connected = false ;  <NL> api . close ( ) ;  <NL>  <NL>  / / notify shutdown listener <NL> if ( api . shutdown listener ! = null ) {  <NL> api . shutdown listener . notify close ( ) ;  <NL>  } / / if <NL>  <NL>  <NL>  } / / run ( )  COM: <s> runtime thread that watches for a close event from the server </s>