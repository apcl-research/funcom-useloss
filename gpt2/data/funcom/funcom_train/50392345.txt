TDAT: public void state changed ( string id , integer new state ) {  <NL> list < action state change listener > l = event change listeners . get ( id ) ;  <NL> if ( l ! = null ) {  <NL> for ( action state change listener a : l ) {  <NL> try {  <NL> if ( a . accept ( new state ) ) {  <NL> a . state changed ( id , new state ) ;  <NL>  }  <NL>  } catch ( exception ex ) {  <NL> logger . warn ( " error sending notifications " , ex ) ;  <NL>  }  <NL>  }  <NL>  }  <NL>  / / notify general listeners <NL> l = event change listeners . get ( general _ listeners ) ;  <NL> if ( l ! = null ) {  <NL> for ( action state change listener a : l ) {  <NL> try {  <NL> if ( a . accept ( new state ) ) {  <NL> a . state changed ( id , new state ) ;  <NL>  }  <NL>  } catch ( exception ex ) {  <NL> logger . warn ( " error sending notifications " , ex ) ;  <NL>  }  <NL>  }  <NL>  }  <NL>  }  COM: <s> notify registered listeners on state changes </s>