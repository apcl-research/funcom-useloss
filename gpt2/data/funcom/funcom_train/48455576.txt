TDAT: public agent from xml ( string xml , boolean record history ) {  <NL> xml = xml tool . remove root tag ( xml ) ;  <NL> key data vector properties xml = xml tool . xml to properties ( xml ) ;  <NL>  <NL> hash map < string , property > properties = new hash map < string , property > ( ) ;  <NL> for ( key data k : properties xml ) {  <NL> property p = property . from xml ( k . get value ( ) ) ;  <NL> properties . put ( p . get name ( ) , p ) ;  <NL>  }  <NL>  <NL> agent agent = create agent ( properties ) ;  <NL> if ( record history ) {  <NL> agent . record history ( ) ;  <NL>  }  <NL> agent . put properties ( properties ) ;  <NL> return agent ;  <NL>  }  COM: <s> converts the xml representation of an agent to an agent instance </s>