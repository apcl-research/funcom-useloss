TDAT: protected void run session ( ) {  <NL> session session = new session ( connection , job , server . get file access ( ) ) ;  <NL> logger . info ( " session - mode connection from " + connection . get address ( ) + " base directory \ " " + session . get base directory ( ) + " \ " " ) ;  <NL> try {  <NL> socket = make socket ( max streams , connection ) ;  <NL>  <NL> while ( session . is alive ( ) ) {  <NL> int action = session . get next action ( ) ;  <NL>  <NL> switch ( action ) {  <NL>  <NL> case session . action _ retrieve :  <NL> send data ( session ) ;  <NL>  <NL> case session . action _ none :  <NL> continue ;  <NL>  <NL>  }  <NL>  }  <NL>  }  <NL> catch ( exception ex ) {  <NL> string msg = " error processing session - mode connection from " + connection . get address ( ) ;  <NL> logger . error ( msg , ex ) ;  <NL> try {  <NL> connection . close ( ) ;  <NL>  }  <NL> catch ( exception e ) { }  <NL>  }  <NL>  }  COM: <s> transfer multiple files </s>