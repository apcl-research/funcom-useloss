TDAT: private j button new bar button ( final tool tool ) {  <NL> j button button = null ;  <NL> if ( tool . get icon ( ) ! = null ) {  <NL> button = gui factory . get button ( tool . get icon ( ) ) ;  <NL>  } else {  <NL> button = gui factory . get button ( tool . get name ( ) ) ;  <NL>  }  <NL> button . set tool tip text ( messages . get string ( tool . get name ( ) + " _ tooltip " ) ) ;  <NL> button . add action listener ( new action listener ( ) {  <NL> public void action performed ( action event e ) {  <NL> tool manager . activate tool ( tool ) ;  <NL>  }  <NL>  } ) ;  <NL> return button ;  <NL>  }  COM: <s> createsa a bar button based on this tool </s>