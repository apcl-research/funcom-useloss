TDAT: synchronized public void write ( model base model , writer out , string base )  <NL>  {  <NL> model model = model factory . with hidden statements ( base model ) ;  <NL> setup namespaces ( base model , model ) ;  <NL> print writer pw = out instanceof print writer ? ( print writer ) out : new print writer ( out ) ;  <NL> if ( ! boolean . false . equals ( show xml declaration ) ) write xml declaration ( out , pw ) ;  <NL> write xml body ( model , pw , base ) ;  <NL> pw . flush ( ) ;  <NL>  }  COM: <s> serialize model code model code to writer code out out </s>