TDAT: protected void update atmosphere ( float tpf ) {  <NL> if ( ! is atmosphere enabled ( ) ) return ;  <NL> set clouds translation ( wind factor , tpf ) ;  <NL> float c = light amount + 0 . 1f ;  <NL> clouds tex . get blend color ( ) . set ( c , c , c , 1 . 0f ) ;  <NL> atmosphere fog state . set color ( new color rgba ( light amount , light amount , light amount , 1 . 0f ) ) ;  <NL> float k = 0 . 1f * light amount ;  <NL> atmosphere material state . get emissive ( ) . set ( k , k , k , 1 . 0f ) ;  <NL> atmosphere material state . get ambient ( ) . set ( 0f , 0f , k , 1 . 0f ) ;  <NL> atmosphere material state . get diffuse ( ) . set ( 0f , 0f , k , 1 . 0f ) ;  <NL> atmosphere material state . get specular ( ) . set ( 0f , 0f , k , 1 . 0f ) ;  <NL>  }  COM: <s> modify fog sky material and clouds blending for the atmosphere </s>