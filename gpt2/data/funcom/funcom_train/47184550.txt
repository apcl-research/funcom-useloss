TDAT: public long add patient ( patient bean p ) throws db exception , form validation exception {  <NL> new add patient validator ( ) . validate ( p ) ;  <NL> long new mid = patient dao . add empty patient ( ) ;  <NL> p . set mid ( new mid ) ;  <NL> string pwd = auth dao . add user ( new mid , role . patient , random password . get random password ( ) ) ;  <NL> p . set password ( pwd ) ;  <NL> patient dao . edit patient ( p , logged in mid ) ;  <NL> return new mid ;  <NL>  }  COM: <s> creates a new patient returns the new mid </s>