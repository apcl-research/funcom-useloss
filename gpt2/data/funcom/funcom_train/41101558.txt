TDAT: public void receive event ( event event ) {  <NL> string destination = event . get remote destination ( ) ;  <NL>  <NL>  / / build payload <NL> byte [ ] payload = event . to byte array ( ) ;  <NL>  <NL>  / / create msg <NL> message msg = new message ( payload , destination ) ;  <NL>  <NL>  / / set msg flags <NL> msg . set protocol ( message protocols . events ) ;  <NL> if ( event . is critical ( ) ) {  <NL> msg . set reliable ( ) ;  <NL>  }  <NL>  <NL>  / / send <NL> net fw . send ( msg ) ;  <NL>  }  COM: <s> creates a message which includes the passed event as its payload </s>