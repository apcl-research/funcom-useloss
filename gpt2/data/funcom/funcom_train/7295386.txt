TDAT: public void set text ( character iterator new text ) {  <NL>  / / test text to see if we need to wrap it in a safe char iterator :  <NL> int end = new text . get end index ( ) ;  <NL> new text . set index ( end ) ;  <NL> if ( new text . get index ( ) ! = end ) {  <NL>  / / failed - wrap in correct implementation <NL> text = new safe char iterator ( new text ) ;  <NL>  }  <NL> else {  <NL> text = new text ;  <NL>  }  <NL> text . first ( ) ;  <NL>  }  COM: <s> set the iterator to analyze a new piece of text </s>