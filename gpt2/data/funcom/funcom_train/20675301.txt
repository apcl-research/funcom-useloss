TDAT: private image get scaled image ( final image img ) {  <NL> final int w = width = img . get width ( null ) ;  <NL> final int h = height = img . get height ( null ) ;  <NL> final double ar = ( double ) w / h ;  <NL>  <NL> int nw = max _ size , nh = max _ size ;  <NL> if ( w > h )  <NL> nh = ( int ) math . round ( nw / ar ) ;  <NL> else <NL> nw = ( int ) math . round ( nh * ar ) ;  <NL> return img . get scaled instance ( nw , nh , image . scale _ smooth ) ;  <NL>  }  COM: <s> get a scaled version of the input image </s>