TDAT: private void ready for writing ( ) {  <NL> if ( _ is choked || _ requested . is empty ( ) )  <NL> return ;  <NL>  <NL> using slot = true ;  <NL> int proceed = router service . get upload slot manager ( ) . request slot (  <NL> this ,  <NL>  ! context . get disk manager ( ) . is complete ( ) ) ;  <NL>  <NL> if ( proceed = = - 1 ) { / / denied , choke the connection <NL> using slot = false ;  <NL> choke ( ) ;  <NL>  } else if ( proceed = = 0 )  <NL> begin piece send ( ) ;  <NL>  / / else queued , will receive callback .  <NL>  }  COM: <s> notifies this that the connection is ready to write the next chunk of </s>