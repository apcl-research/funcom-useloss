TDAT: public void update history ( ) {  <NL> logger . debug ( " updating history for # # 0 " , patient . get unique id ( ) ) ;  <NL>  / / reattach if persisted before changing properties and associations <NL> merge ( ) ;  <NL> patient . set patient history last modified ( new date ( ) ) ;  <NL>  / / update screened trials and invitations associations ; the patient is <NL>  / / attached <NL> patient association manager . update screened trials and invitations ( patient ,  <NL> trials , null , facade patient history . is complete ( ) , true ) ;  <NL>  }  COM: <s> updates the patients history timestamp and complete status updates the </s>