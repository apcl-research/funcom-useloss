TDAT: private void stop ( boolean need join ) {  <NL> stream connection conn ;  <NL>  <NL> synchronized ( this ) {  <NL> notify ( ) ;  <NL>  <NL> while ( queue . size ( ) ! = 0 ) {  <NL> conn = ( stream connection ) queue . first element ( ) ;  <NL> queue . remove element at ( 0 ) ;  <NL>  <NL> try {  <NL> conn . close ( ) ;  <NL>  } catch ( io exception e ) {  <NL>  } / / ignore <NL>  }  <NL>  }  <NL>  <NL>  / / wait until dispatching thread is done <NL> try {  <NL> processor thread . join ( ) ;  <NL>  } catch ( interrupted exception e ) {  <NL>  } / / ignore <NL>  }  COM: <s> closes the connections and </s>