TDAT: private void add message listener ( ) {  <NL> message listener = new packet listener ( ) {  <NL>  <NL> public void process packet ( packet packet ) {  <NL> message jabbmessage = ( message ) packet ;  <NL> jabbmessage . set property ( " receive time " , new long ( new date ( ) . get time ( ) ) ) ;  <NL> if ( ( jabbmessage . get type ( ) = = message . type . groupchat ) & & jabbmessage . get body ( ) ! = null ) {  <NL> listening controller . event ( new instant messaging event ( jabbmessage , " groupchat " ) ) ;  <NL>  }  <NL>  }  <NL>  } ;  <NL> muc . add message listener ( message listener ) ;  <NL>  }  COM: <s> listens to new messages for this chatroom </s>