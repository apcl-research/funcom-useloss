TDAT: protected void check eof ( int eof ) throws io exception {  <NL>  <NL> if ( ( wrapped stream ! = null ) & & ( eof < 0 ) ) {  <NL> try {  <NL> boolean scws = true ; / / should close wrapped stream ?  <NL> if ( eof watcher ! = null )  <NL> scws = eof watcher . eof detected ( wrapped stream ) ;  <NL> if ( scws )  <NL> wrapped stream . close ( ) ;  <NL>  } finally {  <NL> wrapped stream = null ;  <NL>  }  <NL>  }  <NL>  }  COM: <s> detects eof and notifies the watcher </s>