TDAT: private int search for last chunk ( string p read bytes ) {  <NL>  / / todo improve this algorithm for chunk - extensions and whitespaces <NL> int index of last chunk = p read bytes . index of ( " \n0\n " ) ;  <NL> if ( index of last chunk < 0 ) {  <NL> index of last chunk = p read bytes . index of ( " \n0\r\n " ) ;  <NL> if ( index of last chunk < 0 ) { return - 1 ; }  <NL>  }  <NL> string end = p read bytes . substring ( index of last chunk + 2 ) ;  <NL> end = remove empty lines ( end ) ;  <NL>  <NL> return end . length ( ) ;  <NL>  }  COM: <s> searches for the b last chunk b </s>