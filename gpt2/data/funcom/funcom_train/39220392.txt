TDAT: public void state loaded ( string state ) {  <NL>  / / do not process undo / redo states <NL> if ( state . char at ( 0 ) = = g state action . delimiter . char at ( 0 ) ) {  <NL> return ;  <NL>  }  <NL>  <NL> current state = state ;  <NL>  <NL>  / / call event listeners <NL> iterator < state selector event listener > event iterator = event listeners . iterator ( ) ;  <NL> while ( event iterator . has next ( ) ) {  <NL> state selector event listener event item = event iterator . next ( ) ;  <NL> event item . state loaded ( state ) ;  <NL>  }  <NL>  }  COM: <s> set the internal current state </s>