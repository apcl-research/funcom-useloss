TDAT: public state get most frequent state ( ) {  <NL> int max count = 0 ;  <NL> state most frequent state = null ;  <NL> int [ ] counts = new int [ sequence type . get state count ( ) ] ;  <NL> for ( state state : states ) {  <NL> counts [ state . get index ( ) ] + = 1 ;  <NL> if ( counts [ state . get index ( ) ] > max count ) {  <NL> max count = counts [ state . get index ( ) ] ;  <NL> most frequent state = state ;  <NL>  }  <NL>  }  <NL> return most frequent state ;  <NL>  }  COM: <s> get the most frequent state in this pattern </s>