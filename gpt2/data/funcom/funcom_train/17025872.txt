TDAT: private string escape characters ( string string ) {  <NL> if ( string = = null ) {  <NL> return string ;  <NL>  }  <NL>  <NL> string buffer copy buffer = null ;  <NL> boolean copied = false ;  <NL> for ( int i = 0 ; i < string . length ( ) ; i + + ) {  <NL> if ( is illegal ( string . char at ( i ) ) ) {  <NL> if ( ! copied ) {  <NL> copy buffer = new string buffer ( string ) ;  <NL> copied = true ;  <NL>  }  <NL> copy buffer . delete char at ( i ) ;  <NL>  }  <NL>  }  <NL> return copied ? copy buffer . to string ( ) : string ;  <NL>  }  COM: <s> deletes all illegal characters in the given string </s>