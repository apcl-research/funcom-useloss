TDAT: private void update preview ( ) {  <NL> media source source = plugin . get best source ( ) ;  <NL>  <NL> if ( source = = null ) {  <NL> source = new dummy media source ( ) ;  <NL>  }  <NL>  <NL> preview . set text ( " preview : \n " + plugin . do substitution ( textfield . get text ( ) ,  <NL> source ) ) ;  <NL> preview . repaint ( ) ;  <NL>  <NL> swing utilities . invoke later ( new runnable ( ) {  <NL> public void run ( ) {  <NL> preview panel . revalidate ( ) ;  <NL> revalidate ( ) ;  <NL>  }  <NL>  } ) ;  <NL>  }  COM: <s> updates the preview text </s>