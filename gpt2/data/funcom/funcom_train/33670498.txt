TDAT: private string expand affix ( string pattern , string buffer buffer ) {  <NL> buffer . set length ( 0 ) ;  <NL> for ( int i = 0 ; i < pattern . length ( ) ; ) {  <NL> char c = pattern . char at ( i + + ) ;  <NL> if ( c = = quote ) {  <NL> c = pattern . char at ( i + + ) ;  <NL> switch ( c ) {  <NL> case currency _ sign :  <NL> buffer . append ( symbols . get currency symbol ( ) ) ;  <NL> continue ;  <NL> case pattern _ percent :  <NL> c = symbols . get percent ( ) ;  <NL> break ;  <NL> case pattern _ per _ mille :  <NL> c = symbols . get per mill ( ) ;  <NL> break ;  <NL> case pattern _ minus :  <NL> c = symbols . get minus sign ( ) ;  <NL> break ;  <NL>  }  <NL>  }  <NL> buffer . append ( c ) ;  <NL>  }  <NL> return buffer . to string ( ) ;  <NL>  }  COM: <s> expand an affix pattern into an affix string </s>