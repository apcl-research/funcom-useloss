TDAT: public int get text pos ( dom node deep node ) {  <NL> int result = - 1 ;  <NL>  <NL> reset ( ) ;  <NL>  <NL> while ( increment ( deep node ) ) {  <NL> if ( cur node = = deep node ) {  <NL> if ( cur text node = = deep node ) {  <NL> result = cur start pos ;  <NL>  }  <NL> else {  <NL>  / / haven ' t reached the next text node yet <NL> result = cur end pos ;  <NL>  <NL>  / / account for space if necessary <NL> if ( cur end pos > 0 ) + + result ;  <NL>  }  <NL>  <NL> break ;  <NL>  }  <NL>  }  <NL>  <NL> return result ;  <NL>  }  COM: <s> get the position of the deep nodes trimmed text as an offset within </s>