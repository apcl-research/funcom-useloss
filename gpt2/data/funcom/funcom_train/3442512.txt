TDAT: public void write end element ( ) throws xml stream exception {  <NL> node node = current node . get parent node ( ) ;  <NL> if ( current node . get node type ( ) = = node . document _ node ) {  <NL> current node = null ;  <NL>  } else {  <NL> current node = node ;  <NL>  }  <NL> if ( need context pop [ depth ] ) {  <NL> need context pop [ depth ] = false ;  <NL> namespace context . pop context ( ) ;  <NL>  }  <NL> depth - - ;  <NL>  }  COM: <s> internal current node pointer will point to the parent of the current node </s>