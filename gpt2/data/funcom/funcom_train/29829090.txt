TDAT: protected void set connection ( connection bean connection ) {  <NL> if ( this . connection ! = null ) {  <NL> this . connection . del packet listener ( this ) ;  <NL> this . connection . del connection listener ( this ) ;  <NL>  }  <NL> this . connection = connection ;  <NL> if ( connection ! = null ) {  <NL> connection . add packet listener ( this ) ;  <NL> connection . add connection listener ( this ) ;  <NL>  }  <NL> cur presences . clear ( ) ;  <NL> individual presences . clear all ( ) ;  <NL>  }  COM: <s> sets existing and connected code connection bean code </s>