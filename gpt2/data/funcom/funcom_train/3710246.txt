TDAT: private int count hd us ( ) throws fits exception , io exception {  <NL> int count = 0 ;  <NL> basic hdu hdu = fits _ file . get hdu ( 0 ) ;  <NL>  <NL> while ( hdu ! = null ) {  <NL> try {  <NL> count + + ;  <NL> hdu = fits _ file . get hdu ( count ) ;  <NL> if ( command ! = null & & hdu ! = null ) {  <NL> command . execute ( hdu ) ;  <NL>  }  <NL>  } catch ( truncated file exception e ) {  <NL> count - - ;  <NL>  }  <NL>  }  <NL>  <NL> return count ;  <NL>  }  COM: <s> count the hdus in the file by brute force </s>