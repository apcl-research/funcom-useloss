TDAT: private void do flatten ( element grammar ) throws exception {  <NL> final match match = new match ( ) ;  <NL> descendant walker ( grammar , new walker listener ( ) {  <NL> public void on element ( element element ) throws exception {  <NL> if ( ( element . get local name ( ) = = constants . div || element . get local name ( ) = = constants . grammar ) & & element . get namespace uri ( ) = = constants . rng _ ns ) {  <NL> match . bool = true ;  <NL> replace by children ( element ) ;  <NL>  }  <NL>  }  <NL>  } ) ;  <NL> if ( ! match . bool ) return ;  <NL> do flatten ( grammar ) ;  <NL>  }  COM: <s> replace all grammar and div elements by their children </s>