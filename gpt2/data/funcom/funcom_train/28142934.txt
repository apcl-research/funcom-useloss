TDAT: protected void next time unit finished ( int time unit ) {  <NL> if ( time unit < number of days ) {  <NL> int millis consumed = ( int )  <NL>  ( get server time ( ) - get simulation info ( ) . get start time ( )  <NL>  - time unit * seconds per day * 1000 ) ;  <NL> simulation status status = new simulation status ( time unit , millis consumed ) ;  <NL> send to role ( manufacturer , status ) ;  <NL>  }  <NL>  <NL> invoke later ( after tick target ) ;  <NL>  }  COM: <s> called when a new time unit has begun similar to time listeners </s>