TDAT: public string create query ( ) {  <NL> string query = " from " + library mass spec . class . get name ( ) + " a where a . library . id in ( " ;  <NL>  <NL> final iterator < library > itz = library . iterator ( ) ;  <NL> while ( itz . has next ( ) ) {  <NL>  <NL> query = query + itz . next ( ) . get id ( ) ;  <NL>  <NL> if ( itz . has next ( ) ) {  <NL> query = query + " , " ;  <NL>  }  <NL>  }  <NL>  <NL> query = query + " ) " ;  <NL> logger . info ( " generated query : " + query ) ;  <NL> return query ;  <NL>  }  COM: <s> generates our internal query </s>