TDAT: public void disconnect ( ) {  <NL> if ( protocol ! = null ) {  <NL> try {  <NL> log message ( " disconnecting from server . " , message ) ;  <NL> protocol . bye ( ) ;  <NL> protocol . join ( ) ;  <NL> protocol = null ;  <NL>  } catch ( exception e ) {  <NL> log message ( " while disconnecting from server : " +  <NL> e . get class ( ) . get name ( ) + " : " + e . get message ( ) , error ) ;  <NL>  }  <NL>  }  <NL>  }  COM: <s> disconnects from the server and waits for the protocol thread to die </s>