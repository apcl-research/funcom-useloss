TDAT: public void store ( persistent image image )  <NL>  {  <NL> try <NL>  {  <NL>  / / todo : almacenar aqui en un archivo de texto <NL> session session = hibernate util . current session ( ) ;  <NL> transaction tx = session . begin transaction ( ) ;  <NL>  <NL> session . save ( image ) ;  <NL> image . load persistent features ( ) ;  <NL> set feat = image . get persistent features ( ) ;  <NL> iterator it = feat . iterator ( ) ;  <NL> while ( it . has next ( ) )  <NL>  {  <NL> persistent feature pf = ( persistent feature ) it . next ( ) ;  <NL> session . save ( pf ) ;  <NL>  }  <NL> tx . commit ( ) ;  <NL> session . flush ( ) ;  <NL> session . clear ( ) ;  <NL> image . free persistent features ( ) ;  <NL>  }  <NL> catch ( hibernate exception e )  <NL>  {  <NL> e . print stack trace ( ) ;  <NL>  }  <NL>  }  COM: <s> storing procedure for images </s>