TDAT: protected void set connection safely ( final connection connection ) {  <NL>  / / called by lookup thread , but can be safely called by any thread .  <NL> runnable r = new runnable ( ) {  <NL> public void run ( ) {  <NL> try {  <NL> annotation diff gui . set connection ( connection ) ;  <NL>  / / main frame . get instance ( ) . set status ( annotation diff gui . get connection status ( ) ) ;  <NL> main frame . get instance ( ) . update all statuses ( ) ;  <NL>  } catch ( exception x ) {  <NL> x . print stack trace ( ) ;  <NL>  }  <NL>  }  <NL>  } ;  <NL> swing utilities . invoke later ( r ) ;  <NL>  }  COM: <s> safetly sets given connection for application </s>