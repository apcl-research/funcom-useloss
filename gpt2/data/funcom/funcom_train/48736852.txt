TDAT: private dimension get scaled size ( dimension image dim , dimension bounding box ) {  <NL> double width scale = ( double ) image dim . width / bounding box . width ;  <NL> double height scale = ( double ) image dim . height / bounding box . height ;  <NL> double max scale = math . max ( width scale , height scale ) ;  <NL> return new dimension ( ( int ) ( image dim . width / max scale ) , ( int ) ( image dim . height / max scale ) ) ;  <NL>  }  COM: <s> scale to fit without changing aspect ratio </s>