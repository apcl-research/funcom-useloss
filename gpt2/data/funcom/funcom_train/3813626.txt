TDAT: private boolean token is ranked ( token token ) {  <NL> while ( token ! = null ) {  <NL> if ( token . is emitting ( ) ) {  <NL> if ( token . get token props ( ) . get ( token _ rank ) = = null ) {  <NL> if ( token . get frame number ( ) ! = 0 ) {  <NL> system . out . println ( " missing " + token ) ;  <NL> return false ;  <NL>  }  <NL>  } else {  <NL>  }  <NL>  }  <NL> token = token . get predecessor ( ) ;  <NL>  }  <NL> return true ;  <NL>  }  COM: <s> checks to make sure that all upstream tokens are ranked </s>