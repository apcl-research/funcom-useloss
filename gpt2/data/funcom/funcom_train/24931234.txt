TDAT: public boolean lock ( file file , boolean block ) {  <NL> boolean flag = false ;  <NL> random access file raf = null ;  <NL>  <NL> logger . info ( " getting lock on " + file . get absolute path ( ) ) ;  <NL>  <NL> try {  <NL> raf = new random access file ( file , " rw " ) ;  <NL> if ( block ) {  <NL> raf . get channel ( ) . lock ( ) ;  <NL> flag = true ;  <NL>  } else {  <NL> if ( null ! = raf . get channel ( ) . try lock ( ) ) {  <NL> flag = true ;  <NL>  }  <NL>  }  <NL>  } catch ( exception e ) {  <NL> system . err . println ( e ) ;  <NL>  }  <NL>  <NL> if ( flag ) {  <NL> logger . info ( " got lock ! " ) ;  <NL>  }  <NL>  <NL> return flag ;  <NL>  }  COM: <s> obtains a file lock </s>