TDAT: public input stream wait for server data ( string filename , int expected size ) {  <NL> url url = null ;  <NL> input stream infile = null ;  <NL> int avail = 0 ;  <NL>  <NL> try {  <NL> url = new url ( get document base ( ) , filename ) ;  <NL>  }  <NL> catch ( malformed url exception e ) {  <NL> url = null ;  <NL>  }  <NL>  <NL> if ( url = = null ) return null ;  <NL>  <NL> try {  <NL> infile = url . open stream ( ) ;  <NL> avail = infile . available ( ) ;  <NL> while ( avail < expected size ) {  <NL> try {  <NL> thread . sleep ( 1000 ) ;  <NL>  }  <NL> catch ( interrupted exception ie ) {  <NL>  }  <NL> avail = infile . available ( ) ;  <NL>  }  <NL>  }  <NL> catch ( io exception e ) {  <NL> infile = null ;  <NL>  }  <NL>  <NL> return infile ;  <NL>  }  COM: <s> read a file on the server and wait until the entire file </s>