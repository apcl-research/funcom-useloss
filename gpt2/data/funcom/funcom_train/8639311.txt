TDAT: protected int read block ( ) throws io exception {  <NL> block size = in . read ( ) ;  <NL> if ( block size < = 0 )  <NL> return block size = 0 ;  <NL> for ( int k = 0 ; k < block size ; + + k ) {  <NL> int v = in . read ( ) ;  <NL> if ( v < 0 ) {  <NL> return block size = k ;  <NL>  }  <NL> block [ k ] = ( byte ) v ;  <NL>  }  <NL> return block size ;  <NL>  }  COM: <s> reads next variable length block from input </s>