TDAT: private int get free capacity on connection ( i connection connection ) {  <NL> int free capacity = 0 ;  <NL> if ( connection ! = null ) {  <NL> free capacity = connection . get maximum capacity ( ) - connection . get load ( ) ;  <NL>  / / check for phantom connection <NL> i connection phantom connection = connection . get source node ( ) . get inbounding phantom connection for given source node ( connection . get target node ( ) ) ;  <NL> if ( phantom connection ! = null ) { / / phantom connection found <NL> free capacity = free capacity - phantom connection . get maximum capacity ( ) ;  <NL>  }  <NL>  }  <NL> return free capacity ;  <NL>  }  COM: <s> this method calculates the free capacity of a connection max capacity current capacity </s>