TDAT: public void prepare commit ( session session , string transaction ) throws sql exception {  <NL> if ( database = = null || read only ) {  <NL> return ;  <NL>  }  <NL> synchronized ( database ) {  <NL> if ( page store ! = null ) {  <NL> page store . prepare commit ( session , transaction ) ;  <NL>  }  <NL> if ( closed ) {  <NL> return ;  <NL>  }  <NL> current log . prepare commit ( session , transaction ) ;  <NL>  }  <NL>  }  COM: <s> prepare a transaction </s>