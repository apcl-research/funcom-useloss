TDAT: private int space left ( ) {  <NL> if ( write position < mark position ) {  <NL>  / / any space between the first write and <NL>  / / the mark except one character is available .  <NL>  / / in this case it is all in one piece .  <NL> return ( mark position - write position - 1 ) ;  <NL>  } else {  <NL>  / / space at the beginning and end .  <NL> return ( ( buffer . length - 1 ) - ( write position - mark position ) ) ;  <NL>  }  <NL>  }  COM: <s> space available in the buffer which can be written </s>