TDAT: private void lock row ( int row , int cols to lock ) {  <NL>  / / put in an entry for all the row ' s columns <NL> for ( int col = 0 ; col < cols to lock ; + + col ) {  <NL> entry e = new entry ( row , col ) ;  <NL>  / / spin waiting for the entry to be unlocked <NL> while ( locked entries . put if absent ( e , new object ( ) ) ! = null )  <NL>  ;  <NL>  }  <NL>  }  COM: <s> locks all the column entries for this row thereby preventing write or </s>