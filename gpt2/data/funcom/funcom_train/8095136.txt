TDAT: protected int weighted distribution ( int [ ] weights ) {  <NL> int sum = 0 ;  <NL>  <NL> for ( int i = 0 ; i < weights . length ; i + + )  <NL> sum + = weights [ i ] ;  <NL>  <NL> int val = ( int ) math . floor ( m _ random . next double ( ) * sum ) ;  <NL>  <NL> for ( int i = 0 ; i < weights . length ; i + + ) {  <NL> val - = weights [ i ] ;  <NL> if ( val < 0 )  <NL> return i ;  <NL>  }  <NL> return - 1 ;  <NL>  }  COM: <s> calculates a weighted distribution </s>