TDAT: private int get selected s def ( ) {  <NL> row row = get selected crit tree row ( ) ;  <NL>  <NL> if ( row ! = null ) {  <NL>  <NL> if ( row . get row table ( ) instanceof table compiere aspect s def ) {  <NL> return row . get primary key ( ) ;  <NL>  } / / is sdef <NL>  <NL> if ( row . get row table ( ) instanceof table compiere aspect s criteria ) {  <NL> try {  <NL>  <NL> if ( m compiere aspect cwfs criteria . is boolean operation none ( row ) )  <NL> return m compiere aspect cwfs criteria . get first s def ( row ) ;  <NL>  <NL>  } catch ( cm exception table e ) { }  <NL>  } / / is scriteria <NL>  }  <NL>  <NL>  <NL> return - 1 ;  <NL>  }  COM: <s> gets the pkey of the selected sdef </s>