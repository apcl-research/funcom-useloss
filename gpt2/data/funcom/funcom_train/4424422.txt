TDAT: private void build input pattern ( actor actor ) {  <NL> e list < action > actions = actor . get actions outside fsm ( ) ;  <NL>  <NL> for ( action action : actions ) {  <NL> pattern action pattern = action . get input pattern ( ) ;  <NL> for ( port port : action pattern . get ports ( ) ) {  <NL> integer num tokens = input pattern . get num tokens ( port ) ;  <NL> if ( num tokens = = null ) {  <NL> num tokens = action pattern . get num tokens ( port ) ;  <NL>  } else {  <NL> num tokens = math . max ( num tokens ,  <NL> action pattern . get num tokens ( port ) ) ;  <NL>  }  <NL>  <NL> input pattern . set num tokens ( port , num tokens ) ;  <NL>  }  <NL>  }  <NL>  }  COM: <s> builds the input pattern </s>