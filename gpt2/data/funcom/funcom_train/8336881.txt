TDAT: public int get number of pages ( ) {  <NL> try {  <NL> count pages ( ) ;  <NL> if ( this . variables ! = null ) {  <NL> this . variables . update ( " page _ count " , page count ) ;  <NL>  }  <NL> return page count ;  <NL>  } catch ( printer exception ex ) {  <NL> throw new runtime exception ( " print exception occured while counting pages " , ex ) ;  <NL>  }  <NL>  }  COM: <s> before getting the page count the currently printing flag should be set </s>