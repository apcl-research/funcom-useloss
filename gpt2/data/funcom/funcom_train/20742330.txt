TDAT: protected void on attachment renamed ( string from , string to ) {  <NL> history record history record = new history record ( ) ;  <NL> history record . set scope ( history record . scope _ wiki ) ;  <NL> history record . set message ( " history _ attachment _ renamed " ) ;  <NL> history record . set author ( security service . get current user ( ) ! = null ? security service . get current user ( ) . get username ( ) : " " ) ;  <NL> history record . set record date ( new date ( ) ) ;  <NL> history record . set page name ( to ) ;  <NL> history record . set old page name ( from ) ;  <NL> history record . set attachment ( true ) ;  <NL>  <NL> history record dao . save ( history record ) ;  <NL>  }  COM: <s> create history record on attachment renaming </s>