TDAT: private void handle ( service request message srm , object output stream oos ) {  <NL> int i ;  <NL> for ( i = 0 ; i < available services . length ; i + + )  <NL> if ( srm . get requested service ( ) . compare to ( available services [ i ] ) = = 0 ) break ;  <NL> try {  <NL> if ( i = = available services . length ) oos . write object ( new service not available message ( ) ) ;  <NL> else oos . write object ( new service available message ( ) ) ;  <NL>  <NL> oos . flush ( ) ;  <NL>  }  <NL> catch ( io exception ioe ) { }  <NL>  }  COM: <s> if an error occurs the negotiation is aborted </s>