TDAT: private void highlight ( ) {  <NL> if ( highlighter ! = null ) {  <NL> swing utilities . invoke later ( new runnable ( ) {  <NL> public void run ( ) {  <NL> styled document . remove undoable edit listener ( undo manager ) ;  <NL> styled document . remove document listener ( event handler ) ;  <NL>  <NL>  / / todo : future versions should highlight only visible range <NL> highlighter . apply highlight ( styled document ,  <NL> 0 , styled document . get length ( ) ) ;  <NL>  <NL> styled document . add undoable edit listener ( undo manager ) ;  <NL> styled document . add document listener ( event handler ) ;  <NL>  }  <NL>  } ) ;  <NL>  }  <NL>  }  COM: <s> remove undo manager apply highlight put back undo manager </s>