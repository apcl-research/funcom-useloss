TDAT: public long next message number ( identifier in seq id , long in msg number , boolean last ) {  <NL> assert ! last message ;  <NL>  <NL> long result = 0 ;  <NL> synchronized ( this ) {  <NL> current message number + + ;  <NL> if ( last ) {  <NL> last message = true ;  <NL>  } else {  <NL> check last message ( in seq id , in msg number ) ;  <NL>  }  <NL> result = current message number ;  <NL>  }  <NL> return result ;  <NL>  }  COM: <s> returns the next message number and increases the message number </s>