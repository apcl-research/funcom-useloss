TDAT: private void process next line ( ) throws io exception {  <NL> string line = source . read line ( ) ;  <NL> if ( line = = null ) {  <NL>  / / todo : should we call close in the stream here ?  <NL> eof reached = true ;  <NL> finish record ( ) ;  <NL> append to buffer ( footer ) ;  <NL> buffer pos = 0 ;  <NL> return ;  <NL>  }  <NL> if ( " " . equals ( line ) ) {  <NL> return ;  <NL>  }  <NL> process line content ( line ) ;  <NL>  }  COM: <s> reads a line from the input stream and adds the corresponding output </s>