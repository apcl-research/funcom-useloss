TDAT: public void close ( ) {  <NL> try {  <NL> if ( em . get transaction ( ) . is active ( ) ) {  <NL> em . flush ( ) ;  <NL> em . get transaction ( ) . commit ( ) ;  <NL>  }  <NL>  } catch ( runtime exception e ) {  <NL> log . error ( " close entity manager failed " , e ) ;  <NL> em . get transaction ( ) . rollback ( ) ;  <NL> throw e ;  <NL>  } finally {  <NL> em . close ( ) ;  <NL>  }  <NL>  }  COM: <s> close entity manager </s>