TDAT: private int getbits ( int aofs , int acount , string r ) {  <NL> int result = 0 ;  <NL>  / * a count = 0 for ' 1 ' * /  <NL> for ( int i = 0 ; i < acount ; i + + ) {  <NL> int pb = ( ( aofs + i ) / 8 ) ;  <NL> if ( ( ( byte ) r . char at ( pb ) & ( 1 < < ( ( i + aofs ) & 7 ) ) ) ! = 0 ) {  <NL> result = result | ( 1 < < i ) ;  <NL>  }  <NL>  }  <NL> return result ;  <NL>  }  COM: <s> get value in specified bits starting with aofs </s>