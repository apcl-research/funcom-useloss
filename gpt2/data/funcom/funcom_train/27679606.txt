TDAT: public long last insert id ( connection cnx ) {  <NL>  / / connection cnx = null ;  <NL> try {  <NL> if ( ( cnx = this . open ( ) ) = = null ) {  <NL> return 0 ;  <NL>  }  <NL> prepared statement query = cnx . prepare statement ( " select last _ insert _ id ( ) " ) ;  <NL>  <NL> result set rs = query . execute query ( ) ;  <NL>  <NL> if ( rs . next ( ) ) {  <NL> log . debug ( " " + rs . get long ( 1 ) ) ;  <NL> return rs . get long ( 1 ) ;  <NL>  }  <NL> else {  <NL> return 0 ;  <NL>  }  <NL>  }  <NL> catch ( sql exception e ) {  <NL> log . error ( e . to string ( ) ) ;  <NL> return 0 ;  <NL>  }  <NL> finally {  <NL> this . close ( cnx ) ;  <NL>  }  <NL>  }  COM: <s> method last insert id </s>