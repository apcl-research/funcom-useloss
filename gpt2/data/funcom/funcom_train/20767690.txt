TDAT: public void set ( enum new state ) {  <NL> if ( current state = = get initial ( ) ) {  <NL> current state = new state ;  <NL> time changed = system . current time millis ( ) ;  <NL> was changed = true ;  <NL>  } else if ( new state ! = current state ) {  <NL> previous state = current state ;  <NL> current state = new state ;  <NL> time changed = system . current time millis ( ) ;  <NL> was changed = true ;  <NL>  } else {  <NL> was changed = false ;  <NL>  }  <NL>  }  COM: <s> set a possibly new current state </s>