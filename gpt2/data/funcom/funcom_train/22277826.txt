TDAT: public range selected range ( ) {  <NL> if ( has insertion point ( ) ) {  <NL> return new range ( _ selection anchor char , 0 ) ;  <NL>  }  <NL> if ( _ selection anchor char = = - 1 || <NL>  _ selection end char = = - 1 )  <NL> return new range ( ) ;  <NL> else <NL> return range . range from indices ( selection start ( ) , selection stop ( ) ) ;  <NL>  }  COM: <s> returns a range containing the current selection </s>