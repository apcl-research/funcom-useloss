TDAT: protected transaction modify transaction for auto complete ( transaction t ) {  <NL>  <NL> assert t . has valid hash code ( ) = = false ;  <NL>  <NL>  / / tweak the transaction <NL> t . set number ( null ) ;  <NL> t . set reconciled ( false ) ; / / clear both sides <NL>  <NL>  / / set the last date as required <NL> if ( ! get remember last date ( ) ) {  <NL> t . set date ( new date ( ) ) ;  <NL>  } else {  <NL> t . set date ( date panel . get date ( ) ) ;  <NL>  }  <NL>  <NL> return t ;  <NL>  }  COM: <s> modify a transaction before it is used to complete the panel </s>