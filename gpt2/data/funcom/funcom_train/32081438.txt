TDAT: public boolean read and dispatch ( ) {  <NL> check device ( ) ;  <NL> run popups ( ) ;  <NL> idle = false ;  <NL> int handler = os . gcnew _ no args delegate ( jni ref , " set idle handler " ) ;  <NL> operation = os . dispatcher _ begin invoke ( dispatcher , 2 , handler ) ;  <NL> os . dispatcher operation _ wait ( operation ) ;  <NL> os . gc handle _ free ( handler ) ;  <NL> os . gc handle _ free ( operation ) ;  <NL> operation = 0 ;  <NL> if ( ! idle ) {  <NL> run deferred events ( ) ;  <NL> return true ;  <NL>  }  <NL> return run async messages ( false ) ;  <NL>  }  COM: <s> reads an event from the operating systems event queue </s>