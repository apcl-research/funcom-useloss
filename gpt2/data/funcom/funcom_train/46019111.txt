TDAT: private domain create domain ( final string host ) {  <NL> final domain domain = new domain ( ) ;  <NL> string name = host ;  <NL> if ( host . starts with ( default _ host _ prefix ) ) {  <NL> name = host . substring ( default _ host _ prefix _ length ) ;  <NL> domain . set server host ( default _ host ) ;  <NL>  }  <NL> domain . set name ( name ) ;  <NL> if ( ! host . equals ( " localhost " ) ) {  <NL> domain . set type ( domain . type _ subdomain ) ;  <NL>  } else {  <NL> domain . set type ( domain . type _ subdirectory ) ;  <NL>  }  <NL> username configuration uc = new username configuration ( ) ;  <NL> domain . set username configuration ( uc ) ;  <NL> uc . set regex ( " [ a - z ] { 1 , 16 } " ) ;  <NL> uc . set reserved regex ( " root|admin|administrator " ) ;  <NL> string s = " member|news|jos|mail|smtp|pop3|pop| . * fuck . * " ;  <NL> uc . set unallowable regex ( s ) ;  <NL> return domain ;  <NL>  }  COM: <s> create a new domain according to the host </s>