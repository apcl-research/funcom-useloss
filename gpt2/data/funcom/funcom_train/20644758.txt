TDAT: public void commit ( ) {  <NL> assert parent ! = null : " cant change a percentage with parent null " ;  <NL>  <NL>  / / xxx this method of handling context is not thread safe .  <NL> boolean old depth = m _ controller . set deaf ( true ) ;  <NL>  <NL> parent . run on children ( new filler visitor ( ) {  <NL> public void run ( node info ni ) {  <NL> ni . _ set percentage ( ni . preview percentage ) ;  <NL>  } } ) ;  <NL>  <NL>  / / tell my parent to redistribute percentages <NL> parent . redistribute ( ) ;  <NL>  <NL> m _ controller . set deaf ( old depth ) ;  <NL>  }  COM: <s> commit the value of preview percentage </s>