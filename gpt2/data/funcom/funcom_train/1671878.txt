TDAT: public db4o type db4o type stored ( transaction trans , object obj ) {  <NL> if ( ! ( obj instanceof db4o database ) ) {  <NL> return null ;  <NL>  }  <NL> db4o database database = ( db4o database ) obj ;  <NL> if ( trans . reference for object ( obj ) ! = null ) {  <NL> return database ;  <NL>  }  <NL> show internal classes ( true ) ;  <NL> try {  <NL> return database . query ( trans ) ;  <NL>  } finally {  <NL> show internal classes ( false ) ;  <NL>  }  <NL>  }  COM: <s> allows special handling for all db4o type objects </s>