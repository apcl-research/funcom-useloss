TDAT: protected int next ( int bits ) {  <NL> long oldseed , nextseed ;  <NL>  / / atomic long seed = this . seed ;  <NL> long seed = this . seed ;  <NL>  / / saman <NL> boolean equal = false ;  <NL> do {  <NL> oldseed = seed ; / / seed . get ( ) ;  <NL> nextseed = ( oldseed * multiplier + addend ) & mask ;  <NL> equal = ( seed = = oldseed ) ;  <NL> if ( equal ) seed = nextseed ;  <NL>  } while ( ! equal ) ;  <NL>  / / } while ( ! seed . compare and set ( oldseed , nextseed ) ) ;  COM: <s> generates the next pseudorandom number </s>