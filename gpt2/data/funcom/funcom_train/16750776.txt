TDAT: public void close ( ) throws io exception {  <NL> logger . debug ( " closing database " ) ;  <NL> if ( records added > 0 ) {  <NL> if ( current block . get record parts ( ) . size ( ) > 0 )  <NL> write current block ( ) ;  <NL>  }  <NL> raf . close ( ) ;  <NL> if ( records added > 0 ) {  <NL> logger . debug ( " writing index " ) ;  <NL> logger . debug ( " number of blocks : " + get index ( ) . get entries ( ) . size ( ) ) ;  <NL> object output stream oos = new object output stream ( new file output stream ( file index ) ) ;  <NL> oos . write object ( get index ( ) ) ;  <NL> oos . close ( ) ;  <NL>  }  <NL>  }  COM: <s> close the database after writing </s>