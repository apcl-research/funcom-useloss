TDAT: protected void check non fixed optionality ( attribute attr , string expected optionality ) {  <NL>  <NL> if ( expected optionality . equals ( attribute . optionality _ str _ required ) ) {  <NL> assert . assert equals ( att def . optionality _ required , attr . get optionality ( ) ) ;  <NL>  } else {  <NL> assert . assert equals ( att def . optionality _ implied , attr . get optionality ( ) ) ;  <NL>  }  <NL> assert . assert equals ( expected optionality , attr . get optionality string ( ) ) ;  <NL>  }  COM: <s> helper function to compare the optionality of the </s>