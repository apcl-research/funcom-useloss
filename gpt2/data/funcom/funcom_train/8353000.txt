TDAT: private io buffer encode initial greeting packet ( final socks proxy request request ) {  <NL> byte nb methods = ( byte ) socks proxy constants . supported _ auth _ methods . length ;  <NL> io buffer buf = io buffer . allocate ( 2 + nb methods ) ;  <NL>  <NL> buf . put ( request . get protocol version ( ) ) ;  <NL> buf . put ( nb methods ) ;  <NL> buf . put ( socks proxy constants . supported _ auth _ methods ) ;  <NL>  <NL> return buf ;  <NL>  }  COM: <s> encodes the initial greeting packet </s>