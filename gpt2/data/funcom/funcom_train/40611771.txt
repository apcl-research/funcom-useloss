TDAT: private string request ( final request method method , final string resource , collection < request parameter > params ) throws rate limit exceeded exception , gowalla request exception {  <NL> rate limit pre request ( ) ;  <NL> try {  <NL> if ( method = = request method . get ) {  <NL> return handler . get resource ( resource , authentication , params ) ;  <NL>  } else {  <NL> return handler . post resource ( resource , authentication , params ) ;  <NL>  }  <NL>  } finally {  <NL> rate limit post request ( ) ;  <NL>  }  <NL>  }  COM: <s> encapsulate request handler and rate limitation call </s>