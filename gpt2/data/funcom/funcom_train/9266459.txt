TDAT: protected int handle write ( int a0 , int a1 , int a2 ) {  <NL> if ( a0 > = 0 & & a0 < descriptor table . size ( ) & &  <NL> descriptor table . get ( a0 ) ! = null & & a2 > 0 ) {  <NL> open file file = descriptor table . get ( a0 ) ;  <NL> string data = read virtual memory string ( a1 , 256 ) ;  <NL>  <NL> if ( data = = null ) {  <NL> return - 1 ;  <NL>  } else {  <NL> int bytes written = file . write ( data . get bytes ( ) , 0 , a2 ) ;  <NL> return bytes written ;  <NL>  }  <NL>  } else {  <NL> return - 1 ;  <NL>  }  <NL>  }  COM: <s> writes a buffer of a given length to a file descriptor </s>