TDAT: public grammar parse doc ( i document doc , i file file ) throws core exception {  <NL> c manager . clear todos ( ) ;  <NL> grammar grammar = jsgf parser mediator . parse ( doc . get ( ) , c manager ) ;  <NL> compilation unit c unit = comp units . get c unit for file ( file ) ;  <NL> if ( c unit ! = null ) {  <NL> c unit . set grammar ( grammar ) ;  <NL> comp units . build references ( c unit ) ;  <NL> semantic error manager . find errors ( c unit ) ;  <NL>  }  <NL> show errors ( grammar , file ) ;  <NL> return grammar ;  <NL>  }  COM: <s> parse a document and return the grammar model </s>