TDAT: protected void show popup ( mouse event event ) {  <NL>  / / should we show a popup menu ?  <NL> if ( event . is popup trigger ( ) ) {  <NL> point p = get view ( ) . transform from automaton to view ( event . get point ( ) ) ;  <NL> if ( last clicked state ! = null & & should show state popup ( ) ) {  <NL> state menu . show ( last clicked state , get view ( ) , p ) ;  <NL>  } else {  <NL> empty menu . show ( get view ( ) , p ) ;  <NL>  }  <NL>  }  <NL> last clicked state = null ;  <NL> last clicked transition = null ;  <NL>  }  COM: <s> possibly show a popup menu </s>