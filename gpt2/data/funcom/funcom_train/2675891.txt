TDAT: public void close ( ) {  <NL> if ( closed ) {  <NL>  / / already closed <NL> return ;  <NL>  }  <NL> closed = true ;  <NL> if ( live pipe ! = null ) {  <NL> live pipe . unsubscribe ( ( i provider ) this ) ;  <NL>  }  <NL> record pipe . unsubscribe ( ( i provider ) this ) ;  <NL> if ( recording ) {  <NL> send record stop notify ( ) ;  <NL>  }  <NL> send publish stop notify ( ) ;  <NL>  / / todo : can we sent the client something to make sure he stops sending data ?  <NL> conn msg out . unsubscribe ( this ) ;  <NL> notify broadcast close ( ) ;  <NL>  / / deregister with jmx <NL> jmx agent . unregister m bean ( o name ) ;  <NL>  }  COM: <s> closes stream unsubscribes provides sends stoppage notifications and broadcast close notification </s>