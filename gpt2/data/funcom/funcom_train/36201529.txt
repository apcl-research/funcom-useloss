TDAT: private string replace preview ( string text , string query , string replacement ) {  <NL> string tokenizer tokenizer = new string tokenizer ( text ,  <NL>  " ; . , \n\r [ ] ( ) { } ? ! / | : ' < > " , true ) ;  <NL> string builder result = new string builder ( ) ;  <NL>  <NL> if ( replacement = = null ) replacement = " " ;  <NL>  <NL> while ( tokenizer . has more elements ( ) ) {  <NL> string token = tokenizer . next token ( ) ;  <NL> if ( query . equals ignore case ( token ) ) {  <NL> result . append ( replacement ) ;  <NL>  }  <NL> else {  <NL> result . append ( token ) ;  <NL>  }  <NL>  }  <NL> return result . to string ( ) ;  <NL>  }  COM: <s> replaces the query string with the given replacement </s>