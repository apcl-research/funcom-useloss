TDAT: public void action performed ( action event e ) {  <NL> try {  <NL>  / / log . log ( " undo action . action performed . _ doc = " + _ doc + " , event = " + e ) ;  <NL>  _ doc . get undo manager ( ) . undo ( ) ;  <NL>  _ doc . update modified since save ( ) ;  <NL>  }  <NL> catch ( cannot undo exception ex ) {  <NL> throw new unexpected exception ( ex ) ;  <NL>  }  <NL> update undo state ( ) ;  <NL>  _ redo action . update redo state ( ) ;  <NL>  }  COM: <s> what to do when user chooses to undo </s>