TDAT: public void send ( string data ) {  <NL> try {  <NL> while ( ! connected . boolean value ( ) ) {  <NL> thread . sleep ( 5 ) ;  <NL>  }  <NL>  / / fixme connected could change to false before next lines execute <NL>  / / but , can ' t sync on connected here b / c disconnect ( ) calls us <NL> bw . write ( data + " \n " ) ;  <NL> bw . flush ( ) ;  <NL> last _ sent = system . current time millis ( ) ;  <NL> client . debug ( " sent " + last _ sent + " : " + data ) ;  <NL>  } catch ( exception e ) {  <NL> client . debug ( " error : " + e ) ;  <NL> reconnect ( " could not send data " ) ;  <NL>  }  <NL>  }  COM: <s> send a message to the server </s>