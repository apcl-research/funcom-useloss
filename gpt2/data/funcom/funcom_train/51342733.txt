TDAT: private boolean holds all locks ( final lock future task < ? extends object > task ) {  <NL>  <NL> if ( ! lock . is held by current thread ( ) )  <NL> throw new illegal monitor state exception ( ) ;  <NL>  <NL> for ( r r : ( r [ ] ) task . resource ) {  <NL>  <NL> final resource queue < lock future task < ? extends object > > resource queue = resource queues <NL>  . get ( r ) ;  <NL>  <NL> assert resource queue ! = null : " resource = " + r ;  <NL>  <NL> if ( ! resource queue . is granted ( task ) ) {  <NL>  <NL> return false ;  <NL>  <NL>  }  <NL>  <NL>  }  <NL>  <NL> return true ;  <NL>  <NL>  }  COM: <s> return code true code iff the task holds all of its declared locks </s>