TDAT: public int pre service ( request req , response resp ) {  <NL> synchronized ( this ) {  <NL> if ( ! _ tmp req store . contains ( req ) ) {  <NL>  _ time stamp . add element ( new long ( system . current time millis ( ) ) ) ;  <NL>  _ tmp req store . add element ( req ) ;  <NL>  _ hit count + + ;  <NL> if ( req . get context ( ) . get session time out ( ) ! = - 1 )  <NL>  _ req duration dcf . set maximal value ( req . get context ( ) . get session time out ( ) ) ;  <NL>  }  <NL>  }  <NL>  <NL> return 0 ;  <NL>  }  COM: <s> counter incrementation timestamp saving for calculating the </s>