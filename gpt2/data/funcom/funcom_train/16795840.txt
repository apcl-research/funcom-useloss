TDAT: public void set pixels ( int channel number , float processor fp ) {  <NL> float [ ] f pixels = ( float [ ] ) fp . get pixels ( ) ;  <NL> float value ;  <NL> int size = width * height ;  <NL> int shift = 16 - 8 * channel number ;  <NL> int reset mask = 0xffffffff ^ ( 255 < < shift ) ;  <NL> for ( int i = 0 ; i < size ; i + + ) {  <NL> value = f pixels [ i ] + 0 . 5f ;  <NL> if ( value < 0f ) value = 0f ;  <NL> if ( value > 255f ) value = 255f ;  <NL> pixels [ i ] = ( pixels [ i ] & reset mask ) | ( ( int ) value < < shift ) ;  <NL>  }  <NL>  }  COM: <s> sets the pixels of one color channel from a float processor </s>