TDAT: public vector assign action state ( ) {  <NL> change system state ( global . sys _ assign _ action ) ;  <NL> vector all plugins ;  <NL> global . plugin layer lock . write lock ( ) . lock ( ) ;  <NL> try {  <NL> all plugins = global . plugin layer . get all plugin refs ( ) ;  <NL>  } finally {  <NL> global . plugin layer lock . write lock ( ) . unlock ( ) ;  <NL>  }  <NL> return all plugins ;  <NL>  }  COM: <s> assign action state </s>