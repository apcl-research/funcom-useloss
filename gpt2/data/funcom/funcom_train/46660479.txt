TDAT: protected int to packed ( ) {  <NL> int yi = math . round ( y * 1023 ) ;  <NL> int ui = math . round ( ( u + 0 . 5f ) * 1023 ) ;  <NL> int vi = math . round ( ( v + 0 . 5f ) * 1023 ) ;  <NL>  <NL> yi = math . max ( 0 , math . min ( yi , 1023 ) ) ;  <NL> ui = math . max ( 0 , math . min ( ui , 1023 ) ) ;  <NL> vi = math . max ( 0 , math . min ( vi , 1023 ) ) ;  <NL>  <NL> return yi < < 20 | ui < < 10 | vi ;  <NL>  }  COM: <s> convert this color to 30 bit quantized packed approximation </s>