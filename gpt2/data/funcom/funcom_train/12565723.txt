TDAT: protected void change state ( boolean checked , update up ) {  <NL> boolean is before = true ;  <NL> list < update > before = new vector < update > ( ) ;  <NL> list < update > after = new vector < update > ( ) ;  <NL> for ( update u : facade . get updates ( ) ) {  <NL> if ( u . equals ( up ) ) {  <NL> is before = false ;  <NL> before . add ( u ) ;  <NL> continue ;  <NL>  }  <NL> if ( is before ) {  <NL> before . add ( u ) ;  <NL>  } else {  <NL> after . add ( u ) ;  <NL>  }  <NL>  }  <NL> if ( checked ) {  <NL> update list viewer . set checked elements ( before . to array ( ) ) ;  <NL>  } else {  <NL> for ( update update : after ) {  <NL> update list viewer . set checked ( update , false ) ;  <NL>  }  <NL>  }  <NL>  }  COM: <s> ensure that updates are selected in continuity no gaps </s>