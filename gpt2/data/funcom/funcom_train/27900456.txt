TDAT: private string make basename ( file file , file dest dir ) {  <NL> if ( file = = null ) return null ;  <NL> string name = util . encode filename ( file . get name ( ) ) ;  <NL> if ( ( new file ( dest dir , " archive " ) . exists ( ) ) ) {  <NL> name = " archive / " + name ;  <NL>  }  <NL> return name ;  <NL>  }  COM: <s> makes a canonical basefilename out of a possibly messy input filename </s>