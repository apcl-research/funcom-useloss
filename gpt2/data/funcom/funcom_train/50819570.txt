TDAT: public mock keyboard focus manager get keyboard focus manager ( ) {  <NL> keyboard focus manager kfm = keyboard focus manager . get current keyboard focus manager ( ) ;  <NL> if ( ! ( kfm instanceof mock keyboard focus manager ) ) {  <NL> mock keyboard focus manager mkfm = new mock keyboard focus manager ( this ) ;  <NL> keyboard focus manager . set current keyboard focus manager ( mkfm ) ;  <NL> return mkfm ;  <NL>  } else {  <NL> return ( mock keyboard focus manager ) kfm ;  <NL>  }  <NL>  }  COM: <s> todo this needs to be handled more elegantly </s>