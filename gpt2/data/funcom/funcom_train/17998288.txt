TDAT: protected void after completion ( ) throws data access exception {  <NL> if ( is single session ( ) ) {  <NL>  / / single session mode <NL> session holder session holder =  <NL>  ( session holder ) transaction synchronization manager . unbind resource ( get session factory ( ) ) ;  <NL> logger . debug ( " closing single hibernate session in open session in view interceptor " ) ;  <NL> session factory utils . release session ( session holder . get session ( ) , get session factory ( ) ) ;  <NL>  }  <NL> else {  <NL>  / / deferred close mode <NL> session factory utils . process deferred close ( get session factory ( ) ) ;  <NL>  }  <NL>  <NL>  }  COM: <s> unbind the hibernate session from the thread and closes it in single session </s>