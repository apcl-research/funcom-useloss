TDAT: public string persist authentication ( ) {  <NL> if ( authentication home . get instance ( ) . get password ( ) = = null ) { / / new authentication <NL> if ( string utils . is empty ( get password ( ) ) ) {  <NL> return password not defined ( ) ;  <NL>  } else {  <NL> if ( password are equals ( ) ) {  <NL> encode password ( ) ;  <NL> return authentication home . persist ( ) ;  <NL>  } else {  <NL> return password not equals ( ) ;  <NL>  }  <NL>  }  <NL>  <NL>  }  <NL> else {  <NL> if ( ! string utils . is empty ( get password ( ) ) ) { / / update authentication <NL> if ( password are equals ( ) ) {  <NL> encode password ( ) ;  <NL> return authentication home . update ( ) ;  <NL>  } else {  <NL> return password not equals ( ) ;  <NL>  }  <NL>  }  <NL> else <NL> return authentication home . update ( ) ;  <NL>  }  <NL>  }  COM: <s> persist the authentication after encrypting the password </s>