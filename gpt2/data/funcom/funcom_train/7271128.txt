TDAT: private long get or default with max ( map < string , string > name value pairs , string attr , long def , long max ) {  <NL> string value = name value pairs . get ( attr ) ;  <NL> if ( value = = null )  <NL> return def ;  <NL> try {  <NL> return math . min ( max , long . parse long ( value ) ) ;  <NL>  } catch ( number format exception ignored ) { }  <NL> return def ;  <NL>  }  COM: <s> returns the value found in code name value pairs code or </s>