TDAT: private void do paint ( gc gc ) {  <NL> i line range visible model lines = compute visible model lines ( ) ;  <NL> if ( visible model lines = = null )  <NL> return ;  <NL>  <NL> f sensitive to text changes = is viewer completely shown ( ) ;  <NL>  <NL> f scroll pos = f cached text widget . get top pixel ( ) ;  <NL>  <NL> f revision painter . paint ( gc , visible model lines ) ;  <NL> if ( ! f revision painter . has information ( ) ) / / don ' t paint quick diff colors if revisions are painted <NL> f diff painter . paint ( gc , visible model lines ) ;  <NL>  }  COM: <s> draws the ruler column </s>