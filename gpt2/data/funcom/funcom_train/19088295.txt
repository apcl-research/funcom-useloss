TDAT: public string serialize ( element elem , boolean repair ) {  <NL> docinfo . reset ser ( ) ;  <NL> node master node = docinfo . find master node ( elem ) ;  <NL> post work change ( master node , elem ) ;  <NL> org writer . reset ( ) ;  <NL> string writer st writer = new string writer ( 2000 ) ;  <NL>  <NL> serializer . set output char stream ( st writer ) ;  <NL> try {  <NL> serializer . serialize ( elem ) ;  <NL>  } catch ( io exception e ) {  <NL> throw new jivan html exception ( e ) ;  <NL>  }  <NL> if ( repair ) {  <NL>  / / trying to repair a node which has been created by user ?  <NL>  / / doesn ' t make sense .  <NL> if ( master node ! = null )  <NL> repair ( master node , elem ) ;  <NL> docinfo . init changes ( elem ) ;  <NL>  }  <NL> pre work change ( elem ) ;  <NL> return st writer . to string ( ) ;  <NL>  }  COM: <s> seriazation from a subtree </s>