TDAT: public void drain ( string substr ) {  <NL> string scratch ;  <NL>  <NL> try {  <NL> do {  <NL> scratch = read ( ) ;  <NL>  } while ( scratch ! = null & & ! scratch . ends with ( substr ) ) ;  <NL>  } catch ( exception e ) {  <NL> try {  <NL>  / * the roku connection must have failed . * /  <NL> system . err . println ( " roku connection . drain ( " + substr + " ) failed . " ) ;  <NL> connected = false ;  <NL> timer . schedule ( new connect task ( ) , 0 , 1000 ) ;  <NL>  } catch ( exception ex2 ) {  <NL> system . err . println ( " could not launch re - connect task . " ) ;  <NL>  }  <NL> connected = false ;  <NL>  }  <NL>  }  COM: <s> read and discard data from the connection until a line ending </s>