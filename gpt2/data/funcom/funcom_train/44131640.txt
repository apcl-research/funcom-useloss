TDAT: public message receive ( destination d , long ms ) throws jms exception {  <NL> thread . current thread ( ) . set context class loader ( context class loader ) ;  <NL>  <NL> if ( is read only ( ) ) {  <NL> throw new jms exception ( " hermes is in read - only mode " ) ;  <NL>  }  <NL>  <NL> final message m = session manager . get consumer ( d ) . receive ( ms ) ;  <NL>  <NL> if ( m ! = null & & is audit ( ) ) {  <NL> get audit log ( ) . on read ( d , m ) ;  <NL>  }  <NL>  <NL> return m ;  <NL>  }  COM: <s> receive a message with a timeout </s>