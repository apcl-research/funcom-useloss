TDAT: public int freq to index ( float freq ) {  <NL>  / / special case : freq is lower than the bandwidth of spectrum [ 0 ]  <NL> if ( freq < get band width ( ) / 2 ) return 0 ;  <NL>  / / special case : freq is within the bandwidth of spectrum [ spectrum . length - 1 ]  <NL> if ( freq > sample rate / 2 - get band width ( ) / 2 ) return spectrum . length - 1 ;  <NL>  / / all other cases <NL> float fraction = freq / ( float ) sample rate ;  <NL> int i = math . round ( time size * fraction ) ;  <NL> return i ;  <NL>  }  COM: <s> returns the index of the frequency band that contains the requested frequency </s>