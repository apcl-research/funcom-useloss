TDAT: public double provide water ( double amount requested ) {  <NL> amount resource water = amount resource . find amount resource ( " water " ) ;  <NL> double water taken = amount requested ;  <NL> double water left = get inventory ( ) . get amount resource stored ( water ) ;  <NL> if ( water taken > water left )  <NL> water taken = water left ;  <NL> get inventory ( ) . retrieve amount resource ( water , water taken ) ;  <NL>  <NL> return water taken * ( malfunction manager . get water flow modifier ( ) / 100d ) ;  <NL>  }  COM: <s> gets water from system </s>