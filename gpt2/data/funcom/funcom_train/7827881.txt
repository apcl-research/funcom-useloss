TDAT: public void on shutdown ( ) {  <NL> logger . info ( " cleaning database . . . " ) ;  <NL>  <NL> configuration my configuration = new configuration ( ) ;  <NL> my configuration . configure ( hibernate _ cfg ) ;  <NL>  <NL> new schema export ( my configuration ) . drop ( false , true ) ;  <NL>  <NL> session session = my configuration . build session factory ( ) . get current session ( ) ;  <NL> session . begin transaction ( ) ;  <NL> session . create sql query ( " shutdown compact " ) . execute update ( ) ;  <NL> session . get transaction ( ) . commit ( ) ;  <NL>  <NL> logger . info ( " cleaned database " ) ;  <NL>  }  COM: <s> drops objects from the hibernate configuration file and shuts down correctly </s>