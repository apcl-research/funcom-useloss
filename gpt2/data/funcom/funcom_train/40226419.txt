TDAT: public model copy ( final copy criteria criteria ) {  <NL> i copy predicate cp ;  <NL> switch ( criteria . get mode ( ) ) {  <NL> case subset :  <NL> cp = new subset predicate ( criteria . get whitelist props ( ) ) ;  <NL> break ;  <NL> case changes :  <NL> cp = new changes predicate ( criteria . get whitelist props ( ) ) ;  <NL> break ;  <NL> case no _ references :  <NL> cp = new no references predicate ( ) ;  <NL> break ;  <NL> case keep _ references :  <NL> cp = new keep references predicate ( ) ;  <NL> break ;  <NL> default :  <NL> case all :  <NL> cp = new all props predicate ( ) ;  <NL> break ;  <NL>  }  <NL> return copy ( null , this , cp , new binding ref set < model , model > ( ) ) ;  <NL>  }  COM: <s> deep copies this instance creating a new distinct model instance containing </s>