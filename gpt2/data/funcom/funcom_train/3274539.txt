TDAT: private string get line ( int offset ) {  <NL> int caret = view . get caret position ( ) + 4 ;  <NL> string line = " \n\n\n\n " + view . get text ( ) + " \n\n\n\n " ;  <NL> int pos = line . substring ( 0 , caret ) . last index of ( " \n " ) ;  <NL> for ( int i = 0 ; i > offset ; i - - ) {  <NL> pos = line . substring ( 0 , pos ) . last index of ( " \n " ) ;  <NL>  }  <NL> line = line . substring ( pos + 1 ) ;  <NL> for ( int i = 0 ; i < offset ; i + + ) {  <NL> pos = line . index of ( " \n " ) ;  <NL> line = line . substring ( pos + 1 ) ;  <NL>  }  <NL> pos = line . index of ( " \n " ) ;  <NL> line = line . substring ( 0 , pos ) ;  <NL> return line ;  <NL>  }  COM: <s> fetches a line of metadata </s>