TDAT: public void delay ( int done , int total ) throws delay aborted exception {  <NL> if ( ! is visible ( ) )  <NL> return ;  <NL>  <NL> float percentage = ( float ) done / total * 100 ;  <NL> if ( percentage = = 0 || math . abs ( percentage - last percentage ) > 0 . 5 ) {  <NL> textarea . set text ( message + " \n\n percentage done : " + percentage + " % " ) ;  <NL> pi . change indicator ( done , total ) ;  <NL> last percentage = percentage ;  <NL>  }  <NL>  <NL> if ( abort ) {  <NL> end ( ) ;  <NL> throw new delay aborted exception ( ) ;  <NL>  }  <NL>  }  COM: <s> the delay function </s>