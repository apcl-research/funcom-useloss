TDAT: protected void write collection ( output out , collection col ) {  <NL> if ( log . is debug enabled ( ) ) {  <NL> log . debug ( " write collection " ) ;  <NL>  }  <NL> out . write start array ( col . size ( ) ) ;  <NL> iterator it = col . iterator ( ) ;  <NL> boolean is first = true ;  <NL> while ( it . has next ( ) ) {  <NL> if ( ! is first ) {  <NL> out . mark element separator ( ) ;  <NL>  } else {  <NL> is first = false ;  <NL>  }  <NL> serialize ( out , it . next ( ) ) ;  <NL>  }  <NL> out . mark end array ( ) ;  <NL>  }  COM: <s> writes a collection to the output </s>