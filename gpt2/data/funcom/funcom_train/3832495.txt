TDAT: private double calc distance ( double lon1 , double lat1 , double lon2 , double lat2 ) {  <NL> double r = 6368 . 137 ;  <NL> double rad = math . pi / 180d ;  <NL> double cose = 0 ;  <NL>  <NL> cose = math . sin ( rad * lon1 ) * math . sin ( rad * lon2 ) + math . cos ( rad * lon1 ) *  <NL> math . cos ( rad * lon2 ) * math . cos ( rad * ( lat1 - lat2 ) ) ;  <NL> double dist = r * math . acos ( cose ) ;  <NL>  <NL> return dist * 1000 ;  <NL>  }  COM: <s> calculates the distance between two points in epsg 4326 coodinates </s>