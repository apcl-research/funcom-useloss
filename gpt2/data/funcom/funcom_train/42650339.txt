TDAT: public entity manager require entity manager ( ) {  <NL> logger . info ( " current thread = " + thread . current thread ( ) . get name ( ) ) ;  <NL>  / / if ( ! is transaction active ( ) ) {  <NL>  / / start transaction ( ) ;  <NL>  / / }  <NL> entity manager em = entity managers . get ( ) ;  <NL>  <NL> if ( em = = null ) {  <NL> throw new runtime exception ( " no transaction " ) ;  <NL>  }  <NL> return em ;  <NL>  }  COM: <s> this method returns an entity manager associated to the </s>