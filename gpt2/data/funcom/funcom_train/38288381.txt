TDAT: private void add node ( final node node , final boolean in entity ) {  <NL> final short node type = node . get node type ( ) ;  <NL> assert ( node type = = node . attribute _ node )  <NL> || ( node type = = node . element _ node ) : " not an element / attribute node " ; / / $ non - nls - 1 $  <NL> final string ns = string utils . default string ( node . get namespace uri ( ) ) ;  <NL> add mapping ( in entity , ns , node . get prefix ( ) ) ;  <NL>  / / increase count of nodes from this namespace <NL> final node count cnt = all namespaces . get ( ns ) ;  <NL> if ( node type = = node . element _ node )  <NL> cnt . elements + + ;  <NL> else <NL> cnt . attributes + + ;  <NL>  }  COM: <s> registers a node into code map ns to prefix code </s>