TDAT: public void derive ( ) {  <NL> if ( current . next = = null ) {  <NL> set < entry < state , action > > entries =  <NL> current . successors . get ( current . current ) . get key ( ) .  <NL> compute successors ( ) . entry set ( ) ;  <NL> if ( ! entries . is empty ( ) ) {  <NL> level tail = new level ( ) ;  <NL> tail . next = null ;  <NL> tail . prev = current ;  <NL> tail . current = 0 ;  <NL> tail . successors = new linked list < entry < state , action > > ( entries ) ;  <NL> current . next = tail ;  <NL> notify all ( notify step avail . get instance ( ) ) ;  <NL>  }  <NL>  }  <NL>  }  COM: <s> if not already done reduce the current state </s>