TDAT: public state undo ( ) {  <NL>  <NL>  / / ignore if game over <NL> if ( game over ) {  <NL> return null ;  <NL>  }  <NL>  <NL> try {  <NL> state s = this . game . undo ( ) ;  <NL> this . state = s ;  <NL> return s ;  <NL>  } catch ( game exception e ) {  <NL> e . print stack trace ( ) ;  <NL> return this . state ;  <NL>  } finally {  <NL> fire listeners ( game controller listener . operation _ undo ) ;  <NL>  }  <NL>  }  COM: <s> performs an undo in the game </s>