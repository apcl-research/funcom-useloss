TDAT: public void write attribute ( string qualifier , string name , string value ) {  <NL> tag current = this . get tag ( ) ;  <NL> if ( ! current . open )  <NL> throw new illegal state exception ( " cannot write attributes after tag is closed : tag = " + current . name + " / attribute = " + name ) ;  <NL>  <NL> write ( " " + name + " = \ " " + escape ( value ) + " \ " " ) ;  <NL>  }  COM: <s> this can be called before the current tag is closed for attribute addition </s>