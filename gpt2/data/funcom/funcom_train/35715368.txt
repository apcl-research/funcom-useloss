TDAT: private i line range convert to line range ( i region region ) throws bad location exception {  <NL> i document document = f source viewer . get document ( ) ;  <NL> int start line = document . get line of offset ( region . get offset ( ) ) ;  <NL> int end line = document . get line of offset ( region . get offset ( ) + region . get length ( ) ) ;  <NL> return new line range ( start line , end line - start line + 1 ) ;  <NL>  }  COM: <s> converts a given character region into a line range </s>