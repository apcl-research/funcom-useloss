TDAT: public void set time ( mock repository date time new time ) {  <NL> if ( new time . compare to ( current time ) > 0 ) {  <NL> while ( internal iterator . has next ( ) ) {  <NL> mock repository event e = internal iterator . next ( ) ;  <NL> if ( e . get time stamp ( ) . compare to ( new time ) > 0 ) {  <NL> internal iterator . previous ( ) ;  <NL> break ;  <NL>  }  <NL> store . apply event ( e ) ;  <NL>  }  <NL> current time = new time ;  <NL>  }  <NL>  }  COM: <s> sets the time and applies all events that have timestamp less than or </s>