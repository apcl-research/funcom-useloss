TDAT: public point get location ( point i reference ) {  <NL> rectangle r = get owner ( ) . get bounds ( ) ;  <NL> int x , y ;  <NL> if ( top down )  <NL> y = r . y + offset v ;  <NL> else <NL> y = r . y + r . height - offset v ;  <NL>  <NL> if ( left to right )  <NL> x = r . x + offset h ;  <NL> else <NL> x = r . x + r . width - offset h ;  <NL>  <NL> point p = new point ( x , y ) ;  <NL> get owner ( ) . translate to absolute ( p ) ;  <NL>  <NL> return p ;  <NL>  }  COM: <s> this method is taken from fixed connection anchor in logical diagram editor </s>