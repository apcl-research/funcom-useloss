TDAT: public boolean set long edit ( boolean b ) {  <NL> boolean q = _ long edit ;  <NL>  _ long edit = b ;  <NL> if ( ! _ long edit ) {  <NL> if ( ! _ undo stack . is empty ( ) ) {  <NL> if ( _ undo stack . peek ( ) instanceof long undoable edit ) {  <NL> if ( _ undo stack . peek ( ) instanceof end long undoable edit ) {  <NL>  / / do nothing <NL>  } else {  <NL> long undoable edit a = ( long undoable edit ) _ undo stack . pop ( ) ;  <NL> end long undoable edit ea = new end long undoable edit ( a ) ;  <NL>  _ undo stack . push ( ea ) ;  <NL>  }  <NL>  }  <NL>  }  <NL>  }  <NL> return q ;  <NL>  }  COM: <s> sets long edit mode </s>