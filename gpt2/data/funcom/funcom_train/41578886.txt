TDAT: public void note on ( ) {  <NL> current sample = 0 ;  <NL> decay end = attack + decay ;  <NL> if ( attack = = 0 ) {  <NL> attack slope = 1 ;  <NL>  } else {  <NL> attack slope = ( max - min ) / attack ;  <NL>  }  <NL> if ( decay = = 0 ) {  <NL> decay slope = 1 ;  <NL>  } else {  <NL> decay slope = ( max - sustain ) / decay ;  <NL>  }  <NL> state = state . attack ;  <NL>  }  COM: <s> invoked when the note is pressed </s>