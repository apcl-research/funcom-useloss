TDAT: public void write object ( object old instance , encoder out ) {  <NL> object new instance = out . get ( old instance ) ;  <NL> if ( ! mutates to ( old instance , new instance ) ) {  <NL> out . remove ( old instance ) ;  <NL> out . write expression ( instantiate ( old instance , out ) ) ;  <NL>  }  <NL> else {  <NL> initialize ( old instance . get class ( ) , old instance , new instance , out ) ;  <NL>  }  <NL>  }  COM: <s> the code write object code is a single entry point to the persistence </s>