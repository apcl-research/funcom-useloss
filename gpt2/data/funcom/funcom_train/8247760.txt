TDAT: private int get widget offset ( int document offset ) {  <NL> if ( f text viewer instanceof i text viewer extension5 ) {  <NL> i text viewer extension5 extension = ( i text viewer extension5 ) f text viewer ;  <NL> return extension . model offset2widget offset ( document offset ) ;  <NL>  }  <NL> i region visible = f text viewer . get visible region ( ) ;  <NL> int widget offset = document offset - visible . get offset ( ) ;  <NL> if ( widget offset > visible . get length ( ) ) {  <NL> return - 1 ;  <NL>  }  <NL> return widget offset ;  <NL>  }  COM: <s> convert a document offset to the corresponding widget offset </s>