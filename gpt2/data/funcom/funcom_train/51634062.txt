TDAT: protected i type get type for cu ( i compilation unit cu ) {  <NL>  <NL> if ( cu = = null || ! cu . exists ( ) )  <NL> return null ;  <NL>  <NL>  / / use primary type if possible <NL> i type primary type = cu . find primary type ( ) ;  <NL> if ( primary type ! = null )  <NL> return primary type ;  <NL>  <NL>  / / use first top - level type <NL> try {  <NL> i type [ ] types = cu . get types ( ) ;  <NL> if ( types . length > 0 )  <NL> return types [ 0 ] ;  <NL> else <NL> return null ;  <NL>  } catch ( java model exception ex ) {  <NL> return null ;  <NL>  }  <NL>  }  COM: <s> finds and returns the type for the given cu </s>