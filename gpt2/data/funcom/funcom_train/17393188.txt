TDAT: public void write ( string string ) {  <NL> int caret position = get caret position ( ) ;  <NL> if ( caret position + string . length ( ) > max length ) {  <NL> string = string . substring ( 0 , max length - caret position + 1 ) ;  <NL>  }  <NL> int start = caret position ;  <NL> int end = caret position + string . length ( ) ;  <NL> set selection start ( start ) ;  <NL> set selection end ( end ) ;  <NL> replace selection ( string ) ;  <NL> set selection start ( get caret position ( ) ) ;  <NL> color ( start , end , get foreground ( ) ) ;  <NL>  }  COM: <s> write text to screen with current foregound color </s>