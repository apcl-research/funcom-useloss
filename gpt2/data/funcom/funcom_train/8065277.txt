TDAT: public void set text ( string s ) {  <NL> string new text = encode ( s , line separator ) ;  <NL> if ( text editor ! = null & & ! _ cur text . equals ( new text ) ) {  <NL> text editor . cancel editing ( ) ;  <NL>  }  <NL>  _ cur text = new text ;  <NL> calc bounds ( ) ;  <NL>  _ edit mode = false ;  <NL>  }  COM: <s> sets the given string to the current string of this fig </s>