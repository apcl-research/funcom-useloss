TDAT: public fractional permissions replace state info ( pair < set < string > , set < string > > state info ) {  <NL> if ( is bottom ( ) )  <NL>  / / do nothing <NL> return this ;  <NL> assert unpacked permission = = null ;  <NL>  <NL> list < fractional permission > new ps =  <NL> permission set . replace state info ( permissions , state info . fst ( ) ) ;  <NL> list < fractional permission > new frame ps =  <NL> permission set . replace state info ( frame permissions , state info . snd ( ) ) ;  <NL> return create permissions ( new ps , new frame ps , constraints ) ;  <NL>  }  COM: <s> this method must not be called while unpacked </s>