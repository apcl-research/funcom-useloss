TDAT: public string get xml ( ) {  <NL> buf . append ( " < hibernate - mapping > \n " ) ;  <NL>  / / xml the common entities , e . g . , keyed collections <NL> int eln = entities . size ( ) ;  <NL> for ( int i = 0 ; i < eln ; i + + ) {  <NL> p entity pet = ( p entity ) roots . get ( i ) ;  <NL> used column names = new hashtable ( ) ;  <NL> pet . get xml ( 1 , true ) ;  <NL>  }  <NL>  / / xml the classes <NL> int len = roots . size ( ) ;  <NL> for ( int i = 0 ; i < len ; i + + ) {  <NL> reflected class rc = ( reflected class ) roots . get ( i ) ;  <NL> used column names = new hashtable ( ) ;  <NL> rc . get xml ( 1 ) ;  <NL>  }  <NL> buf . append ( " < / hibernate - mapping > \n " ) ;  <NL> return buf . to string ( ) ;  <NL>  }  COM: <s> after all classes are added </s>