TDAT: public presence get presence ( string jid ) {  <NL> if ( resources ! = null & & resources . length > 0 ) {  <NL> if ( jid = = null ) return resources [ 0 ] ;  <NL> for ( int i = 0 ; i < resources . length ; i + + ) {  <NL> string ijid = resources [ i ] . get attribute ( stanza . att _ from ) ;  <NL> if ( jid . equals ( ijid ) ) { return resources [ i ] ; }  <NL>  }  <NL> return resources [ 0 ] ;  <NL>  }  <NL> return null ;  <NL>  }  COM: <s> get the presence of the best resource in order of visibility and </s>