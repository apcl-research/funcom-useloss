TDAT: protected abstract class change element command {  <NL>  <NL> private element element ;  <NL>  <NL> public change element command ( element element ) {  <NL> this . element = element ;  <NL>  }  <NL>  <NL> public void run ( ) throws java model exception {  <NL> get editing domain ( ) . get command stack ( ) . execute (  <NL> new change command ( get editing domain ( ) , new runnable ( ) {  <NL> public void run ( ) {  <NL> try {  <NL> do changes ( ) ;  <NL>  } catch ( java model exception e ) {  <NL> throw new runtime exception ( e ) ;  <NL>  }  <NL>  }  <NL>  } , " " ) ) ;  <NL> save ( element ) ;  <NL>  }  <NL>  <NL>  / * *  <NL>  * do the work inside a transaction .  <NL>  *  <NL>  * @ throws java model exception <NL>  * /  <NL> abstract protected void do changes ( ) throws java model exception ;  <NL>  }  COM: <s> call this in synchronize to handle transactions </s>