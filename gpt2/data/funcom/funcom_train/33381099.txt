TDAT: protected void key pressed ( int key number ) {  <NL> if ( ( command line . is popup visible ( ) ) || ( key number = = - 6 ) || ( key number = = - 7 ) ) {  <NL> boolean repaint necessary = command line . key pressed or repeated ( key number , get game action ( key number ) ) ;  <NL> if ( repaint necessary ) {  <NL> repaint ( ) ;  <NL>  }  <NL>  } else {  <NL> key pressed or repeated ( key number ) ;  <NL>  }  <NL>  }  COM: <s> this is called when a key is pressed </s>