TDAT: public affine transform get transform ( element shape element ) {  <NL>  <NL> affine transform af = null ;  <NL>  <NL> if ( shape element ! = null ) {  <NL>  <NL>  / / gets the bridge context <NL> bridge context ctxt =  <NL> handle . get canvas ( ) . get bridge context ( ) ;  <NL>  <NL> if ( ctxt ! = null ) {  <NL>  <NL>  / / gets the graphics node corresponding to the given node <NL> graphics node gnode = null ;  <NL>  <NL> try { gnode = ctxt . get graphics node ( shape element ) ; } catch ( exception e ) { }  <NL>  <NL> if ( gnode ! = null ) {  <NL>  <NL> af = gnode . get transform ( ) ;  <NL>  <NL>  } else {  <NL>  <NL> af = parse transform ( shape element ) ;  <NL>  }  <NL>  <NL> if ( af ! = null ) {  <NL>  <NL> af = new affine transform ( af ) ;  <NL>  }  <NL>  }  <NL>  }  <NL>  <NL> if ( af = = null ) {  <NL>  <NL> af = new affine transform ( ) ;  <NL>  }  <NL>  <NL> return af ;  <NL>  }  COM: <s> returns the affine transform that is applied to the given element </s>