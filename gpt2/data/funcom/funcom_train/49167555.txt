TDAT: protected void set state ( environment state state ) throws management exception {  <NL>  <NL>  / / todo is state transition valid ?  <NL> if ( is state transition valid ( this . state , state ) = = false )  <NL> throw new management exception ( " invalid state transition from " + this . state . to string ( ) + " to " + state . to string ( ) ) ;  <NL>  <NL>  / / set the state <NL> this . state = state ;  <NL>  <NL>  / / notify listeners <NL> for ( environment listener listener : environment listeners )  <NL> listener . handle state change ( state ) ;  <NL>  <NL>  }  COM: <s> sets the state of the environment interface </s>