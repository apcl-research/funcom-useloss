TDAT: public double cos similarity ( document doc1 , document doc2 ) {  <NL> string word ;  <NL> double similarity = 0 ;  <NL> for ( iterator < string > it = doc1 . words . key set ( ) . iterator ( ) ; it . has next ( ) ; ) {  <NL> word = it . next ( ) ;  <NL> if ( doc2 . words . contains key ( word ) ) {  <NL> similarity + = doc1 . words . get ( word ) [ 2 ] * doc2 . words . get ( word ) [ 2 ] ;  <NL>  }  <NL>  }  <NL> similarity = similarity / ( doc1 . vectorlength * doc2 . vectorlength ) ;  <NL> return similarity ;  <NL>  }  COM: <s> calculates cosine similarity between two documents </s>