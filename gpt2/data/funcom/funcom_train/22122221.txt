TDAT: public void close scenario ( ) {  <NL>  / / flag that no longer in round <NL> round in progress = false ;  <NL>  / / ensure that poller is stopped <NL> img poller . request stop ( ) ;  <NL>  / / flag to stop game if no more cash <NL> stop game = cash < = 0 ;  <NL>  <NL>  / / increment level if appropriate and start a new scenario <NL>  / / if no flag to stop game <NL> if ( ! stop game ) {  <NL> if ( round count % rounds _ per _ level = = 0 ) {  <NL> increment level ( ) ;  <NL>  }  <NL> start scenario ( ) ;  <NL>  } else { / / otherwise end game <NL> end game ( ) ;  <NL>  }  <NL>  }  COM: <s> closes the scenario </s>