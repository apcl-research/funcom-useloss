TDAT: public void update relations ( ) {  <NL> for ( string attribute name : relations . key set ( ) ) {  <NL> set < relation end > attribute updated relations = new hash set < relation end > ( ) ;  <NL> attribute expression attribute expression = this . get numeric attribute ( attribute name ) ;  <NL> for ( relation end relation end : attribute expression . get relations ( ) ) {  <NL>  / / exclude relation with self <NL> if ( ! is self relation ( relation end , attribute name ) )  <NL> attribute updated relations . add ( relation end ) ;  <NL>  }  <NL> relations . put ( attribute name , attribute updated relations ) ;  <NL>  }  <NL>  }  COM: <s> update relations with other shapes </s>