TDAT: private string flatten ( file f ) {  <NL> file p1 = f . get parent file ( ) ;  <NL>  <NL>  / / check for localization <NL> file p2 = null ;  <NL> while ( p1 ! = null ) {  <NL> p2 = p1 ;  <NL> p1 = p1 . get parent file ( ) ;  <NL>  }  <NL>  <NL> if ( p2 ! = null ) {  <NL> string topmost parent = p2 . get name ( ) ;  <NL> if ( topmost parent . ends with ( lproj _ suffix ) ) {  <NL> return topmost parent + file . separator + f . get name ( ) ;  <NL>  }  <NL>  }  <NL>  <NL> return f . get name ( ) ;  <NL>  }  COM: <s> flatten path taking localization into account </s>