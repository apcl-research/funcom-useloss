TDAT: private void spool and expiry thread main ( ) {  <NL> long next expiry time = system . current time millis ( ) ;  <NL> while ( true ) {  <NL>  <NL> try {  <NL> thread . sleep ( spool _ thread _ interval ) ;  <NL>  } catch ( interrupted exception e ) {  <NL> log . debug ( " spool thread interrupted . " ) ;  <NL> return ;  <NL>  }  <NL>  <NL> if ( ! active ) {  <NL> return ;  <NL>  }  <NL>  <NL> throwable safe flush spool if required ( ) ;  <NL>  <NL> if ( ! active ) {  <NL> return ;  <NL>  }  <NL> next expiry time = throwable safe expire elements if required ( next expiry time ) ;  <NL>  <NL>  <NL>  }  <NL>  }  COM: <s> both flushing and expiring contend for the same lock on disk element so </s>