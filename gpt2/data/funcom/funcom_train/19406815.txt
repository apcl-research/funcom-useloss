TDAT: public void add state ( state in _ state ) throws exception {  <NL> if ( m _ states . contains key ( in _ state . name ( ) ) ) {  <NL> throw new exception ( " state already defined " ) ;  <NL>  }  <NL>  <NL> if ( in _ state . is start ( ) ) {  <NL> if ( null ! = m _ start ) {  <NL> throw new exception ( " start state already defined " ) ;  <NL>  } else {  <NL> m _ start = in _ state ;  <NL>  }  <NL>  }  <NL>  <NL> if ( in _ state . is final ( ) ) {  <NL> m _ finals . add ( in _ state ) ;  <NL>  }  <NL>  <NL> m _ states . put ( in _ state . name ( ) , in _ state ) ;  <NL>  }  COM: <s> adds a state to the statechart diagram </s>