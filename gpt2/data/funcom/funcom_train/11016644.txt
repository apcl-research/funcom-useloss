TDAT: public void write string data ( string text ) {  <NL> boolean is16bit encoded = string util . has multibyte ( text ) ;  <NL>  / / calculate total size of the header and first encoded char <NL> int keep together size = 1 + 1 ; / / ushort len , at least one character byte <NL> int option flags = 0x00 ;  <NL> if ( is16bit encoded ) {  <NL> option flags | = 0x01 ;  <NL> keep together size + = 1 ; / / one extra byte for first char <NL>  }  <NL> write continue if required ( keep together size ) ;  <NL> write byte ( option flags ) ;  <NL> write character data ( text , is16bit encoded ) ;  <NL>  }  COM: <s> writes the option flags byte and encoded character data of a unicode string </s>