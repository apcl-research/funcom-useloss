TDAT: public void disconnect ( presence unavailable presence ) {  <NL>  / / if not connected , ignore this request .  <NL> if ( packet reader = = null || packet writer = = null ) {  <NL> return ;  <NL>  }  <NL>  <NL> shutdown ( unavailable presence ) ;  <NL>  <NL> if ( roster ! = null ) {  <NL> roster . cleanup ( ) ;  <NL> roster = null ;  <NL>  }  <NL>  <NL> was authenticated = false ;  <NL>  <NL> packet writer . cleanup ( ) ;  <NL> packet writer = null ;  <NL> packet reader . cleanup ( ) ;  <NL> packet reader = null ;  <NL> chat manager = null ;  <NL>  }  COM: <s> closes the connection </s>