TDAT: public void end ( ) {  <NL> try {  <NL> if ( this . transaction status . is rollback only ( ) = = false ) {  <NL> logger . debug ( " committing transaction . " ) ;  <NL> this . transaction manager . commit ( this . transaction status ) ;  <NL>  <NL>  } else {  <NL> logger . debug ( " rolling - back transaction . " ) ;  <NL> this . transaction manager . rollback ( this . transaction status ) ;  <NL>  }  <NL>  <NL>  } catch ( transaction exception ex ) {  <NL> logger . error ( " an exception happened while ending a transaction . " , ex ) ;  <NL>  }  <NL>  <NL> logger . debug ( " transaction ended . " ) ;  <NL>  }  COM: <s> end the current transaction with a commit or a rollback </s>