TDAT: public int frame length ( ) {  <NL> if ( ! rtp marker )  <NL> throw new illegal state exception ( ) ;  <NL> if ( list . size ( ) < = 0 )  <NL> throw new illegal state exception ( ) ;  <NL>  <NL>  / / calculate from offset and length of last buffer :  <NL> final buffer b = ( buffer ) list . get ( list . size ( ) - 1 ) ;  <NL> final jpeg rtp header jpeg rtp header = parse jpeg rtp header ( b ) ;  <NL>  / / observed : the frame with the marker has valid offset ,  <NL> return jpeg rtp header . get fragment offset ( ) + b . get length ( )  <NL>  - jpeg rtp header . header _ size ;  <NL>  <NL>  }  COM: <s> total length of all fragments </s>