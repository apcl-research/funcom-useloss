TDAT: public void register task ( task task ) {  <NL> if ( m _ scheduling started ) {  <NL> throw new illegal state exception (  <NL>  " cannot register tasks after scheduling has begun ! " ) ;  <NL>  }  <NL> for ( object object : task . get used resources ( ) ) {  <NL> resource resource = m _ resources . get ( object ) ;  <NL> if ( resource = = null ) {  <NL> m _ resources . put ( object , new resource ( object , task <NL>  . get original priority ( ) ) ) ;  <NL>  } else if ( task . get original priority ( ) < resource . get ceiling ( ) ) {  <NL> resource . set ceiling ( task . get original priority ( ) ) ;  <NL>  }  <NL>  }  <NL>  }  COM: <s> all tasks must be registered before any can be scheduled </s>