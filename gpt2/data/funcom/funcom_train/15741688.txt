TDAT: public void send message ( string message ) {  <NL> if ( muc = = null ) {  <NL> log . error ( " muc does not exist " ) ;  <NL> return ;  <NL>  }  <NL>  <NL> if ( message = = null )  <NL> return ;  <NL>  <NL> try {  <NL> message msg = muc . create message ( ) ;  <NL> msg . set body ( message ) ;  <NL> muc . send message ( msg ) ;  <NL>  } catch ( xmpp exception e ) {  <NL> log . error ( " error sending message to : " + get preferences ( ) . get room ( ) ) ;  <NL>  }  <NL>  }  COM: <s> sends a message to all participants </s>