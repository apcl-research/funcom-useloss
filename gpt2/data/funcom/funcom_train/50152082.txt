TDAT: public void close ( int num ) throws exception , warning {  <NL>  <NL> for ( subtask st : task model . get reference ( ) . get sub tasks ( num ) ) {  <NL> if ( st . get close date ( ) = = null ) {  <NL> throw new warning ( resource . get resource string ( " open _ subtasks " ) ) ;  <NL>  }  <NL>  }  <NL>  <NL> task task = get task ( num ) ;  <NL> task . set state ( task model . get reference ( ) . get task types ( )  <NL>  . get final state ( task . get type ( ) ) ) ;  <NL> savetask ( task ) ;  <NL>  }  COM: <s> close a task </s>