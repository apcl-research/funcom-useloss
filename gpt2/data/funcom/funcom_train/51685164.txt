TDAT: private principal get single principal ( class class name ) {  <NL> set principals = get subject ( ) . get principals ( class name ) ;  <NL> if ( principals . size ( ) > 1 ) {  <NL> throw new illegal state exception ( " found more than one principal for class " ) ;  <NL>  }  <NL>  <NL> if ( principals . size ( ) = = 0 ) {  <NL> throw new illegal state exception ( " no principals for provided class " ) ;  <NL>  }  <NL> return ( principal ) principals . iterator ( ) . next ( ) ;  <NL>  }  COM: <s> extracts and returns the request principal from the subject </s>