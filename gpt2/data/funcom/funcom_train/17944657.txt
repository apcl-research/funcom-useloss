TDAT: private void write out rtf ( styled document doc ) throws io exception , bad location exception {  <NL> file what file = get file from chooser ( " . " ,  <NL> j file chooser . save _ dialog ,  <NL> mutable filter . ext _ rtf ,  <NL> translatrix . get translation string ( " filetype rtf " ) ) ;  <NL>  <NL> if ( what file ! = null ) {  <NL> file output stream fos = new file output stream ( what file ) ;  <NL> rtf editor kit rtf kit = new rtf editor kit ( ) ;  <NL> rtf kit . write ( fos , doc , 0 , doc . get length ( ) ) ;  <NL> fos . flush ( ) ;  <NL> fos . close ( ) ;  <NL> refresh on update ( ) ;  <NL>  }  <NL>  }  COM: <s> method for saving text as an rtf document </s>