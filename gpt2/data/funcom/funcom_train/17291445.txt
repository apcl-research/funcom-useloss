TDAT: public void test try read lock fails when update locked ( ) throws exception {  <NL> final latch latch = latch factory . new read write update latch ( ) ;  <NL> latch . update lock ( ) ;  <NL> testfailed = false ;  <NL> thread t = new thread ( new runnable ( ) {  <NL> public void run ( ) {  <NL> if ( ! latch . try shared lock ( ) ) {  <NL> testfailed = true ;  <NL>  }  <NL> else {  <NL> latch . unlock shared ( ) ;  <NL>  }  <NL>  }  <NL>  } ) ;  <NL> t . start ( ) ;  <NL> t . join ( ) ;  <NL> latch . unlock update ( ) ;  <NL>  <NL> assert false ( testfailed ) ;  <NL>  }  COM: <s> try read lock succeeds when update locked </s>