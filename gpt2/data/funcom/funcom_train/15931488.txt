TDAT: public v replace ( k key , v value ) {  <NL> if ( value = = null )  <NL> throw new null pointer exception ( ) ;  <NL> comparable < k > k = comparable ( key ) ;  <NL> for ( ; ; ) {  <NL> node < k , v > n = find node ( k ) ;  <NL> if ( n = = null )  <NL> return null ;  <NL> object v = n . value ;  <NL> if ( v ! = null & & n . cas value ( v , value ) )  <NL> return ( v ) v ;  <NL>  }  <NL>  }  COM: <s> replace entry for key only if currently mapped to some value </s>