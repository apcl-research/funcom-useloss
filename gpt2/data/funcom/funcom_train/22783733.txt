TDAT: private void toggle detail ( ) {  <NL> dimension new size = get size ( ) ;  <NL> if ( is expanded ) {  <NL> detail . set text ( " show details " ) ;  <NL> remove ( detail panel ) ;  <NL> new size . height = collapsed height ;  <NL>  } else {  <NL> detail . set text ( " hide details " ) ;  <NL> add ( detail panel , border layout . center ) ;  <NL> new size . height = math . max ( expanded height , new size . height ) ;  <NL>  }  <NL> is expanded = ! is expanded ;  <NL> set size ( new size ) ;  <NL> validate ( ) ;  <NL>  }  COM: <s> toggle expansion state </s>