TDAT: public void send broadcast ( string message ) {  <NL> prep write buffer ( message + eol ) ;  <NL> iterator i = clients . iterator ( ) ;  <NL> while ( i . has next ( ) ) {  <NL> user user = ( user ) i . next ( ) ;  <NL> if ( ! channel write ( user . get channel ( ) , write buffer ) ) {  <NL> broadcast logoff ( user ) ;  <NL> i . remove ( ) ;  <NL>  }  <NL>  }  <NL>  }  COM: <s> sends a message to every user logged in </s>