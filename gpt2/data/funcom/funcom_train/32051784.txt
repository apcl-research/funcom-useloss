TDAT: private metric evaluation get metric evaluation ( string key , metric type type ) throws undefined metric exception {  <NL> metric evaluation eval = metric evals . get ( key ) ;  <NL> if ( eval = = null ) {  <NL> if ( type = = null ) throw new undefined metric exception ( " undefined metric : ' " + key + " ' . " ) ;  <NL>  <NL> eval = new metric evaluation ( ) ;  <NL> eval . key = key ;  <NL> eval . type = type ;  <NL> metric evals . put ( key , eval ) ;  <NL>  }  <NL>  <NL> return eval ;  <NL>  }  COM: <s> returns a metric for the given code key code </s>