TDAT: public void checkpoint ( ) {  <NL> bmodel state = persistence . externalize ( ) ;  <NL> if ( state ! = null ) {  <NL> redo stack . clear ( ) ;  <NL> if ( current state ! = null ) {  <NL> undo stack . push ( current state ) ;  <NL> if ( undo stack . size ( ) > 5 ) {  <NL> undo stack . remove ( 0 ) ;  <NL>  }  <NL>  }  <NL> current state = state ;  <NL>  }  <NL>  }  COM: <s> checkpoint the b model </s>