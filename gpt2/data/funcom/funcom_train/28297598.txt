TDAT: private string get next message ( string type , string param ) {  <NL> string msg = null ;  <NL> begin critical msg ( ) ;  <NL> int idx = get index of message ( type , param ) ;  <NL> if ( idx > = 0 ) {  <NL> msg = ( string ) msg buffer . remove ( idx ) ;  <NL>  }  <NL> end critical msg ( ) ;  <NL> return msg ;  <NL>  }  COM: <s> returns the next message with the given type and removes it </s>