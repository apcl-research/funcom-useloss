TDAT: private list updated attributes ( db entity entity , map updated snapshot ) {  <NL> list attributes = new array list ( updated snapshot . size ( ) ) ;  <NL> map entity attributes = entity . get attribute map ( ) ;  <NL>  <NL> iterator it = updated snapshot . key set ( ) . iterator ( ) ;  <NL> while ( it . has next ( ) ) {  <NL> object name = it . next ( ) ;  <NL> attributes . add ( entity attributes . get ( name ) ) ;  <NL>  }  <NL>  <NL> return attributes ;  <NL>  }  COM: <s> creates a list of db attributes that are updated in a snapshot </s>