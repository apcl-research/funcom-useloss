TDAT: public string get selected directory ( ) {  <NL> final tree path selection path = resource tree . get selection path ( ) ;  <NL> if ( selection path = = null ) return null ;  <NL> string path = ( string ) selection path . get last path component ( ) ;  <NL> if ( ! path . ends with ( " / " ) ) {  <NL> path = path . substring ( 0 , path . last index of ( ' / ' ) ) ;  <NL>  }  <NL> return path ;  <NL>  }  COM: <s> returns the currently selected resource directory </s>