TDAT: synchronized private b tree get index ( ) {  <NL>  <NL> final abstract journal journal = resource manager . get live journal ( ) ;  <NL>  <NL> if ( journal ! = basis . journal <NL> || journal . get last commit time ( ) ! = basis . commit record <NL>  . get timestamp ( ) ) {  <NL>  <NL> basis = new basis ( journal , name ) ;  <NL>  <NL>  }  <NL>  <NL>  / *  <NL>  * note : we rely on the b tree returned here to enforce the read - only <NL>  * contract for this view .  <NL>  * /  <NL>  <NL> assert basis . btree . is read only ( ) ;  <NL>  <NL> return basis . btree ;  <NL>  <NL>  }  COM: <s> return the read committed view </s>