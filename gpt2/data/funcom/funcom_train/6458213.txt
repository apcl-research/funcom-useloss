TDAT: public long get server time ( ) {  <NL> long time1 = new date ( ) . get time ( ) ;  <NL> if ( time1 > time sync expire ) {  <NL> long server time = update task . get server time ( ) ;  <NL> if ( server time < 0 ) {  <NL> return time1 ;  <NL>  }  <NL> long time2 = new date ( ) . get time ( ) ;  <NL> long local time = ( time1 / 2 ) + ( time2 / 2 ) ;  <NL> time offset = server time - local time ;  <NL> time sync expire = time2 + 60 * 60 * 1000 ; / / 1 hour <NL> return time2 + time offset ;  <NL>  } else {  <NL> return time1 + time offset ;  <NL>  }  <NL>  }  COM: <s> returns the time on the server </s>