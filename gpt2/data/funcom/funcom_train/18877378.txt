TDAT: private int extract record size ( int index ) throws io exception {  <NL> int res = 0 ;  <NL> byte [ ] b ;  <NL> int old pos = buffer . position ( ) ;  <NL> buffer . position ( index ) ;  <NL> if ( buffer . remaining ( ) > = 5 ) {  <NL> b = new byte [ 5 ] ;  <NL> buffer . get ( b ) ;  <NL>  } else if ( buffer . remaining ( ) > 0 ) {  <NL> b = new byte [ buffer . remaining ( ) ] ;  <NL> buffer . get ( b ) ;  <NL>  } else {  <NL> b = new byte [ ] { ' 0 ' } ;  <NL>  }  <NL> buffer . position ( old pos ) ;  <NL> string s = s57byte buffer . get string ( b , b . length ) ;  <NL> try {  <NL> res = integer . parse int ( s ) ;  <NL>  } catch ( exception e ) {  <NL> res = 0 ;  <NL>  }  <NL> return res ;  <NL>  }  COM: <s> extract the record size from the file </s>