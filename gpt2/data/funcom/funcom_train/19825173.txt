TDAT: public void set properties ( dictionary props ) {  <NL> synchronized ( event lock ) {  <NL> synchronized ( properties ) {  <NL> if ( available ) {  <NL> string [ ] classes = ( string [ ] ) properties . get ( constants . objectclass ) ;  <NL> long sid = ( long ) properties . get ( constants . service _ id ) ;  <NL> properties = new properties dictionary ( props , classes , sid ) ;  <NL>  } else {  <NL> throw new illegal state exception ( " service is unregistered " ) ;  <NL>  }  <NL>  }  <NL> bundle . framework . listeners . service changed ( new service event ( service event . modified , reference ) ) ;  <NL>  }  <NL>  }  COM: <s> update the properties associated with this service </s>