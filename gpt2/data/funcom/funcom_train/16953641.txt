TDAT: public void attach device ( device device , physical entity < ? > entity ) {  <NL>  / / device mag niet reeds aan andere physical entity zijn toegevoegd <NL> if ( device = = null || entity = = null || device . has physical entity ( ) ) {  <NL> throw new illegal argument exception ( ) ;  <NL>  }  <NL> entity . attach device ( device ) ;  <NL> device . set physical entity ( entity ) ;  <NL>  <NL> devices . add ( device ) ;  <NL> device . set structure ( this ) ;  <NL> deployment layer . get registry ( ) . register ( device ) ;  <NL>  <NL> event broker . get event broker ( ) . notify all ( new device attached event ( device , entity ) ) ;  <NL>  }  COM: <s> attach the given device to the given physical entity </s>