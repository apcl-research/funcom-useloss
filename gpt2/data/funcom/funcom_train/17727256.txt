TDAT: public plan add ( plan p , term source , boolean before ) throws parse exception {  <NL> if ( ag . is atomic ( ) ) {  <NL> return dpl . add ( p , source , before ) ;  <NL>  }  <NL>  <NL> int i = plans . index of ( p ) ;  <NL> if ( i < 0 ) {  <NL>  / / add label , if necessary <NL> if ( p . get label ( ) = = null ) p . set label ( get unique label ( ) ) ;  <NL> p . get label ( ) . add source ( source ) ;  <NL> add ( p , before ) ;  <NL>  } else {  <NL> p = plans . get ( i ) ;  <NL> p . get label ( ) . add source ( source ) ;  <NL>  }  <NL> return p ;  <NL>  }  COM: <s> add a new plan in pl </s>