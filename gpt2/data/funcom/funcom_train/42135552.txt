TDAT: public void run ( ) {  <NL> send data ( ) ;  <NL> boolean scheduled = false ;  <NL> boolean endofdata = false ;  <NL> while ( ! scheduled & & ! endofdata ) {  <NL> long timestamp = buffer . peek time stamp ( ) ;  <NL> if ( timestamp ! = - 1 ) {  <NL> long delay = calculate delay ( timestamp ) ;  <NL> if ( delay < max _ neg _ delay ) {  <NL> drop packets ( ) ;  <NL>  } else {  <NL> send data ( ) ;  <NL>  }  <NL>  } else {  <NL> endofdata = true ;  <NL>  }  <NL>  }  <NL>  }  COM: <s> sends the first packet in the queue and all packets with the same </s>