TDAT: public point3d get heliocentric ecliptic pos ( ) {  <NL> point3d pos = new point3d ( ecliptic pos ) ;  <NL> planet p = parent ;  <NL> while ( p ! = null & & p . parent ! = null ) {  <NL>  / / pos . transfo4d ( p . mat local to parent ) ;  <NL> pos . add ( p . ecliptic pos ) ;  <NL> p = p . parent ;  <NL> if ( p . parent ! = null ) {  <NL> throw new stellarium exception ( " a satellite has no satellites " ) ;  <NL>  }  <NL>  }  <NL> return pos ;  <NL>  }  COM: <s> used only for earth shadow lunar eclipse </s>