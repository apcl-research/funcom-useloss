TDAT: public boolean add ( string key , expression expression , boolean may hide , boolean may replace ) {  <NL> if ( ! may replace & & inner symbols . contains key ( key ) ) {  <NL> return false ;  <NL>  }  <NL> if ( ! may hide & & outer symbols ! = null & & outer symbols . resolve symbol ( key ) ! = null ) {  <NL> return false ;  <NL>  }  <NL> inner symbols . put ( key , expression ) ;  <NL> return true ;  <NL>  }  COM: <s> add a symbol unless it violates a hiding or replacement restriction </s>