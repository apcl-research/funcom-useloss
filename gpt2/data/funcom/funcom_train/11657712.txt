TDAT: public void update ( final long now , final int num idle ) {  <NL> final int idle = math . max ( 0 , num idle ) ;  <NL> idle high water mark = math . max ( idle , idle high water mark ) ;  <NL> final float max interval = 15f ;  <NL> final float minutes = max interval + ( ( 1f - max interval ) / idle high water mark ) * idle ;  <NL> next shrink = now + ( long ) ( minutes * 60000f * factor ) ;  <NL>  }  COM: <s> updates internal state using the supplied time and num idle </s>