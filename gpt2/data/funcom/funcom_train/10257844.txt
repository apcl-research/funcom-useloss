TDAT: public void add preference change listener ( gui preference change listener listener ) {  <NL>  / / don ' t add an already registered listener <NL> for ( iterator i = listeners . iterator ( ) ; i . has next ( ) ; ) {  <NL> weak reference ref = ( weak reference ) i . next ( ) ;  <NL> gui preference change listener l = ( gui preference change listener ) ref <NL>  . get ( ) ;  <NL> if ( listener = = l )  <NL> return ;  <NL>  }  <NL>  <NL>  / / use weak reference to avoid memory leak if this becomes the <NL>  / / sole reference to the object .  <NL> listeners . add ( new weak reference ( listener ) ) ;  <NL>  }  COM: <s> registers the specified listener so that it will be informed whenever the </s>