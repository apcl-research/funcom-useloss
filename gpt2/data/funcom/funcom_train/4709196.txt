TDAT: private byte buffer get content from encoded write buffer ( ) {  <NL> if ( encoded write buffer . has remaining ( ) ) {  <NL> byte [ ] b = new byte [ encoded write buffer . remaining ( ) ] ;  <NL> encoded write buffer . get ( b ) ;  <NL> encoded write buffer . clear ( ) ; / / then can encode new buffer <NL> return byte buffer . wrap ( b ) ;  <NL>  }  <NL> return null ;  <NL>  }  COM: <s> first encode the message </s>