TDAT: public object do in transaction ( transaction status ts ) {  <NL> try {  <NL> html document temp = html document dao . find by url ( document <NL>  . get doc url ( ) ) ;  <NL> if ( temp ! = null ) {  <NL> html document dao . make transient ( temp ) ;  <NL> html document dao . flush ( ) ;  <NL>  }  <NL> html document dao . make persistent ( document ) ;  <NL> html document dao . flush ( ) ;  <NL> html document dao . clear ( ) ;  <NL>  <NL> content processor . process content ( ) ;  <NL>  } catch ( exception e ) {  <NL> ts . set rollback only ( ) ;  <NL> system . err . println ( " error when creating index . " ) ;  <NL> system . err . println ( e . get message ( ) ) ;  <NL> e . print stack trace ( ) ;  <NL> log . error ( " error when creating index . " , e ) ;  <NL>  }  <NL> return null ;  <NL>  }  COM: <s> the range of this transaction is save or update the document to </s>