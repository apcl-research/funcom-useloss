TDAT: private string apply filter ( string query , string filter ) {  <NL> if ( filter . equals ( " " ) )  <NL> return query ;  <NL> int where index = query . last index of ( " where " ) ;  <NL> if ( where index = = - 1 )  <NL> where index = query . last index of ( " where " ) ;  <NL>  <NL> if ( where index = = - 1 )  <NL> return query + " where " + filter ;  <NL>  <NL> string result = query . substring ( 0 , where index + 5 ) ;  <NL> string where clause = query . substring ( where index + 5 ) ;  <NL> result = result + " " + filter + " and " + where clause ;  <NL> return result ;  <NL>  }  COM: <s> function that applies certain filter to any query transforming it to a </s>