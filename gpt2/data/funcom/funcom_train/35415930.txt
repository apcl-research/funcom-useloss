TDAT: public float compute horizontal angle ( vector3f object direction ) {  <NL> float x = world left . dot ( object direction ) ;  <NL> float y = direction . dot ( object direction ) ;  <NL> float length = fast math . sqrt ( x * x + y * y ) ;  <NL>  <NL> if ( length < fast math . zero _ tolerance ) return 0 ;  <NL>  <NL> y = y / length ;  <NL> float angle = ( ( float ) math . acos ( y ) ) * fast math . rad _ to _ deg ;  <NL>  <NL> return ( x < 0 ? 180 - angle : 180 + angle ) ;  <NL>  }  COM: <s> projects the vector onto the plane spanned by world left and direction </s>