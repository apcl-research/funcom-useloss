TDAT: synchronized public void set protocol ( set protocol msg msg ) {  <NL> boolean was tracing = protocol . tracing ;  <NL> protocol = msg . info ;  <NL> if ( was tracing ) {  <NL> notify all ( ) ;  <NL>  }  <NL> if ( ! protocol . tracing ) {  <NL> on inspectable event ( new alice . tuplecentre . inspectable event ( this , inspectable event . type _ newstate ) ) ;  <NL>  }  <NL>  }  COM: <s> setting new observation protocol </s>