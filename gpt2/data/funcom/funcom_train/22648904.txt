TDAT: public string to upper case ( locale locale ) {  <NL>  / / must return self if chars unchanged <NL> string builder buffer = new string builder ( ) ;  <NL> for ( int i = offset ; i < offset + count ; i + + ) {  <NL> buffer . append ( ( char ) to upper case impl ( value [ i ] ) ) ;  <NL>  }  <NL>  <NL> string ret = buffer . to string ( ) ;  <NL> if ( this . equals ( ret ) ) {  <NL> return this ;  <NL>  } else {  <NL> return ret ;  <NL>  }  <NL>  }  COM: <s> converts the characters in this string to uppercase using the specified </s>