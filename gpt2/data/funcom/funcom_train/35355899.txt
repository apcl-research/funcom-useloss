TDAT: public void deriv ( ) {  <NL> states = x ;  <NL>  / / update the information for each state .  <NL> for ( int k = 0 ; k < n states ; k + + ) {  <NL> thermal unit unit = house list [ k ] ;  <NL> unit . set inputs ( u ) ;  <NL> unit . set states ( x ) ;  <NL>  }  <NL>  / / compute the derivatives for each state <NL> for ( int k = 0 ; k < n states ; k + + ) {  <NL> thermal unit unit = house list [ k ] ;  <NL> dx [ k ] = unit . get deriv ( ) ;  <NL>  }  <NL>  }  COM: <s> compute the derivative </s>