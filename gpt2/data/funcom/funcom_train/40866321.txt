TDAT: public string get url ( string uri , boolean secure ) {  <NL>  <NL> final string buffer url = new string buffer ( ) ;  <NL>  <NL> url . append ( ! secure ? " http : / / " : " https : / / " ) ;  <NL> url . append ( request . get server name ( ) ) ;  <NL>  <NL> if ( ( ! secure & & port ! = 80 ) || ( secure & & secure port ! = 443 ) ) {  <NL> url . append ( ' : ' ) ;  <NL> url . append ( secure ? secure port : port ) ;  <NL>  }  <NL>  <NL> url . append ( uri ) ;  <NL>  <NL> return encode url ( url . to string ( ) ) ;  <NL>  }  COM: <s> returns a fully qualified url for the given uri </s>