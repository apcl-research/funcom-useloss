TDAT: public void run ( ) {  <NL> while ( document . get ( ) ! = null ) {  <NL> try {  <NL> recolor event re ;  <NL> synchronized ( events lock ) {  <NL>  / / get the next event to process - stalling until the <NL>  / / event becomes available <NL> while ( events . is empty ( ) & & document . get ( ) ! = null ) {  <NL>  / / stop waiting after a second in case document <NL>  / / has been cleared .  <NL> events lock . wait ( 1000 ) ;  <NL>  }  <NL> re = ( recolor event ) events . remove first ( ) ;  <NL>  }  <NL> process event ( re . position , re . adjustment ) ;  <NL> thread . sleep ( 100 ) ;  <NL>  } catch ( interrupted exception e ) { }  <NL>  }  <NL>  }  COM: <s> the colorer runs forever and may sleep for long periods of time </s>