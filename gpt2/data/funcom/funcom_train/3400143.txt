TDAT: public void ungetc ( ) {  <NL>  <NL> if ( start = = 0 )  <NL> throw new internal error ( " ungetc " ) ;  <NL> start - - ;  <NL>  <NL> if ( buf [ start ] = = ' \n ' || buf [ start ] = = ' \r ' ) {  <NL> if ( ! is internal ( ) )  <NL> line number - - ;  <NL>  } else if ( returned first half )  <NL> returned first half = false ;  <NL>  }  COM: <s> two character pushback is guaranteed </s>