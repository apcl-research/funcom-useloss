TDAT: protected void _ index ( object t , map m ) {  <NL> if ( t = = null ) {  <NL> return ;  <NL>  }  <NL> int ttype = adaptor . get type ( t ) ;  <NL> list elements = ( list ) m . get ( new integer ( ttype ) ) ;  <NL> if ( elements = = null ) {  <NL> elements = new array list ( ) ;  <NL> m . put ( new integer ( ttype ) , elements ) ;  <NL>  }  <NL> elements . add ( t ) ;  <NL> int n = adaptor . get child count ( t ) ;  <NL> for ( int i = 0 ; i < n ; i + + ) {  <NL> object child = adaptor . get child ( t , i ) ;  <NL>  _ index ( child , m ) ;  <NL>  }  <NL>  }  COM: <s> do the work for index </s>