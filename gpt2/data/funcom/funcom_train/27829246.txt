TDAT: public void update ( ) {  <NL> string inst = " " ;  <NL> double current = this . get price ( inst ) ;  <NL>  <NL> if ( _ previous > 0 )  <NL>  {  <NL> float cash = this . get cash ( ) ;  <NL> float quantity = this . get position ( inst ) ;  <NL>  <NL> if ( _ previous > current )  <NL>  {  <NL> if ( quantity > 0 )  <NL>  {  <NL> this . add quantity order ( inst , - quantity ) ;  <NL>  }  <NL>  }  <NL> else if ( _ previous < current )  <NL>  {  <NL> if ( cash > 0 )  <NL>  {  <NL> add amount order ( inst , cash ) ;  <NL>  }  <NL>  }  <NL>  }  <NL>  <NL>  _ previous = current ;  <NL>  }  COM: <s> fully invests the entire amount of cash </s>