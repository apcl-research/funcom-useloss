TDAT: private packet next packet ( ) {  <NL> synchronized ( queue ) {  <NL> while ( ! done & & queue . size ( ) = = 0 ) {  <NL> try {  <NL> queue . wait ( 2000 ) ;  <NL>  }  <NL> catch ( interrupted exception ie ) { }  <NL>  }  <NL> if ( queue . size ( ) > 0 ) {  <NL> return ( packet ) queue . remove last ( ) ;  <NL>  }  <NL> else {  <NL> return null ;  <NL>  }  <NL>  }  <NL>  }  COM: <s> returns the next available packet from the queue for writing </s>