TDAT: public void rollback ( throwable e ) {  <NL> if ( ! commmitted ) {  <NL> try {  <NL> try {  <NL> if ( user transaction ! = null ) {  <NL> if ( new transaction ) {  <NL> user transaction . rollback ( ) ;  <NL>  } else {  <NL> user transaction . set rollback only ( ) ;  <NL>  }  <NL>  }  <NL> notify rollback ( e ) ;  <NL>  } finally {  <NL> close ( ) ;  <NL>  }  <NL>  } catch ( exception ex ) {  <NL> throw new persistence exception ( ex ) ;  <NL>  }  <NL>  }  <NL>  <NL>  }  COM: <s> rollback the transaction </s>