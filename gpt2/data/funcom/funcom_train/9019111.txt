TDAT: public size2d arrange ( canvas g2 , rectangle constraint constraint ) {  <NL> size2d result = new size2d ( ) ;  <NL> fetch legend items ( ) ;  <NL> if ( this . items . is empty ( ) ) {  <NL> return result ;  <NL>  }  <NL> block container container = this . wrapper ;  <NL> if ( container = = null ) {  <NL> container = this . items ;  <NL>  }  <NL> rectangle constraint c = to content constraint ( constraint ) ;  <NL> size2d size = container . arrange ( g2 , c ) ;  <NL> result . height = calculate total height ( size . height ) ;  <NL> result . width = calculate total width ( size . width ) ;  <NL> return result ;  <NL>  }  COM: <s> arranges the contents of the block within the given constraints and </s>