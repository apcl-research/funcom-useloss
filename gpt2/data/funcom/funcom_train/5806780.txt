TDAT: public boolean is user on duty ( string user , calendar time ) throws io exception , marshal exception , validation exception {  <NL>  <NL> update ( ) ;  <NL>  <NL>  / / if the user has no duty schedules then he is on duty <NL> if ( ! m _ duty schedules . contains key ( user ) )  <NL> return true ;  <NL>  <NL> for ( duty schedule cur schedule : m _ duty schedules . get ( user ) ) {  <NL> if ( cur schedule . is in schedule ( time ) ) {  <NL> return true ;  <NL>  }  <NL>  }  <NL>  <NL> return false ;  <NL>  }  COM: <s> determines if a user is on duty at a given time </s>