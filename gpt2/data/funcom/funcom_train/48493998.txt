TDAT: private void stop ( int flag ) {  <NL> controller . stop ( ) ;  <NL>  <NL> receiver . remove data consumer ( data filter ) ;  <NL>  <NL> if ( data set ! = null )  <NL> receiver . remove data consumer ( data set . get filter ( ) ) ;  <NL>  <NL> run flag = false ;  <NL>  <NL> for ( batch run ended event : events ) {  <NL> event . finished ( flag ) ;  <NL>  }  <NL>  <NL>  / / stop automatic snapshot saving <NL> render [ ] renders = coordinator . get instance ( ) . get renders ( ) ;  <NL> for ( render render : renders ) {  <NL> render . disable automatic snapshots ( ) ;  <NL>  }  <NL>  }  COM: <s> stops a batch run process </s>