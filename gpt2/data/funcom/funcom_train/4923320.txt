TDAT: public void test delay fail invalidate ( ) throws throwable {  <NL>  <NL> final exception failure = new exception ( " failed to invalidate " ) ;  <NL>  <NL>  / / record <NL> this . record _ instantiate ( ) ;  <NL> this . record _ delay ( ) ; / / invalidating <NL> this . asynchronous listener . notify started ( ) ;  <NL> this . asynchronous listener . notify complete ( ) ;  <NL>  <NL>  / / invalidate <NL> this . replay mock objects ( ) ;  <NL> http session administration admin = this <NL>  . create http session administration ( ) ;  <NL> admin . invalidate ( true ) ;  <NL> assert false ( " delay invalidating " , admin . is operation complete ( ) ) ;  <NL> this . ensure http session invalidated ( null ) ;  <NL> this . invalidate operation . failed to invalidate session ( failure ) ;  <NL> this . verify failure ( admin , failure ) ;  <NL>  }  COM: <s> ensure can handle delayed failure to invalidate </s>