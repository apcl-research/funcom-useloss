TDAT: public string get patient history marshaled ( ) {  <NL> if ( patient history = = null )  <NL> return null ;  <NL> byte array output stream output stream = new byte array output stream ( 256 ) ;  <NL> xml encoder encoder = new xml encoder ( output stream ) ;  <NL> encoder . write object ( patient history ) ;  <NL> encoder . close ( ) ;  <NL> try {  <NL> return output stream . to string ( utf8 ) ;  <NL>  } catch ( unsupported encoding exception unsupported encoding exception ) {  <NL>  / / should never happen ; use platform ' s charset <NL> return output stream . to string ( ) ;  <NL>  }  <NL>  }  COM: <s> marshals the patient history into an utf 8 string </s>