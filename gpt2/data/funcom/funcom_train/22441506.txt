TDAT: protected int end of line of ( int offset ) throws bad location exception {  <NL>  <NL> i region info = _ document . get line information of offset ( offset ) ;  <NL> if ( offset < = info . get offset ( ) + info . get length ( ) )  <NL> return info . get offset ( ) + info . get length ( ) ;  <NL>  <NL> int line = _ document . get line of offset ( offset ) ;  <NL> try {  <NL> info = _ document . get line information ( line + 1 ) ;  <NL> return info . get offset ( ) + info . get length ( ) ;  <NL>  } catch ( bad location exception x ) {  <NL> return _ document . get length ( ) ;  <NL>  }  <NL>  }  COM: <s> returns the end offset of the line that contains the specified offset or </s>