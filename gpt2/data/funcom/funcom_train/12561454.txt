TDAT: public void set all dirty ( ) {  <NL> synchronized ( layers ) {  <NL> c layer l ;  <NL> for ( c layer element le = layers . get bottom ( ) ;  <NL> le ! = null ; le = le . get upper ( ) ) {  <NL> l = le . get layer ( ) ;  <NL> if ( l . visible ) {  <NL> l . add dirty region ( ) ;  <NL>  } / / if <NL>  } / / for <NL>  } / / synchronized <NL>  }  COM: <s> sets all visible layers to dirty state </s>