TDAT: public void reset ( ) {  <NL> final reentrant lock lock = this . lock ;  <NL> lock . lock ( ) ;  <NL> try {  <NL>  / *  <NL>  * retract generation number enough to cover threads <NL>  * currently waiting on current and still resuming from <NL>  * previous generation , plus similarly accommodating spans <NL>  * after the reset .  <NL>  * /  <NL> generation - = 4 ;  <NL> broken = false ;  <NL> trip . signal all ( ) ;  <NL>  } finally {  <NL> lock . unlock ( ) ;  <NL>  }  <NL>  }  COM: <s> resets the barrier to its initial state </s>