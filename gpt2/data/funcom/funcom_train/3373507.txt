TDAT: protected void end tag ( boolean omitted ) {  <NL> handle text ( stack . tag ) ;  <NL>  <NL> if ( omitted & & ! stack . elem . omit end ( ) ) {  <NL> error ( " end . missing " , stack . elem . get name ( ) ) ;  <NL>  } else if ( ! stack . terminate ( ) ) {  <NL> error ( " end . unexpected " , stack . elem . get name ( ) ) ;  <NL>  }  <NL>  <NL>  / / handle the tag <NL> handle end tag ( stack . tag ) ;  <NL> stack = stack . next ;  <NL> recent = ( stack ! = null ) ? stack . elem : null ;  <NL>  }  COM: <s> handle an end tag </s>