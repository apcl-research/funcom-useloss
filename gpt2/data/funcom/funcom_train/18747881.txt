TDAT: protected var node edge map compute coanchor map ( ) {  <NL> final var node edge map result = get event ( ) . get coanchor map ( ) . flatten ( ) . clone ( ) ;  <NL>  / / add creator node images <NL> node [ ] coanchor = rule . coanchor ( ) ;  <NL> int coanchor size = coanchor . length ;  <NL> element [ ] coanchor image = get coanchor image ( ) ;  <NL> for ( int i = 0 ; i < coanchor size ; i + + ) {  <NL> assert coanchor image [ i ] instanceof node : string . format ( " coanchor image at % d is % s " ,  <NL> i ,  <NL> coanchor image [ i ] ) ;  <NL> result . put node ( coanchor [ i ] , ( node ) coanchor image [ i ] ) ;  <NL>  }  <NL> return result ;  <NL>  }  COM: <s> constructs a map from all nodes of the rhs that are endpoints of </s>