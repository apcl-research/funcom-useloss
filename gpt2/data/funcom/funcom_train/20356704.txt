TDAT: private string parse pre process ( parser output parser output , string raw , int mode ) throws exception {  <NL> string reader reader = to string reader ( raw ) ;  <NL> jam wiki pre processor lexer = new jam wiki pre processor ( reader ) ;  <NL> int pre mode = ( mode > j flex parser . mode _ preprocess ) ? j flex parser . mode _ preprocess : mode ;  <NL> return this . lex ( lexer , raw , parser output , pre mode ) ;  <NL>  }  COM: <s> first stage of the parser this method parses templates and signatures </s>