TDAT: public int compress eol ( ) {  <NL> for ( int buf index = dest index = 0 ; buf index < buf . length ; buf index + + , dest index + + ) {  <NL>  / / copy each byte <NL> dest buf [ dest index ] = buf [ buf index ] ;  <NL>  <NL>  / / throw away one of the lf <NL> if ( dest index > 0 & & dest buf [ dest index ] = = 0x0a & & dest buf [ dest index - 1 ] = = 0x0a ) {  <NL> dest index - - ;  <NL>  }  <NL>  }  <NL> assign ( dest buf , dest index ) ;  <NL> return dest index ;  <NL>  }  COM: <s> compress eol compresses double lf into single lf </s>