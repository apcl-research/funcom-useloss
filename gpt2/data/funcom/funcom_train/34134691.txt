TDAT: public boolean is choice ( ) {  <NL> object p = parent . get parent ( ) ;  <NL>  <NL> while ( p ! = null ) {  <NL> if ( p instanceof choice model box ) {  <NL> return true ;  <NL>  } else if ( p instanceof model box ) {  <NL> p = ( ( model box ) p ) . get parent ( ) ;  <NL>  } else if ( p instanceof particle list ) {  <NL> p = ( ( particle list ) p ) . get parent ( ) ;  <NL>  } else { / / should not happen <NL> p = null ;  <NL>  }  <NL>  }  <NL>  <NL> return false ;  <NL>  }  COM: <s> checks wether this box has a parent that is a choice model </s>