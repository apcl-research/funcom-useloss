TDAT: protected void optimize internal ( ) {  <NL>  <NL>  / / root proxies should remain detachable <NL> if ( ! is root ( ) ) {  <NL> bg . clear capability ( branch group . allow _ detach ) ;  <NL>  }  <NL>  <NL> bg . clear capability ( group . allow _ children _ write ) ;  <NL> bg . clear capability ( group . allow _ children _ extend ) ;  <NL>  <NL> tg . clear capability ( group . allow _ children _ write ) ;  <NL> tg . clear capability ( group . allow _ children _ extend ) ;  <NL>  <NL> clear capabilities for nodes ( bg ) ;  <NL> clear capabilities for nodes ( tg ) ;  <NL>  <NL> if ( ! bg . get pickable ( )  <NL>  & & ( is root ( ) || ! ( this . get parent ( ) instanceof behavior proxy ) ) ) {  <NL> tg . clear capability ( transform group . allow _ transform _ write ) ;  <NL>  }  <NL>  <NL> if ( ! ( this instanceof branch group proxy ) ) {  <NL> clear capabilities for nodes ( get j3d node ( ) ) ;  <NL>  }  <NL>  }  COM: <s> may be used for optimizing the scenegraph that is to say remove all </s>