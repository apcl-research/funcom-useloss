TDAT: public void recover ( abstract lookup lookup ) {  <NL> if ( jobs = = null ) {  <NL>  / / no recovery plan , throw itself <NL> throw this ;  <NL>  }  <NL>  <NL> for ( job j : jobs ) {  <NL> j . before ( ) ;  <NL>  }  <NL>  <NL> abstract lookup . storage s = lookup . enter storage ( ) ;  <NL>  <NL> try {  <NL> for ( job j : jobs ) {  <NL> j . inside ( ) ;  <NL>  }  <NL>  } finally {  <NL> lookup . exit storage ( ) ;  <NL>  }  <NL>  }  COM: <s> executes the jobs outside and then inside a locked session </s>