TDAT: protected void after session factory creation ( ) throws exception {  <NL> if ( this . schema update ) {  <NL> data source data source = get data source ( ) ;  <NL> if ( data source ! = null ) {  <NL>  / / make given data source available for the schema update ,  <NL>  / / which unfortunately reinstantiates a connection provider .  <NL> config time data source holder . set ( data source ) ;  <NL>  }  <NL> try {  <NL> update database schema ( ) ;  <NL>  }  <NL> finally {  <NL> if ( data source ! = null ) {  <NL>  / / reset data source holder .  <NL> config time data source holder . set ( null ) ;  <NL>  }  <NL>  }  <NL>  }  <NL>  }  COM: <s> executes schema update if requested </s>