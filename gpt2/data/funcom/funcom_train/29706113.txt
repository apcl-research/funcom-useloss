TDAT: private void on popup button ( widget button _ p ) {  <NL>  / / get values <NL> int value = ( ( integer ) button _ p . get data ( value ) ) . int value ( ) ;  <NL> int mode = ( ( integer ) button _ p . get data ( mode ) ) . int value ( ) ;  <NL>  <NL>  / / undo manager <NL> undo manager manager = _ view . get undo manager ( ) ;  <NL>  <NL>  / / according to case <NL>  _ view . set play mode ( mode ) ;  <NL> switch ( mode ) {  <NL> case main view . play :  <NL> manager . play position ( value ) ;  <NL> break ;  <NL>  <NL> case template . strike :  <NL> manager . toggle mark ( value ) ;  <NL> break ;  <NL>  }  <NL>  <NL>  / / hide <NL>  _ shell . set visible ( false ) ;  <NL>  _ composite . set focus ( ) ;  <NL>  }  COM: <s> handles selection events on buttons </s>