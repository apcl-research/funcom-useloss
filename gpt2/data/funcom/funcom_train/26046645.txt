TDAT: public weight weight ( searcher searcher ) throws io exception {  <NL> query query = searcher . rewrite ( this ) ;  <NL> weight weight = query . create weight ( searcher ) ;  <NL> float sum = weight . sum of squared weights ( ) ;  <NL> float norm = get similarity ( searcher ) . query norm ( sum ) ;  <NL> if ( float . is infinite ( norm ) || float . is na n ( norm ) )  <NL> norm = 1 . 0f ;  <NL> weight . normalize ( norm ) ;  <NL> return weight ;  <NL>  }  COM: <s> expert constructs and initializes a weight for a top level query </s>