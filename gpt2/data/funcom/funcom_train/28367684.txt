TDAT: public void save agent memory ( ) {  <NL> final list < basic entity > agents = scheduler . get current agents ( ) ;  <NL> for ( final basic entity se : agents ) {  <NL> if ( se instanceof adaptive agent ) {  <NL> final adaptive agent aa = ( adaptive agent ) se ;  <NL> m agent memory . put ( aa . get name ( ) , new agent memory ( aa ) ) ;  <NL>  }  <NL>  }  <NL>  }  COM: <s> record the priority gain </s>