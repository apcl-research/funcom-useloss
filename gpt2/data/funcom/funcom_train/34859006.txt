TDAT: private void build output ( ) throws atom exception {  <NL> map < string , data type > map = new hash map < string , data type > ( ) ;  <NL> for ( atom input ai : inputs . values ( ) ) {  <NL> data type type = null data element . factory . get type ( ) ;  <NL> if ( ai . get link ( ) ! = null ) {  <NL> type = ai . get link ( ) . get type ( ) ;  <NL>  }  <NL> map . put ( ai . get name ( ) , type ) ;  <NL>  }  <NL> this . type = aggregated data element . factory . get type from sub types ( map ) ;  <NL> update ( false ) ;  <NL>  }  COM: <s> rebuilds the output data type </s>