TDAT: protected string get nested diagnostic context message ( http servlet request request ) {  <NL> http session session = request . get session ( false ) ;  <NL> principal principal = request . get user principal ( ) ;  <NL> if ( principal ! = null ) {  <NL> return principal . get name ( ) ;  <NL>  }  <NL> if ( session ! = null ) {  <NL> return " session : " + session . get id ( ) ;  <NL>  } else {  <NL> return " thread : " + thread . current thread ( ) . get name ( ) ;  <NL>  }  <NL>  }  COM: <s> determine the message to be pushed onto the log4 j nested diagnostic context </s>