TDAT: public map get details map ( date reference ) {  <NL>  / / we need to convert the current set <NL>  / / to a map . this is do <NL> map map = new hash map ( ) ;  <NL>  <NL> for ( iterator iter = details . iterator ( ) ; iter . has next ( ) ; ) {  <NL> person detail element = ( person detail ) iter . next ( ) ;  <NL>  <NL> if ( element . is active ( reference ) ) {  <NL> map . put ( element . get type ( ) , element ) ;  <NL>  }  <NL>  }  <NL>  <NL> return collections . unmodifiable map ( map ) ;  <NL>  }  COM: <s> returns a map with keys of person detail type </s>