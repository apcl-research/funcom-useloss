TDAT: public void set document ( document new doc ) {  <NL> if ( this instanceof document )  <NL> throw new illegal state exception (  <NL>  " attempt to set a document ' s document " ) ;  <NL> doc = new doc ; / / may be null <NL> if ( this instanceof element )  <NL>  ( ( element ) this ) . get attr list ( ) . walk all ( doc setter ) ;  <NL> nodes . walk all ( doc setter ) ; / / set in subtree <NL>  }  COM: <s> set this holders ultimate parent the document it belongs </s>