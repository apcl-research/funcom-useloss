TDAT: public boolean update dir ( )  <NL>  { if ( fd ! = null ) return true ;  <NL> file dir = new file ( dir field . get text ( ) + file . separator char ) ;  <NL> if ( ! dir . is directory ( ) ) return false ;  <NL> try <NL>  { string s = file name . canonical ( dir . get canonical path ( ) ) ;  <NL> add undo ( s ) ;  <NL> dir field . set text ( s ) ;  <NL> chosen . set text (  <NL> file name . chop ( 16 ,  <NL> dir field . get text ( ) + file . separator char +  <NL> pattern field . get text ( ) , 48 ) ) ;  <NL>  }  <NL> catch ( exception e ) { return false ; }  <NL> return true ;  <NL>  }  COM: <s> update the directory list </s>