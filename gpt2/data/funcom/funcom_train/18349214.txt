TDAT: public boolean equals ( object o ) {  <NL> if ( o = = null ) {  <NL> return false ;  <NL>  }  <NL>  <NL> if ( ! cap common ref . class . is assignable from ( o . get class ( ) ) ) {  <NL> return false ;  <NL>  }  <NL>  <NL> common concept key other = ( ( cap common ref ) o ) . get pk ( ) ;  <NL> if ( other = = null ) {  <NL> return false ;  <NL>  }  <NL>  <NL> return my key . equals ( other ) ;  <NL>  }  COM: <s> type equality is tested by key </s>