TDAT: public void prepare ( ) throws transaction exception , io exception {  <NL> if ( rollback only ) {  <NL> database . rollback tx ( this ) ;  <NL> throw new transaction exception ( " transaction was set to rollback only . " , transaction exception . rollback ) ;  <NL>  } else {  <NL>  / / the server can also decide to rollback this transaction <NL> database . prepare tx ( this ) ;  <NL>  }  <NL>  }  COM: <s> prepares this transaction </s>