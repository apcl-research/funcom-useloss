TDAT: private string detect mime type ( xdime context internal context , string path ) {  <NL> int last dot = path . last index of ( ' . ' ) ;  <NL> string result mime type = null ;  <NL>  <NL> if ( last dot ! = - 1 ) {  <NL> mariner page context page context = get page context ( context ) ;  <NL> environment context env context = page context . get environment context ( ) ;  <NL> result mime type = env context . get mime type ( path ) ;  <NL>  }  <NL> return result mime type ;  <NL>  }  COM: <s> return mime type detected from file extension </s>