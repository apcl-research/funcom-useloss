TDAT: public void await ( ) {  <NL> if ( expired ) {  <NL> return ;  <NL>  }  <NL> if ( time to wait = = - 1 ) {  <NL> lock support . park ( ) ;  <NL> expired = true ;  <NL> return ;  <NL>  }  <NL> long now = system . nano time ( ) ;  <NL> long time waited = now - start time ;  <NL> if ( time waited > = time to wait ) {  <NL> expired = true ;  <NL> return ;  <NL>  }  <NL> long time to wait this time = time to wait - time waited ;  <NL> assert time to wait this time > 0 & & time to wait this time < = time to wait ;  <NL> lock support . park nanos ( time to wait this time ) ;  <NL>  }  COM: <s> if is expired wait for time remaining or until the thread is </s>