TDAT: private void before name ( ) throws io exception {  <NL> json scope context = peek ( ) ;  <NL> if ( context = = json scope . nonempty _ object ) { / / first in object <NL> out . write ( ' , ' ) ;  <NL>  } else if ( context ! = json scope . empty _ object ) { / / not in an object !  <NL> throw new illegal state exception ( " nesting problem : " + stack ) ;  <NL>  }  <NL> newline ( ) ;  <NL> replace top ( json scope . dangling _ name ) ;  <NL>  }  COM: <s> inserts any necessary separators and whitespace before a name </s>