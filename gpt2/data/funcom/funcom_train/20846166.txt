TDAT: protected void on shutdown ( ) {  <NL> log . debug ( " local toolkit . on shutdown " ) ;  <NL> if ( core controller . get abstract services ( ) ! = null ) {  <NL> enumeration e = core controller . get abstract services ( ) . elements ( ) ;  <NL> while ( e . has more elements ( ) ) {  <NL> abstract service aservice = ( abstract service ) e . next element ( ) ;  <NL> if ( aservice instanceof i hosting service ) {  <NL> i hosting service device = ( i hosting service ) aservice ;  <NL> if ( aservice . is running ( ) ) {  <NL> device . send bye ( ) ;  <NL>  }  <NL>  }  <NL>  }  <NL>  }  <NL>  }  COM: <s> called if the vm normally shutdowns </s>