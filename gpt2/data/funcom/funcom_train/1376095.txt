TDAT: / * public movement data get velocity ( ) {  <NL>  <NL>  / / shouldn ' t be needed , we always need to update <NL>  / / if no new motor command was issued <NL>  <NL>  / / if ( ! added movement since last push )  <NL> add movement since last push ( ) ;  <NL>  <NL> int current time = clock . timestamp ( ) ;  <NL> double dt = ( current time - last time ) * 1000 ; / / elapsed time in seconds <NL> double vx = dx / dt ;  <NL> double vy = dy / dt ;  <NL>  <NL> last time = current time ;  <NL> dx = 0 ;  <NL> dy = 0 ;  <NL> added movement since last push = false ;  <NL>  <NL> return new movement data ( current time , vx , vy ) ;  <NL>  } * /  COM: <s> returns the velocity since the last call to the ukf positioning filter </s>