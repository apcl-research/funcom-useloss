TDAT: public void end phase1begin phase2 ( ) {  <NL> if ( processing phase ! = processing phase . phase1 ) {  <NL> throw new illegal state exception ( " expected to be in " +  <NL> processing phase . phase1 + " but was in " + processing phase ) ;  <NL>  }  <NL>  <NL> if ( logger . is debug enabled ( ) ) {  <NL> logger . debug ( " moving from " + processing phase . phase1 + " to " +  <NL> processing phase . phase2 ) ;  <NL>  }  <NL>  <NL> processing phase = processing phase . phase2 ;  <NL>  }  COM: <s> called after processing all the markup but before rendering the layout </s>