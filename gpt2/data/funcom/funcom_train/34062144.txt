TDAT: protected session get session ( ) throws hibernate exception {  <NL> session bean session bean = ( session bean ) session . get ( ) ;  <NL>  / / open a new session , if this thread has none <NL> if ( session bean = = null ) {  <NL> session = new thread local < session bean > ( ) ;  <NL> session bean = new session bean ( ) ;  <NL> session bean . set session ( session factory . open session ( ) ) ;  <NL>  / / store it in the thread local variable <NL> session . set ( session bean ) ;  <NL> system . out . println ( session ) ;  <NL>  }  <NL> return session bean . get session ( ) ;  <NL>  }  COM: <s> pobiera sesje hibernateowa </s>