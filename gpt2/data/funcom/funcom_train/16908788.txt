TDAT: public void fill ( image processor ip ) {  <NL> ip . set color ( toolbar . get foreground color ( ) ) ;  <NL> if ( is line selection ( ) ) {  <NL> if ( is straight line ( ) & & roi . get stroke width ( ) > 1 & & ! ( roi instanceof arrow ) )  <NL> ip . fill polygon ( roi . get polygon ( ) ) ;  <NL> else <NL> roi . draw pixels ( ip ) ;  <NL>  } else <NL> ip . fill ( ) ; / / fill with foreground color <NL>  }  COM: <s> obsolete replaced by image processor </s>