TDAT: public int get level ( int offset ) {  <NL> check layout ( ) ;  <NL>  / *  <NL> compute runs ( null ) ;  <NL> int length = text . length ( ) ;  <NL> if ( ! ( 0 < = offset & & offset < = length ) ) swt . error ( swt . error _ invalid _ range ) ;  <NL> offset = translate offset ( offset ) ;  <NL> for ( int i = 1 ; i < all runs . length ; i + + ) {  <NL> if ( all runs [ i ] . start > offset ) {  <NL> return all runs [ i - 1 ] . analysis . s . u bidi level ;  <NL>  }  <NL>  }  <NL>  * /  <NL> return ( orientation & swt . right _ to _ left ) ! = 0 ? 1 : 0 ;  <NL>  }  COM: <s> returns the embedding level for the specified character offset </s>