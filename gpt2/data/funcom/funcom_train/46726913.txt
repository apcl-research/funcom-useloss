TDAT: private void save ( ) throws exception {  <NL> validate controls ( ) ;  <NL> if ( get controller patient ( ) . has visit ( ) & & get controller patient ( ) . is not new ( ) ) {  <NL> get charge model ( ) . set visit id ( get controller patient ( ) . get visit ( ) . get id ( ) ) ;  <NL> billing service . store ( get charge model ( ) ) ;  <NL> original . copy all from ( get charge model ( ) ) ;  <NL> ok close form ( ) ;  <NL> global refresh table ( context reference . patientchargeschargemodellisttable ) ;  <NL>  } else {  <NL> throw new exception ( " no patient or visit found " ) ;  <NL>  }  <NL>  }  COM: <s> save the charge model variable </s>