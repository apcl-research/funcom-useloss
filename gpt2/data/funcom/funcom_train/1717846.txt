TDAT: private void run ( ) {  <NL>  <NL> while ( ! game status . is finished ( ) ) {  <NL> timer . tick ( ) ;  <NL> if ( grp engine . loop before handler ( ) ) {  <NL>  <NL>  }  <NL>  <NL>  / / the window is in the foreground , so we should play the game <NL> else if ( grp engine . is active ( ) ) {  <NL> logic engine . logic ( ) ;  <NL> grp engine . render ( ) ;  <NL> grp engine . sync ( config . get fps ( ) ) ;  <NL>  <NL>  }  <NL>  <NL>  / / the window is not in the foreground , so we can allow other stuff <NL>  / / to run and <NL>  / / infrequently update <NL> else {  <NL> try {  <NL> thread . sleep ( 10 ) ;  <NL>  } catch ( interrupted exception e ) {  <NL>  }  <NL> logic engine . logic ( ) ;  <NL>  <NL> grp engine . loop after handler ( ) ;  <NL>  <NL>  }  <NL>  }  <NL>  }  COM: <s> runs the game the main loop </s>