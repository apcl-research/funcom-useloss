TDAT: protected void update ( t domain object ) {  <NL> boolean merge = false ;  <NL> if ( update mode = = update mode . merge ) {  <NL> merge = true ;  <NL>  } else if ( update mode = = update mode . conditionally _ merge ) {  <NL> t persisten object = get hibernate template ( ) . get ( type ,  <NL> get primary key ( domain object ) ) ;  <NL> if ( persisten object ! = domain object ) {  <NL> merge = true ;  <NL>  }  <NL>  }  <NL> if ( merge ) {  <NL> get hibernate template ( ) . merge ( domain object ) ;  <NL>  } else {  <NL> get hibernate template ( ) . update ( domain object ) ;  <NL>  }  <NL>  }  COM: <s> update a persisted domain object </s>