TDAT: public void set value ( final long new value , final int time since last read ) {  <NL> long average = 0 ;  <NL> if ( ( new value - get value ( ) ) > 0 ) {  <NL> if ( time since last read > 1 ) {  <NL> average = math . round ( ( new value - get value ( ) ) * 1000f / time since last read ) ;  <NL>  }  <NL>  }  <NL> value holder . set value ( new value ) ;  <NL> average holder . set value ( average ) ;  <NL>  }  COM: <s> set a new value and calculate the average change in value </s>