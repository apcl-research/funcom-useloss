TDAT: private locale get locale ( i preference store preferences ) {  <NL> locale default locale = spell check engine . get default locale ( ) ;  <NL> string locale = preferences . get string ( i spell check preference keys . spelling _ locale ) ;  <NL> if ( locale . equals ( default locale . to string ( ) ) )  <NL> return default locale ;  <NL>  <NL> if ( locale . length ( ) > = 5 )  <NL> return new locale ( locale . substring ( 0 , 2 ) , locale . substring ( 3 , 5 ) ) ;  <NL>  <NL> return default locale ;  <NL>  }  COM: <s> returns the current locale of the spelling preferences </s>