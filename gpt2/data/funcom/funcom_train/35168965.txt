TDAT: private void write to client ( sample result res , output stream out , boolean forced http ) throws io exception {  <NL> try {  <NL> string response headers = massage response headers ( res , forced http ) ;  <NL> out . write ( response headers . get bytes ( ) ) ;  <NL> out . write ( crlf _ bytes ) ;  <NL> out . write ( res . get response data ( ) ) ;  <NL> out . flush ( ) ;  <NL> log . debug ( " done writing to client " ) ;  <NL>  } catch ( io exception e ) {  <NL> log . error ( " " , e ) ;  <NL> throw e ;  <NL>  } finally {  <NL> try {  <NL> out . close ( ) ;  <NL>  } catch ( exception ex ) {  <NL> log . warn ( " error while closing socket " , ex ) ;  <NL>  }  <NL>  }  <NL>  }  COM: <s> write output to the output stream then flush and close the stream </s>