TDAT: private int read packet ( byte [ ] packet , int offset , int psize ) throws io exception {  <NL> int length = 0 ;  <NL> try {  <NL> while ( length < psize ) {  <NL> int len = stream . read ( packet , offset + length , psize - length ) ;  <NL> if ( len = = - 1 ) {  <NL> return length ;  <NL>  }  <NL> length + = len ;  <NL>  }  <NL> return length ;  <NL>  } catch ( exception e ) {  <NL> e . print stack trace ( ) ;  <NL>  }  <NL> return length ;  <NL>  }  COM: <s> reads packet from currently opened stream </s>