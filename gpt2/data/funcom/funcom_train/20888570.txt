TDAT: private joule get power required from energy reservoir suppliers ( ) {  <NL> watt supplied ps = new watt ( ) ;  <NL> for ( power scavenging supplier ps supplier : supplier ps ) {  <NL> supplied ps . add watt ( ps supplier . current output ( ) ) ;  <NL>  }  <NL>  <NL> watt rest req = new watt ( ) ;  <NL> rest req . add watt ( get average power consumption ( ) ) ;  <NL> rest req . add watt ( get active one time consumption ( ) ) ;  <NL> rest req . substract watt ( supplied ps ) ;  <NL>  <NL> if ( rest req . get value ( ) < 0 ) {  <NL> rest req = new watt ( ) ;  <NL>  }  <NL>  <NL> return rest req . get joule ( 1 . 0 ) ;  <NL>  }  COM: <s> determines the amount of energy which is required </s>