TDAT: public text data buffer append ( text data element ) {  <NL> assert element ! = null ;  <NL>  <NL> final int line buffer size = this . line buffer . size ( ) ;  <NL>  <NL> if ( line buffer size > 0 ) {  <NL> final text data last = this . line buffer . get last ( ) ;  <NL>  <NL> if ( last . type ( ) . equals ( element . type ( ) ) ) {  <NL> this . line buffer . set ( line buffer size - 1 , new text data ( last . text ( ) + element . text ( ) , last . type ( ) ) ) ;  <NL>  } else {  <NL> this . line buffer . add ( element ) ;  <NL>  }  <NL>  } else {  <NL> this . line buffer . add ( element ) ;  <NL>  }  <NL> return this ;  <NL>  }  COM: <s> append a code text data code element </s>