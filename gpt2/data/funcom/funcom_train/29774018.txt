TDAT: private void create vim ( composite parent ) {  <NL> boolean embd = vim plugin . get default ( ) . get preference store ( ) . get boolean (  <NL> preference constants . p _ embd ) ;  <NL> if ( embd ) {  <NL> try {  <NL> create embedded vim ( parent ) ;  <NL>  } catch ( exception e ) {  <NL> message ( " could not create embedded widget . falling back to external vim . " , e ) ;  <NL> create external vim ( parent ) ;  <NL>  }  <NL>  } else {  <NL> create external vim ( parent ) ;  <NL>  }  <NL> vim plugin . get default ( ) . get vimserver ( server id ) . get editors ( ) . add ( this ) ;  <NL>  }  COM: <s> create a vim instance figuring out if it should be external or embedded </s>