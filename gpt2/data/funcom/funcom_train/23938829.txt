TDAT: protected message handler create handler ( class < ? > payload type , string topic , message channel output channel ) {  <NL> payload type router router = new payload type router ( ) ;  <NL> map < class < ? > , message channel > payload map = new hash map < class < ? > , message channel > ( ) ;  <NL> payload map . put ( payload type , output channel ) ;  <NL> router . set payload type channel map ( payload map ) ;  <NL> return router ;  <NL>  }  COM: <s> create a handler that either filters or routes the messages to the output </s>