TDAT: public double color difference ( vector < point > boundary , buffered image gradient ) {  <NL> double k = 0 ;  <NL> for ( int i = 0 ; i < boundary . size ( ) ; i + + ) {  <NL> point p = boundary . get ( i ) ;  <NL> if ( p . x > = 0 & & p . x < gradient . get width ( ) & & p . y > = 0 & & p . y < gradient . get height ( ) )  <NL> k + = color to gray ( gradient . get rgb ( p . x , p . y ) ) ;  <NL>  }  <NL> k / = ( double ) boundary . size ( ) ;  <NL>  <NL> return k ;  <NL>  }  COM: <s> given the gradient of the image difference between source and target compute </s>