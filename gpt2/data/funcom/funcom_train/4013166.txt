TDAT: private void transit to ( string state ) {  <NL> log . i ( tag , " state transition from " + m current state + " to " + state ) ;  <NL>  <NL> m current state = state ;  <NL>  <NL> for ( state s : raphaello . m states . values ( ) ) {  <NL> if ( s . get id ( ) . equals ( state ) ) {  <NL> for ( primitive p : s . get children ( ) ) {  <NL> job j = ( job ) p ;  <NL> j . work ( ) ;  <NL>  }  <NL>  }  <NL>  }  <NL>  <NL>  / * flip the screen when the target state is * . painting * /  <NL> if ( m current state . ends with ( " . painting " ) ) {  <NL> flip ( ) ;  <NL>  }  <NL>  }  COM: <s> state transition function </s>