TDAT: protected string get login page url with redirect ( http request request ) {  <NL> string uri = request . get request line ( ) . get uri ( ) ; / / request utils . get request path ( request ) ;  <NL> if ( ! uri . ends with ( logout action url ) & & ! uri . ends with ( login action url ) ) {  <NL> try {  <NL> return login page url + " ? "  <NL>  + redirect key + " = " + url encoder . encode ( uri , charset ) ;  <NL>  } catch ( unsupported encoding exception e ) {  <NL>  }  <NL>  }  <NL> return login page url ;  <NL>  }  COM: <s> after log in is attested url redirected to requested url is acquired </s>