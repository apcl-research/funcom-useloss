TDAT: protected void flush deletions ( ) throws io exception {  <NL> final index transaction object ito = get index transaction object ( ) ;  <NL> if ( ito = = null ) {  <NL> return ;  <NL>  }  <NL> log . debug ( " flushing " + ito . deletions . size ( ) + " deletions for " + this ) ;  <NL> with reader ( new reader callback ( ) {  <NL>  <NL> public object with reader ( index reader reader ) throws exception {  <NL> for ( iterator iter = ito . deletions . iterator ( ) ; iter . has next ( ) ; ) {  <NL> term term = ( term ) iter . next ( ) ;  <NL> reader . delete ( term ) ;  <NL> iter . remove ( ) ;  <NL>  }  <NL>  <NL> return null ;  <NL>  }  <NL>  <NL>  } ) ;  <NL>  }  COM: <s> get a reader do the flush and </s>