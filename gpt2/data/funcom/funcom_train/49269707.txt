TDAT: public response to response ( ecm exception e ) {  <NL> string writer strw = new string writer ( ) ;  <NL>  <NL>  / / todo fault barrier <NL> if ( e instanceof fedora connection exception ) {  <NL> log . warn ( " caught exception : " , e ) ;  <NL>  } else {  <NL> log . debug ( " caught exception " , e ) ;  <NL>  }  <NL>  <NL>  <NL> jaxb . marshal ( new cleaned ( e ) , strw ) ;  <NL> return response . server error ( ) . entity (  <NL> strw . to string ( ) ) . build ( ) ;  <NL>  }  COM: <s> maps a ecm exception to a responce </s>