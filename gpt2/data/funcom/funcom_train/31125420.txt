TDAT: protected string fetch string ( byte reg , int len ) {  <NL> byte [ ] buf = new byte [ len ] ;  <NL> int ret = get data ( reg , buf , 0 , len ) ;  <NL> if ( ret ! = 0 )  <NL> return " " ;  <NL>  <NL> int i ;  <NL> char [ ] char buff = new char [ len ] ;  <NL> for ( i = 0 ; i < len & & buf [ i ] ! = 0 ; i + + )  <NL> char buff [ i ] = ( char ) ( buf [ i ] & 0x ff ) ;  <NL>  <NL> return new string ( char buff , 0 , i ) ;  <NL>  }  COM: <s> read a string from the device </s>