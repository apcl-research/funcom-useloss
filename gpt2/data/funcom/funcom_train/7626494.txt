TDAT: public void on item click ( adapter view parent , view view , int position , long id ) {  <NL> int sel end = selection . get selection end ( m text ) ;  <NL> string result = string . value of ( m options . char at ( position ) ) ;  <NL>  <NL> if ( m insert || sel end = = 0 ) {  <NL> m text . insert ( sel end , result ) ;  <NL>  } else {  <NL> m text . replace ( sel end - 1 , sel end , result ) ;  <NL>  }  <NL>  <NL> dismiss ( ) ;  <NL>  }  COM: <s> handles clicks on the character buttons </s>