TDAT: public cached resource get resource ( reference ref , boolean update ) {  <NL> check persistence ( ) ;  <NL>  <NL> cached resource cr = ( cached resource ) resources . get ( ref . get url ( ) ) ;  <NL>  <NL> if ( cr ! = null & & update ) {  <NL> notify observers ( cr ) ;  <NL>  <NL>  / / if resource is updated , write out persistent info <NL> if ( cr . update ( ) ) {  <NL> write persistence ( ) ;  <NL>  }  <NL>  }  <NL>  <NL> return cr ;  <NL>  }  COM: <s> get the cached resource from this cache entry updating if desired and necessary </s>