TDAT: public void write ( ) throws io exception {  <NL> if ( current = = - 1 ) {  <NL> throw new io exception ( " current fid index is null , next must be called before remove " ) ;  <NL>  }  <NL>  <NL> if ( write buffer = = null ) {  <NL> allocate buffers ( ) ;  <NL>  }  <NL>  <NL> if ( write buffer . remaining ( ) < record _ size ) {  <NL> drain ( ) ;  <NL>  }  <NL>  <NL> write buffer . put long ( current ) ;  <NL> write buffer . put int ( record index ) ;  <NL>  <NL> record index + + ;  <NL> current = - 1 ;  <NL>  }  COM: <s> writes the current fid index </s>