TDAT: private user match with waiting user ( user this user , string selected partner ) {  <NL> boolean done = false ;  <NL> while ( ! done ) {  <NL> synchronized ( users ) {  <NL> for ( user user : users ) {  <NL> synchronized ( user ) {  <NL> if ( user . get game mode ( ) = = game mode . new _ game <NL>  & & user . get partner ( ) = = null <NL>  & & user . get username ( ) . equals ( selected partner ) ) {  <NL> user . set partner ( this user ) ;  <NL> this user . set partner ( user ) ;  <NL> done = true ;  <NL> break ;  <NL>  }  <NL>  }  <NL>  }  <NL> safe sleep ( sleep _ timeout ) ;  <NL>  }  <NL>  }  <NL> return this user . get partner ( ) ;  <NL>  }  COM: <s> gets the name of the partner selected and starts sets them together </s>