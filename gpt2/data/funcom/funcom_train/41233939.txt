TDAT: private void do recover ( ) {  <NL> collection < integer > committed txs = new array list < integer > ( ) ;  <NL> iterator < log record > iter = new log record iterator ( log mgr . database name ( ) ) ;  <NL> while ( iter . has next ( ) ) {  <NL> log record rec = iter . next ( ) ;  <NL> if ( rec . op ( ) = = checkpoint )  <NL> return ;  <NL> if ( rec . op ( ) = = commit||rec . op ( ) = = rollback )  <NL> committed txs . add ( rec . tx number ( ) ) ;  <NL> else if ( ! committed txs . contains ( rec . tx number ( ) ) )  <NL> rec . undo ( txnum ) ;  <NL>  }  <NL>  }  COM: <s> does a complete database recovery </s>