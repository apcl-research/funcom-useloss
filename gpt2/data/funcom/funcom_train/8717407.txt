TDAT: public state cluster build _ semantic predicate ( grammar ast pred ) {  <NL>  / / don ' t count syn preds <NL> if ( ! pred . get text ( ) . to upper case ( )  <NL>  . starts with ( grammar . synpred _ rule _ prefix . to upper case ( ) ) )  <NL>  {  <NL> nfa . grammar . number of semantic predicates + + ;  <NL>  }  <NL> nfa state left = new state ( ) ;  <NL> nfa state right = new state ( ) ;  <NL> transition e = new transition ( new predicate label ( pred ) , right ) ;  <NL> left . add transition ( e ) ;  <NL> state cluster g = new state cluster ( left , right ) ;  <NL> return g ;  <NL>  }  COM: <s> build what amounts to an epsilon transition with a semantic </s>