TDAT: private int to line start ( i document document , int offset , boolean test last line ) throws bad location exception {  <NL> if ( document = = null )  <NL> return offset ;  <NL>  <NL> if ( test last line & & offset > = document . get line information of offset ( document . get length ( ) - 1 ) . get offset ( ) )  <NL> return offset ;  <NL>  <NL> return document . get line information of offset ( offset ) . get offset ( ) ;  <NL>  }  COM: <s> returns the first line offset lt code offset code </s>