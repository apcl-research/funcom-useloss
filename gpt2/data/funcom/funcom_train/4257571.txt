TDAT: public protocol get protocol ( ) {  <NL> protocol result = ( get resource ref ( ) . get base ref ( ) ! = null ) ? get resource ref ( )  <NL>  . get base ref ( ) . get scheme protocol ( )  <NL>  : null ;  <NL>  <NL> if ( result = = null ) {  <NL>  / / attempt to guess the protocol to use <NL>  / / from the target reference scheme <NL> result = ( get resource ref ( ) ! = null ) ? get resource ref ( )  <NL>  . get scheme protocol ( ) : null ;  <NL>  }  <NL>  <NL> return result ;  <NL>  }  COM: <s> returns the protocol by first returning the base ref </s>