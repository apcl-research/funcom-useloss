TDAT: public long encode ( long val ) {  <NL>  / / xxx : could verify to make sure the high bits that will <NL>  / / hold the check bits is empty ( all zeros ) . add an assert .  <NL> long hashval =  <NL> byte array . byte array to long ( mac . do final ( byte array . long to byte array ( val ) ) ) ;  <NL>  <NL> hashval > > > = ( 64 - bits ) ;  <NL> return ( val < < bits ) | hashval ;  <NL>  }  COM: <s> adds or embeds into a long value check bits </s>