TDAT: static public void to json ( object src , appendable out , http servlet request request ) throws io exception {  <NL> string callback = null ;  <NL>  <NL> if ( request ! = null ) {  <NL> callback = request . get parameter ( " callback " ) ;  <NL> if ( callback ! = null & & ! callback . is empty ( ) ) {  <NL> out . append ( callback ) . append ( " ( " ) ;  <NL>  }  <NL>  }  <NL>  <NL> new gson ( ) . to json ( src , out ) ;  <NL>  <NL> if ( callback ! = null & & ! callback . is empty ( ) ) {  <NL> out . append ( " ) " ) ;  <NL>  }  <NL>  }  COM: <s> return a json output or jsonp function if the parameter </s>