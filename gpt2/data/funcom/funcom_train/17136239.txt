TDAT: public big integer distance ( node id other id ) {  <NL> big integer smaller , bigger ;  <NL> if ( big integer id . compare to ( other id . big integer id ) > 0 ) {  <NL> smaller = other id . big integer id ;  <NL> bigger = big integer id ;  <NL>  } else {  <NL> smaller = big integer id ;  <NL> bigger = other id . big integer id ;  <NL>  }  <NL>  <NL> big integer d1 = ( smaller . add ( max id . subtract ( bigger ) ) ) . add ( new big integer ( " 1 " ) ) ;  <NL>  <NL> big integer d2 = bigger . subtract ( smaller ) ;  <NL> return ( d1 . compare to ( d2 ) < 0 ) ? d1 : d2 ;  <NL>  }  COM: <s> calculate distance on circular field from 0 to 2 128 1 </s>