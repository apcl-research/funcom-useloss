TDAT: public void lock output stream ( ) throws io exception {  <NL> if ( output locked ) {  <NL> return ;  <NL>  }  <NL> current stream . flush ( ) ;  <NL> output locked = true ;  <NL> if ( null ! = callbacks ) {  <NL> for ( cached output stream callback cb : callbacks ) {  <NL> cb . on close ( this ) ;  <NL>  }  <NL>  }  <NL> do close ( ) ;  <NL> stream list . remove ( current stream ) ;  <NL>  }  COM: <s> locks the output stream to prevent additional writes but maintains </s>