TDAT: public int get max string length ( font metrics fm ) {  <NL> for ( int i = 0 ; i < get text ( ) . length ( ) ; i + + )  <NL> if ( ( fm . string width ( get text ( ) . substring ( 0 , i ) ) > ( ( this . get size ( ) ) . width - fm . string width ( " " ) * 3 ) ) )  <NL> return i ; / / 3 character safeguard <NL> return get text ( ) . length ( ) ;  <NL>  }  COM: <s> method to get the maximum characters allowed from the canvas width </s>