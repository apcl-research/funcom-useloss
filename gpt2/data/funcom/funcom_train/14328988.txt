TDAT: private virtual socket lookup ( int stream id ) {  <NL> if ( stream id < 0 || stream id > socket table . size ( ) ) {  <NL> throw new illegal argument exception ( " invalid parameter stream id "  <NL>  + stream id ) ;  <NL>  }  <NL>  <NL> virtual socket vsock = ( virtual socket ) socket table . get ( stream id ) ;  <NL>  <NL> if ( vsock . owner ! = stream id ) {  <NL> throw new illegal state exception ( " internal error : bad stream id "  <NL>  + stream id ) ;  <NL>  }  <NL>  <NL> return vsock ;  <NL>  }  COM: <s> retrieves the virtual socket with the given id </s>