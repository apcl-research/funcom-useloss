TDAT: public void encode ( image img , output stream out ) throws io exception {  <NL> int iw = img . get width ( this ) ;  <NL> int ih = img . get height ( this ) ;  <NL> buffered image bi = new buffered image ( iw , ih , buffered image . type _ int _ rgb ) ;  <NL> graphics2d big = bi . create graphics ( ) ;  <NL> big . draw image ( img , 0 , 0 , iw , ih , this ) ;  <NL>  <NL> jpeg image encoder encoder = jpeg codec . create jpeg encoder ( out ) ;  <NL> jpeg encode param param = encoder . get default jpeg encode param ( bi ) ;  <NL> param . set quality ( 1 . 0f , false ) ;  <NL> encoder . set jpeg encode param ( param ) ;  <NL> encoder . encode ( bi ) ;  <NL>  }  COM: <s> encode a image to the output stream using jpeg </s>