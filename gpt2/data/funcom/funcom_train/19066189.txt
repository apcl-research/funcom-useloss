TDAT: public void open port ( ) throws io exception , imap exception {  <NL> socket = new socket ( host , port ) ;  <NL> socket . set so timeout ( ristretto config . get instance ( ) . get timeout ( ) ) ;  <NL>  <NL> create streams ( ) ;  <NL>  <NL> imap response response ;  <NL> try {  <NL> response = in . read response ( ) ;  <NL>  } catch ( io exception e ) {  <NL> state = not _ connected ;  <NL> throw e ;  <NL>  }  <NL>  / / answer can be ok , pre - auth or bye <NL>  <NL> if ( response . is bye ( ) )  <NL> throw new imap exception ( response ) ;  <NL>  <NL> if ( response . is ok ( ) )  <NL> state = non _ authenticated ;  <NL> else <NL>  / / must be a pre - auth response - > we are already authenticated <NL> state = authenticated ;  <NL>  }  COM: <s> opens a socket to the imap server </s>