TDAT: private void purge db ( local date currentdate ) {  <NL>  <NL> local date old = currentdate . minus days ( duration . get value ( ) ) ;  <NL>  <NL> enumeration < vector < record > > e = recorddatabase . elements ( ) ;  <NL> while ( e . has more elements ( ) ) {  <NL> vector < record > records = e . next element ( ) ;  <NL> int size = records . size ( ) ;  <NL> int i = 0 ;  <NL> while ( i < size & & records . get ( i ) . date . is before ( old ) ) {  <NL> i + + ;  <NL>  }  <NL> for ( int j = 0 ; j < i ; j + + ) {  <NL> records . remove ( 0 ) ;  <NL> dbsize - - ;  <NL>  }  <NL>  }  <NL>  }  COM: <s> delete all records that are older than maximum duration </s>