TDAT: protected int find insertion position ( attribute node node , tree path parent path ) {  <NL> filtering node parent = ( filtering node ) parent path <NL>  . get last path component ( ) ;  <NL> if ( get sorting ( ) = = sort _ manual ) {  <NL> return parent . get children ( ) . size ( ) ;  <NL>  } else {  <NL> int index = collections . binary search ( parent . get children ( ) , node ,  <NL> create node comparator ( parent ) ) ;  <NL> assert ( index < 0 ) : " found at " + index + " in parent " + parent ;  <NL> return ( - index - 1 ) ;  <NL>  }  <NL>  }  COM: <s> find insertion position </s>