TDAT: protected int count by criteria ( map < string , string > aliases , criterion . . . criteria ) {  <NL> log . debug ( " counting " + clazz . get name ( ) + " by criteria " ) ;  <NL> detached criteria detached criteria = get criteria ( aliases , criteria , null ) ;  <NL>  <NL>  / / set count projection <NL> detached criteria . set projection ( projections . row count ( ) ) ;  <NL>  <NL> return data access utils . int result ( get hibernate template ( ) . find by criteria ( detached criteria ) ) ;  <NL>  }  COM: <s> counts the entities matching the specified criteria </s>