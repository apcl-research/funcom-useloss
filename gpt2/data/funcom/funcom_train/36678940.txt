TDAT: public void attack ( defender defender , fight fight ) {  <NL> defender . defend ( this , fight ) ;  <NL> try to fire weapon ( fight ) ;  <NL>  <NL> if ( defender . is destroyed ( ) ) {  <NL> if ( app . get boolean ( " plugin . unit _ can _ gain _ experience " ) ) {  <NL> set experience ( experience + 1 ) ;  <NL>  }  <NL>  }  <NL>  <NL> owner . get co ( ) . unit attacked hook ( this , defender ) ;  <NL>  }  COM: <s> this unit is the attacker </s>