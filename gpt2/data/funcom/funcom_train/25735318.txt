TDAT: private peak list process transformation ( peak list spectrum ) {  <NL> double [ ] new intensities = null ;  <NL>  <NL> new intensities = transformation . transform ( spectrum ) ;  <NL>  <NL> if ( scale ! = 1 ) {  <NL> for ( int i = 0 ; i < new intensities . length ; i + + ) {  <NL> new intensities [ i ] * = scale ;  <NL>  }  <NL>  }  <NL>  <NL> if ( new intensities ! = null ) {  <NL> try {  <NL> return make edited spectrum ( spectrum , new intensities ) ;  <NL>  } catch ( invalid peak exception e ) {  <NL> system . err . println ( e . get message ( )  <NL>  + " : cannot edit the spectrum " + spectrum ) ;  <NL>  }  <NL>  }  <NL> return null ;  <NL>  }  COM: <s> transforms all peak intensities according to the selected method </s>