TDAT: public void flush base64 ( ) throws java . io . io exception {  <NL> if ( this . position > 0 ) {  <NL> if ( this . encode ) {  <NL> this . out . write ( base64 . encode3to4 ( this . b4 , this . buffer ,  <NL> this . position , this . options ) ) ;  <NL> this . position = 0 ;  <NL>  } / / end if : encoding <NL> else {  <NL> throw new java . io . io exception (  <NL>  " base64 input not properly padded . " ) ;  <NL>  } / / end else : decoding <NL>  } / / end if : buffer partially full <NL>  <NL>  } / / end flush  COM: <s> method added by phil </s>