TDAT: public char read char ( ) {  <NL> check state ( ) ;  <NL> if ( my next char = = - 1 )  <NL> throw new runtime exception ( " attempt to read past end of file " ) ;  <NL> else {  <NL> char result = ( char ) my next char ;  <NL> if ( my next char = = ' \n ' ) / / lazy input , don ' t read yet <NL> my undefined state = true ;  <NL> else {  <NL> my next char = read ( ) ;  <NL> if ( my next char = = - 1 ) / / unexpected end - of - file <NL> my next char = ' \n ' ; / / insert virtual \n <NL>  }  <NL> return result ;  <NL>  }  <NL>  }  COM: <s> read a single character including whitespace </s>