TDAT: public boolean is user in role ( string role name ) {  <NL> portlet entity entity = portlet window . get portlet entity ( ) ;  <NL> portlet definition def = entity . get portlet definition ( ) ;  <NL> security role ref set set = def . get init security role ref set ( ) ;  <NL> security role ref ref = set . get ( role name ) ;  <NL>  <NL> string link = null ;  <NL> if ( ref ! = null & & ref . get role link ( ) ! = null ) {  <NL> link = ref . get role link ( ) ;  <NL>  } else {  <NL> link = role name ;  <NL>  }  <NL>  <NL> return this . _ get http servlet request ( ) . is user in role ( link ) ;  <NL>  }  COM: <s> determines whether a user is mapped to the specified role </s>