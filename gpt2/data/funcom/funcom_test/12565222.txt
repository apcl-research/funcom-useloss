TDAT: protected int calculate break position ( int p0 , int p1 ) {  <NL> int p ;  <NL> segment segment = new segment ( ) ; / / segment cache . get shared segment ( ) ;  <NL> load text ( segment , p0 , p1 ) ;  <NL> int current width = get width ( ) ;  <NL> if ( word wrap ) {  <NL> p = p0 <NL>  + utilities . get break location ( segment , metrics , tab base ,  <NL> tab base + current width , this , p0 ) ;  <NL>  } else {  <NL> p = p0 <NL>  + utilities . get tabbed text offset ( segment , metrics , tab base ,  <NL> tab base + current width , this , p0 , false ) ;  <NL>  }  <NL>  <NL> return p ;  <NL>  }  COM: <s> this is called by the nested wrapped line views to determine the break </s>