TDAT: public void unregister player ( player p ) {  <NL> p . set logged in ( false ) ;  <NL> p . reset all ( ) ;  <NL> p . save ( ) ;  <NL> mob opponent = p . get opponent ( ) ;  <NL> if ( opponent ! = null ) {  <NL> p . reset combat ( combat state . error ) ;  <NL> opponent . reset combat ( combat state . error ) ;  <NL>  }  <NL> server . get login connector ( ) . get action sender ( ) . player logout ( p . get username hash ( ) ) ;  <NL> delayed event handler . remove players events ( p ) ;  <NL> players . remove ( p ) ;  <NL> set location ( p , p . get location ( ) , null ) ;  <NL>  }  COM: <s> removes a player from the server and saves their account </s>