TDAT: public void complete ( ) {  <NL> try {  <NL> lock . lock ( ) ;  <NL>  <NL> final int i = thread map . get ( thread . current thread ( ) ) ;  <NL> assert state of [ i ] = = working ;  <NL> state of [ i ] = complete ;  <NL> in state [ complete ] + + ;  <NL> in state [ working ] - - ;  <NL>  <NL>  / / signal master if waiting and this is the last worker to <NL>  / / complete <NL> if ( in state [ complete ] = = nworkers )  <NL> completion . signal ( ) ;  <NL>  } finally {  <NL> lock . unlock ( ) ;  <NL>  }  <NL>  }  COM: <s> move a worker to the complete state </s>