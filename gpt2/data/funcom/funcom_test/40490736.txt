TDAT: public double get angle ( ) {  <NL> double prev v = velocity ;  <NL> double prev time = time ;  <NL> velocity = get velocity ( ) ;  <NL> time = system . current time millis ( ) ;  <NL>  / / trapazoid rule : multiply difference in time to the average of current and past reading .  <NL> return angle + = . 5 * ( ( time - prev time ) * s _ per _ ms ) * ( prev v + velocity ) ;  <NL>  }  COM: <s> reads velocity and integrates it with accumulated angle </s>