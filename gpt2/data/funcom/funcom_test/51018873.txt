TDAT: public void close index ( ) {  <NL> try {  <NL>  / / check if index open for writing <NL> if ( ! index writer is open )  <NL> return ;  <NL>  <NL>  / / add last document to index <NL> add metadata to index ( ) ;  <NL>  <NL> im . optimize ( ) ;  <NL> im . prepare commit ( ) ;  <NL> im . commit ( ) ;  <NL> im . close ( ) ;  <NL> index writer is open = false ;  <NL>  } catch ( corrupt index exception cie ) {  <NL> fire event occurred ( new data file error event ( cie . get message ( ) ,  <NL>  " [ lucence env - close index ] " ) ) ;  <NL>  } catch ( io exception ioe ) {  <NL> fire event occurred ( new data file error event ( ioe . get message ( ) ,  <NL>  " [ lucence env - close index ] " ) ) ;  <NL>  }  <NL>  <NL>  }  COM: <s> close a potentially open index </s>