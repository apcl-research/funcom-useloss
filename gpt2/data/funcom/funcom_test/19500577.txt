TDAT: public void upgrade predicate ( string input , upgrade result < predicate > result ) {  <NL> final formula factory factory = result . get factory ( ) ;  <NL> final i parse result parse result = factory . parse predicate ( input ,  <NL> source version , null ) ;  <NL> if ( parse result . has problem ( ) ) {  <NL> copy problems ( parse result , result ) ;  <NL> result . set upgrade needed ( true ) ;  <NL> return ;  <NL>  }  <NL> final predicate pred = parse result . get parsed predicate ( ) ;  <NL> upgrade ( input , pred , result ) ;  <NL>  }  COM: <s> returns the upgrade result for of the given formula string </s>