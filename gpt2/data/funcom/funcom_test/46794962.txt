TDAT: private void write ( ) {  <NL> string buffer buffer = new string buffer ( ) ;  <NL> synchronized ( buffer ) {  <NL> loop write ( document , 0 , buffer ) ;  <NL>  }  <NL> byte array input stream st = new byte array input stream ( buffer . to string ( ) . get bytes ( ) ) ;  <NL> try {  <NL> file . set contents ( st , true , false , new null progress monitor ( ) ) ;  <NL>  / / system . out . println ( " xml to be written : : " + s ) ;  <NL>  } catch ( core exception e ) {  <NL> e . print stack trace ( ) ;  <NL>  }  <NL>  }  COM: <s> write the document </s>