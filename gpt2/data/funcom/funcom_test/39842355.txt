TDAT: protected locale get current locale ( ) {  <NL>  <NL> locale user locale = request utils . retrieve user locale ( page context , globals . locale _ key ) ;  <NL>  <NL>  / / store a new current locale , if requested <NL> if ( this . locale ) {  <NL> http session session = ( ( http servlet request ) this . page context . get request ( ) ) . get session ( ) ;  <NL> session . set attribute ( globals . locale _ key , user locale ) ;  <NL>  }  <NL>  <NL> return user locale ;  <NL>  }  COM: <s> return the current locale for this request </s>