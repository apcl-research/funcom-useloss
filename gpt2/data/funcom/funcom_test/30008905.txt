TDAT: public void test change encoding with reader ( ) throws exception {  <NL> string string = " < ? xml version = ' 1 . 0 ' encoding = ' utf - 8 ' ? > < html > < head > < title > foo < / title > < / head > "  <NL>  + " < / body > < / html > " ;  <NL>  <NL> xml input source source = new xml input source ( null , " my test " , null , new string reader ( string ) , " iso8859 - 1 " ) ;  <NL> html configuration parser = new html configuration ( ) ;  <NL> parser . parse ( source ) ;  <NL>  }  COM: <s> tests handling of xml declaration when used with reader </s>