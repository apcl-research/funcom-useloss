TDAT: private void write package ( package pkg ) {  <NL>  <NL> file dest file = null ;  <NL>  <NL> try {  <NL> if ( output file name = = null ) {  <NL> dest file = create output file (  <NL> destination ,  <NL> pkg . get name ( ) ,  <NL> pkg . get name ( ) ,  <NL> drools rules compiler . output _ file _ ending <NL>  ) ;  <NL>  } else {  <NL> dest file = create output file (  <NL> destination ,  <NL> pkg . get name ( ) ,  <NL> output file name ,  <NL> drools rules compiler . output _ file _ ending <NL>  ) ;  <NL>  }  <NL>  <NL> write package ( dest file , pkg ) ;  <NL>  <NL>  } catch ( io exception e ) {  <NL> log . error ( 0 , " class . cant . write " , output file name , e . get message ( ) ) ;  <NL>  }  <NL>  }  COM: <s> emit a rules file for the given package instance </s>