TDAT: public void update folding structure ( ) {  <NL> for ( annotation a : old pojection annotations ) {  <NL> projection annotation model . remove annotation ( a ) ;  <NL>  }  <NL> final position [ ] positions = mapper . get folding positions ( ) ;  <NL> final annotation [ ] annotations = mapper . get folding annotations ( ) ;  <NL> assert . is legal ( annotations . length = = positions . length ) ;  <NL>  / / todo use annotation model . replace annotations ( annotation [ ] , map )  <NL> for ( int i = 0 ; i < positions . length ; i + + ) {  <NL> projection annotation model . add annotation ( annotations [ i ] ,  <NL> positions [ i ] ) ;  <NL>  }  <NL> old pojection annotations = annotations ;  <NL>  }  COM: <s> replaces the old folding structure with the current one </s>