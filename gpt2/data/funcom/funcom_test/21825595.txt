TDAT: public repository open ( ) {  <NL> crud crud = this . new crud ( ) ;  <NL>  <NL> enhancer e = new enhancer ( ) ;  <NL> e . set superclass ( get repository implementor class ( ) ) ;  <NL> e . set interfaces ( get interfaces ( crud ) ) ;  <NL> proxy wrapper pw = create persistent wrapper ( crud ) ;  <NL> e . set callbacks ( get callbacks ( crud , pw ) ) ;  <NL> e . set callback filter ( get callback filter ( crud ) ) ;  <NL> return ( repository ) e . create ( new class [ ] { crud . class , proxy wrapper . class } , new object [ ] { crud , pw } ) ;  <NL>  }  COM: <s> creates a new repository instance </s>