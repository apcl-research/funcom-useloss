TDAT: public void close connection ( ) {  <NL> try {  <NL> if ( this . conn ! = null & & ! this . conn . is closed ( ) ) {  <NL>  <NL> this . conn . close ( ) ;  <NL>  }  <NL>  } catch ( sql exception ex ) {  <NL> log util . log error ( conn , ex ) ;  <NL>  }  <NL> if ( ds ! = null ) {  <NL> ds = null ;  <NL>  }  <NL>  }  COM: <s> commit the transaction if necessary and close the connection </s>