TDAT: protected void back log initial demand ( demand demand ) {  <NL>  / / demand . process ( ) ;  <NL>  / / initial request cannot be filled immediately <NL>  / / set the fill indicator to indicate no successful first fill <NL> set first fill flag ( false ) ;  <NL>  <NL>  / / determine how much to give the demand <NL> int amt = allocate inventory ( demand ) ;  <NL> if ( amt > 0 ) {  <NL>  / / fill by the amount supplied <NL> decrement on hand ( amt ) ;  <NL>  / / give the units to the demand <NL> demand . fill ( amt ) ;  <NL>  }  <NL>  / / ask the backlog policy to backlog the demand <NL> my back log policy . backlog ( demand ) ;  <NL>  / / check inventory after decrement / backlog <NL> check inventory ( ) ;  <NL>  <NL>  }  COM: <s> called internally by fill demand when a new demand must </s>