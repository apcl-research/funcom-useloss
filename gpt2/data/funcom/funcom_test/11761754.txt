TDAT: public void start block transmission ( piece message message ) {  <NL> bandwidth current bw = up . get rate limit ( ) ;  <NL> bandwidth new fairshare = current bw . divide by ( transmissions . size ( ) + 1 ) ;  <NL> time now = up . get peer ( ) . get clock ( ) . get time ( ) ;  <NL>  <NL>  / / update old transmissions <NL> for ( transmission t : transmissions ) {  <NL> t . update transmission ( last update , now , fairshare , new fairshare ) ;  <NL>  }  <NL>  <NL>  / / create new transmission <NL> transmissions . add ( new transmission ( this , message , now , new fairshare ) ) ;  <NL>  <NL>  / / update stored bandwidth and time <NL> last update = now ;  <NL> fairshare = new fairshare ;  <NL>  }  COM: <s> this function is called when a new block transmission is started by the </s>