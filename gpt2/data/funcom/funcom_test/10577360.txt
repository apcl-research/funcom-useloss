TDAT: public boolean lock ( final object key ) {  <NL> object the lock ;  <NL>  <NL> synchronized ( this ) {  <NL> the lock = locks . get ( key ) ;  <NL>  <NL> if ( null = = the lock ) {  <NL> locks . put ( key , get caller id ( ) ) ;  <NL> return true ;  <NL>  } else if ( get caller id ( ) = = the lock ) {  <NL> return true ;  <NL>  } else {  <NL> return false ;  <NL>  }  <NL>  }  <NL>  }  COM: <s> lock on a given object </s>