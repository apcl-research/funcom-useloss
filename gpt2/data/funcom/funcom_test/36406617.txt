TDAT: public string de te xt ( input stream is ) throws io exception {  <NL>  / / it makes no harm to assume that the stream uses iso latin1 - we only consider ascii characters <NL> mouth = new mouth ( new input stream reader ( is , " iso8859 _ 1 " ) ) ;  <NL> token = mouth . get token object ( ) ;  <NL>  <NL> packages = new hash set < string > ( ) ;  <NL>  <NL> mouth . get token ( ) ;  <NL>  <NL> if ( parse header ( ) & & parse preamble ( ) ) {  <NL> if ( packages . contains ( " xunicode " ) ) {  <NL> return " xe la te x " ;  <NL>  }  <NL> else {  <NL> return " la te x " ;  <NL>  }  <NL>  }  <NL>  <NL>  / / unknown format <NL> return null ;  <NL>  <NL>  }  COM: <s> detect the format of a given stream </s>