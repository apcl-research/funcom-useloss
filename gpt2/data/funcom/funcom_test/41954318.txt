TDAT: private session get session from transaction context ( ) {  <NL> i transaction resource resource = null ;  <NL> hibernate transaction resource hibernate resource = null ;  <NL>  <NL> session result = null ;  <NL>  <NL> if ( transaction context = = null )  <NL> throw new persistence hibernate exception (  <NL>  " without transaction context . " ) ;  <NL>  <NL> if ( transaction context . has resource ( ) ) {  <NL> resource = transaction context . get resource ( ) ;  <NL>  <NL> if ( resource instanceof hibernate transaction resource ) {  <NL> hibernate resource = ( hibernate transaction resource ) resource ;  <NL>  <NL> result = hibernate resource . get session ( ) ;  <NL>  } else {  <NL> throw new persistence hibernate exception (  <NL>  " transaction context not contain a hibernate transaction resource resource . " ) ;  <NL>  }  <NL>  }  <NL>  <NL> return result ;  <NL>  <NL>  }  COM: <s> seek hibernate session on the itransaction context resource </s>