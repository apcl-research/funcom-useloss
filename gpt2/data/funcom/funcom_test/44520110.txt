TDAT: public void set derived fields ( ) {  <NL> distance = 0 ;  <NL> distance2 = 0 ;  <NL> atom contact atom contact ;  <NL> interacting _ atom _ contacts _ size = 0 ;  <NL> interaction = false ;  <NL>  <NL> for ( iterator i = atom contacts . iterator ( ) ; i . has next ( ) ; ) {  <NL> atom contact = ( atom contact ) i . next ( ) ;  <NL> distance2 + = atom contact . get distance ( ) ;  <NL> if ( atom contact . is interacting ( ) ) {  <NL> if ( atom contact . is pure ( ) ) {  <NL> interaction = true ;  <NL> interacting _ atom _ contacts _ size + + ;  <NL> distance + = atom contact . get distance ( ) ;  <NL>  }  <NL>  }  <NL>  }  <NL>  <NL> if ( is interacting ( ) )  <NL> distance / = interacting _ atom _ contacts _ size ;  <NL> else {  <NL> distance2 / = atom contacts . size ( ) ;  <NL>  }  <NL>  <NL> set strength ( ) ;  <NL> set type ( ) ;  <NL> set absolute involvement ( ) ;  <NL> set percentance involvement ( ) ;  <NL>  }  COM: <s> set derived fields </s>