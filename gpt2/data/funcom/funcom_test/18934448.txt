TDAT: public void append flat ( linear queue q ) {  <NL> bulk move test ( q ) ;  <NL> for ( int i = 0 ; ! q . is empty ( ) ; i + + ) try {  <NL> object o = q . remove first ( ) ;  <NL> try {  <NL> this . add last ( o ) ;  <NL>  } catch ( runtime exception re ) {  <NL> q . add first ( o ) ;  <NL> throw re ; }  <NL>  } catch ( runtime exception re ) {  <NL> try {  <NL> while ( i - - > 0 ) q . add first ( this . remove last ( ) ) ;  <NL>  } catch ( runtime exception bah ) {  <NL> throw new rollback error ( re , bah ) ; }  <NL> throw re ; } }  COM: <s> moves the contents of q to the end of this queue </s>