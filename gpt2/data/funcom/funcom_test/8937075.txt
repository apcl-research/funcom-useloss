TDAT: public int read ( ) throws io exception {  <NL> int c ;  <NL>  <NL> if ( buf length > = 0 ) {  <NL> c = buf [ buf length - - ] ;  <NL>  } else {  <NL> c = wrapped read ( ) ;  <NL>  <NL> if ( c = = - 1 ) return ruby yacc lexer . eof ;  <NL>  }  <NL>  <NL> advance ( c ) ;  <NL>  <NL> if ( c = = ' \n ' ) line + + ;  <NL>  <NL> return c ;  <NL>  }  COM: <s> read next character from this source </s>