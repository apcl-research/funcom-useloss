TDAT: public int get data ( int register , byte [ ] buf , int len ) {  <NL> int ret = port . i2c start ( address , register , 1 , null , len , 0 ) ;  <NL>  <NL> if ( ret ! = 0 ) return ret ;  <NL>  <NL> while ( port . i2c busy ( ) ! = 0 ) {  <NL> thread . yield ( ) ;  <NL>  }  <NL>  <NL> ret = port . i2c complete ( buf , len ) ;  <NL> return ( ret < 0 ? ret : ( ret = = len ? 0 : - 1 ) ) ;  <NL>  }  COM: <s> executes an i2 c read transaction and waits for the result </s>