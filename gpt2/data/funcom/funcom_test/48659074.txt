TDAT: public void activate account ( long id , string email token ) throws exception {  <NL> account manager am = new account manager ( ) ;  <NL> account acct = null ;  <NL> acct = am . get account ( id ) ;  <NL> if ( acct = = null ) {  <NL> am . close session ( ) ;  <NL> throw new il exception ( il exception . unknown _ account ) ;  <NL>  }  <NL> string stoken = acct . get email token ( ) ;  <NL> if ( ! stoken . equals ignore case ( email token ) ) {  <NL> am . close session ( ) ;  <NL> throw new il exception ( il exception . bad _ token ) ;  <NL>  }  <NL>  / / activate <NL> acct . set status ( account . status _ active ) ;  <NL> am . save or update account ( acct ) ;  <NL>  / / send them their security token <NL>  / / email security token ( acct ) ;  <NL> am . close session ( ) ;  <NL>  }  COM: <s> activates an account after sign up </s>