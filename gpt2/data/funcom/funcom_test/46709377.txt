TDAT: public void do activate ( ) {  <NL> synchronized ( state lock ) {  <NL> if ( my ap state = = ap _ suspended ) {  <NL> change state to ( my buffered state ) ;  <NL>  }  <NL>  }  <NL> if ( my ap state ! = ap _ suspended ) {  <NL> switch ( my buffered state ) {  <NL> case ap _ active :  <NL> activate all behaviours ( ) ;  <NL> synchronized ( suspend lock ) {  <NL> my buffered state = ap _ min ;  <NL> suspend lock . notify all ( ) ;  <NL>  }  <NL> break ;  <NL> case ap _ waiting :  <NL> do wake ( ) ;  <NL> break ;  <NL>  }  <NL>  }  <NL>  }  COM: <s> make a state transition from em suspended em to </s>