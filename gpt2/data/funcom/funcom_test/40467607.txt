TDAT: protected int get angle from user ( point p ) {  <NL> int degs = 0 ;  <NL> switch ( mode ) {  <NL> case ctrl _ angular :  <NL> degs = math . round ( p applet . degrees ( calc real angle from xy ( p , win app . mouse x , win app . mouse y ) ) ) ;  <NL> break ;  <NL> case ctrl _ horizontal :  <NL> degs = ( int ) ( sensitivity * ( win app . mouse x - p . x - start mouse x ) ) ;  <NL> break ;  <NL> case ctrl _ vertical :  <NL> degs = ( int ) ( sensitivity * ( win app . mouse y - p . y - start mouse y ) ) ;  <NL> break ;  <NL>  }  <NL> return degs ;  <NL>  }  COM: <s> calculates the angle from the current mouse position based on the type </s>