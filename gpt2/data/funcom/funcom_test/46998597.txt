TDAT: public date get end date ( ) {  <NL> date end date ;  <NL> if ( has children ( ) ) {  <NL> refresh date ranges ( ) ;  <NL> end date = latest child end date ;  <NL>  } else {  <NL> end date = date util . get end date ( start date , ( int ) math . ceil ( work ) ,  <NL> configuration . get configuration ( project ) . is work weekends ( ) ) ;  <NL> if ( end date . before ( start date ) ) {  <NL> end date = start date ;  <NL>  }  <NL>  }  <NL>  <NL> return end date ;  <NL>  }  COM: <s> calculates the end date for the task </s>