TDAT: protected void handle piece message ( piece message message , finger remote peer ) {  <NL> abstract block block = message . get block ( ) ;  <NL> state . get storage wrapper ( ) . set block downloaded ( block , remote peer ,  <NL> get peer ( ) . get clock ( ) . get time ( ) ) ;  <NL>  <NL> block received ( block , remote peer ) ;  <NL>  <NL> cancel remaining requests ( block ) ;  <NL>  <NL> connection state cs = state . get neighbor manager ( ) . get connection state (  <NL> remote peer ) ;  <NL> if ( cs ! = null & & ! cs . is peer choking ( ) ) {  <NL>  / / send new request <NL> request block ( remote peer ) ;  <NL>  }  <NL>  }  COM: <s> notifies the storage wrapper that a new block is downloaded sends a new </s>