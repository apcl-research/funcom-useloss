TDAT: public priority get priority ( list < i response to > responses , string peer public key ) {  <NL>  <NL> list < trusty community > filtered communities =  <NL> filter by presence ( peer public key , get trusty communities ( responses ) ) ;  <NL>  <NL> if ( filtered communities . is empty ( ) ) {  <NL> return priority . unknown _ peer ;  <NL>  }  <NL>  <NL> collections . sort ( filtered communities ) ;  <NL> int greatest priority = filtered communities . get ( filtered communities . size ( ) - 1 ) . get priority ( ) ;  <NL>  <NL> return new priority ( priority . range . alloc _ for _ trust _ community , greatest priority ) ;  <NL>  }  COM: <s> gets the greatest </s>