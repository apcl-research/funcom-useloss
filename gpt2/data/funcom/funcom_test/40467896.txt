TDAT: public void set action on close ( int action ) {  <NL> switch ( action ) {  <NL> case keep _ open :  <NL> remove window listener ( win adapt ) ;  <NL> win adapt = null ;  <NL> action on close = action ;  <NL> break ;  <NL> case close _ window :  <NL> case exit _ app :  <NL> if ( win adapt = = null ) {  <NL> win adapt = new window adapter ( ) {  <NL> public void window closing ( window event evt ) {  <NL> switch ( action on close ) {  <NL> case close _ window :  <NL> remove from g4p ( ) ;  <NL> dispose ( ) ; / / close this frame <NL> break ;  <NL> case exit _ app :  <NL> system . exit ( 0 ) ;  <NL> break ;  <NL>  }  <NL>  }  <NL>  } ;  <NL> add window listener ( win adapt ) ;  <NL>  } / / end if <NL> action on close = action ;  <NL> break ;  <NL>  } / / end switch <NL>  }  COM: <s> this sets what happens when the users attempts to close the window </s>