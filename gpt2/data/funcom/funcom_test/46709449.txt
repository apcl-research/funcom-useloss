TDAT: public void do wake ( ) {  <NL> synchronized ( state lock ) {  <NL> if ( ( my ap state = = ap _ waiting ) || ( my ap state = = ap _ idle ) ) {  <NL> change state to ( ap _ active ) ;  <NL>  }  <NL>  }  <NL> if ( my ap state = = ap _ active ) {  <NL> activate all behaviours ( ) ;  <NL> synchronized ( msg queue ) {  <NL> msg queue . notify all ( ) ; / / wakes up the embedded thread <NL>  }  <NL>  }  <NL>  }  COM: <s> make a state transition from em waiting em to em active em </s>