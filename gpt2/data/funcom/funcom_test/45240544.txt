TDAT: private void expand capacity ( int minimum capacity ) {  <NL> int new capacity = ( payload . length + 1 ) * 2 ;  <NL> if ( new capacity < 0 ) {  <NL> new capacity = integer . max _ value ;  <NL>  }  <NL> else if ( minimum capacity > new capacity ) {  <NL> new capacity = minimum capacity ;  <NL>  }  <NL> int old length = cur length ;  <NL> if ( old length > payload . length ) {  <NL> old length = payload . length ;  <NL>  }  <NL> byte [ ] new payload = new byte [ new capacity ] ;  <NL> try {  <NL> system . arraycopy ( payload , 0 , new payload , 0 , old length ) ;  <NL>  }  <NL> catch ( exception e ) {  <NL> logger . error ( e ) ;  <NL>  }  <NL> payload = new payload ;  <NL>  }  COM: <s> expands the buffer to the specified size </s>