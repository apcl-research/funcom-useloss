TDAT: private int allocate new id ( ) {  <NL> int thread id = - 1 ;  <NL>  <NL> for ( int i thread = 0 ; i thread < max threads ; i thread + + ) {  <NL> if ( ! allocated thread [ i thread ] ) {  <NL> allocated thread [ i thread ] = true ;  <NL> num active threads + + ;  <NL> return i thread ;  <NL>  }  <NL>  }  <NL> throw new runtime exception ( " cannot find an non - allocated thread . this is a programming error " ) ;  <NL>  }  COM: <s> return an allocate a free entry thread id in the administration </s>