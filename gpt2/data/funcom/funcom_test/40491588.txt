TDAT: protected void set state ( int key , double value ) {  <NL> if ( data . length < = key ) {  <NL>  / / increase length of data by making it a copy of itself with <NL>  / / increased length <NL>  / / data = arrays . copy ( data , 0 , key + 1 , 0 , data . length )  <NL>  / / system . a <NL> data = new double [ key + 1 ] ;  <NL>  }  <NL>  / / notify self on state change <NL> if ( value ! = data [ key ] ) {  <NL> sensor state changed ( key , data [ key ] , value ) ;  <NL>  }  <NL>  / / save new data <NL> data [ key ] = value ;  <NL>  <NL>  }  COM: <s> sets sensor state from a hardware call and notifies self on detected </s>