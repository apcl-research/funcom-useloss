TDAT: protected void generate action ( event generator generator , jsl event event ) {  <NL>  <NL> if ( my inventory provider ! = null ) {  <NL>  / / get the amount of the demand <NL> int amt = 0 ;  <NL> if ( my amt rv = = null )  <NL> amt = 1 ;  <NL> else <NL> amt = ( int ) my amt rv . get value ( ) ;  <NL>  <NL> inventory ifc i = my inventory provider . get inventory ( my item type , this ) ;  <NL>  <NL> if ( i ! = null ) {  <NL>  <NL> demand d = i . request inventory ( get item type ( ) , this , amt ) ;  <NL>  <NL> if ( d ! = null )  <NL> i . fill inventory ( d ) ;  <NL>  <NL>  }  <NL>  }  <NL>  <NL>  }  COM: <s> if there is no reference to a inventory provider ifc then </s>