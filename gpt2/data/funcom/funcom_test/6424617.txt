TDAT: public void remove plugin ( plugin plugin ) {  <NL> string [ ] plugable names = plugin . get plugable names ( ) ;  <NL> string [ ] keys ;  <NL> iterator it ;  <NL> plugable plugable ;  <NL> for ( int i = plugable names . length - 1 ; i > = 0 ; i - - ) {  <NL> it = instance . get instances ( plugable names [ i ] ) ;  <NL> registry . remove entry ( plugable names [ i ] , plugin . get class ( ) . get name ( ) ) ;  <NL> keys = plugin . get keys for ( plugable names [ i ] ) ;  <NL> while ( it . has next ( ) ) {  <NL> plugable = ( plugable ) it . next ( ) ;  <NL> iterator plugins = instance . get instances ( plugable , keys [ 0 ] ) ;  <NL> if ( plugins ! = null ) {  <NL> while ( plugins . has next ( ) ) {  <NL>  ( ( plugin ) plugins . next ( ) ) . plugin removed ( plugable ) ;  <NL>  }  <NL>  }  <NL> for ( int j = keys . length - 1 ; j > = 0 ; j - - ) {  <NL> instance . put instance ( plugable , keys [ j ] , null ) ;  <NL>  }  <NL>  }  <NL>  }  <NL>  }  COM: <s> removes the plugin and removes all ties that this plugin has </s>