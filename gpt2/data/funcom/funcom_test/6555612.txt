TDAT: public mb ban update ( mb ban mb ban , boolean merge ) throws system exception {  <NL> boolean is new = mb ban . is new ( ) ;  <NL>  <NL> for ( model listener listener : listeners ) {  <NL> if ( is new ) {  <NL> listener . on before create ( mb ban ) ;  <NL>  }  <NL> else {  <NL> listener . on before update ( mb ban ) ;  <NL>  }  <NL>  }  <NL>  <NL> mb ban = update impl ( mb ban , merge ) ;  <NL>  <NL> for ( model listener listener : listeners ) {  <NL> if ( is new ) {  <NL> listener . on after create ( mb ban ) ;  <NL>  }  <NL> else {  <NL> listener . on after update ( mb ban ) ;  <NL>  }  <NL>  }  <NL>  <NL> return mb ban ;  <NL>  }  COM: <s> add update or merge the entity </s>