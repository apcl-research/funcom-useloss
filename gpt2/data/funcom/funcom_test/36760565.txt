TDAT: public void release exclusive lock ( ) {  <NL> this . lock . lock ( ) ;  <NL> try {  <NL> if ( readers ! = 0 || writers ! = 1 ) {  <NL> this . throw error ( " there should be no readers ( " + readers + " ) , and just one writer ( " + writers + " ) " ) ;  <NL>  }  <NL> writers - - ;  <NL>  / / wake up a writer if it is waiting ; if not , wake up all the readers that are waiting , if any <NL> if ( writers waiting count > 0 ) {  <NL> writers waiting . signal ( ) ;  <NL>  } else if ( readers waiting count > 0 ) {  <NL> readers waiting . signal all ( ) ;  <NL>  }  <NL>  } finally {  <NL> this . lock . unlock ( ) ;  <NL>  }  <NL>  }  COM: <s> releases an exclusive lock </s>