TDAT: protected object create service instance ( service factory factory ) {  <NL>  <NL> object service = factory . create service instance ( ) ;  <NL>  <NL>  / / if the factory created a singleton service , the factory <NL>  / / is removed to ensure no more instances can be created <NL>  <NL> if ( factory instanceof default service factory ) {  <NL>  <NL> default service factory factory0 <NL>  = ( default service factory ) factory ;  <NL>  <NL> service multiplicity multiplicity <NL>  = get service multiplicity ( factory0 ) ;  <NL>  <NL> if ( multiplicity = = service multiplicity . singleton ) {  <NL> deinstall service factory ( factory ) ;  <NL>  }  <NL>  }  <NL>  <NL> return service ;  <NL>  }  COM: <s> creates a new service instance </s>