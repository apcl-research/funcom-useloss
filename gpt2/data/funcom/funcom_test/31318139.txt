TDAT: public void handle packet ( packet packet ) {  <NL> block message block message = ( block message ) packet ;  <NL>  <NL> network id block id = block message . get block id ( ) ;  <NL>  <NL> protocol controller . update received ( block message . get last modified ( ) , block message . get block id ( ) , packet constants . block _ message ) ;  <NL>  <NL> document . get access lock ( ) ;  <NL>  <NL> if ( document . find block ( block id ) = = null ) {  <NL> add new block ( block message ) ;  <NL>  } else {  <NL> update block ( block message ) ;  <NL>  }  <NL>  <NL> document . release access lock ( ) ;  <NL>  }  COM: <s> handles a new incoming block message packet </s>