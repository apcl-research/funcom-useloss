TDAT: public void test message relay abort ( ) {  <NL> message m1 = new message ( h1 , h2 , msg id1 , buffer _ size ) ;  <NL> h1 . create new message ( m1 ) ;  <NL> check creates ( 1 ) ;  <NL>  <NL> h1 . connect ( h2 ) ;  <NL> update all nodes ( ) ;  <NL> assert true ( mc . next ( ) ) ;  <NL> assert equals ( mc . type _ start , mc . get last type ( ) ) ;  <NL> assert false ( mc . next ( ) ) ;  <NL> clock . advance ( 1 ) ;  <NL> update all nodes ( ) ;  <NL> assert false ( mc . next ( ) ) ;  <NL>  <NL> h2 . set location ( far away ) ;  <NL> update all nodes ( ) ; / / disconnect , still transferring <NL>  <NL> assert true ( mc . next ( ) ) ;  <NL> assert equals ( mc . type _ abort , mc . get last type ( ) ) ;  <NL> assert equals ( h1 , mc . get last from ( ) ) ;  <NL> assert false ( mc . next ( ) ) ;  <NL>  }  COM: <s> tests aborting transfer when connections is disconnected during the </s>