TDAT: public planar image filter ( planar image image , properties image properties ) throws filter exception {  <NL>  / / additional properties on top of existing ones <NL> properties preconfigured = this . get filter properties ( ) ;  <NL> properties local = ( properties ) preconfigured . clone ( ) ;  <NL> local . put all ( image properties ) ;  <NL>  <NL>  / / change state to use local params <NL> this . initialize ( local ) ;  <NL>  <NL> image = this . filter ( image ) ;  <NL>  <NL>  / / return to previous state <NL> this . initialize ( preconfigured ) ;  <NL>  <NL> return image ;  <NL>  }  COM: <s> filter the image with additional properties </s>