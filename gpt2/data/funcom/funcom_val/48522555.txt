TDAT: public int mark confirm ( ) {  <NL>  <NL> int index = get selected index ( ) ;  <NL> int record id = ( ( integer ) list of ids . element at ( index ) ) . int value ( ) ;  <NL> i stored event event = store . get ( record id ) ;  <NL> boolean state = ! event . is marked ( ) ;  <NL> store . change state ( record id , state ) ;  <NL> list of marks . set element at ( new boolean ( state ) , index ) ; ;  <NL> set ( index , format event ( event , false ) , get image ( state ) ) ;  <NL>  <NL> if ( state ) {  <NL> return record id ;  <NL>  } else {  <NL> return - 1 ;  <NL>  }  <NL>  }  COM: <s> confirm the selected patient </s>