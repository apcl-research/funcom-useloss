TDAT: protected void append custom expression ( string builder sb , search context ctx , string expression ) {  <NL> matcher matcher = pattern . compile ( " \\ { [ \\w\\ . ] * \\ } " ) . matcher ( expression ) ;  <NL> int last end = 0 ;  <NL> while ( matcher . find ( ) ) {  <NL> sb . append ( expression . substring ( last end , matcher . start ( ) ) ) ;  <NL> sb . append ( get path ref ( ctx , expression . substring ( matcher . start ( ) + 1 , matcher . end ( ) - 1 ) ) ) ;  <NL> last end = matcher . end ( ) ;  <NL>  }  <NL> sb . append ( expression . substring ( last end ) ) ;  <NL>  }  COM: <s> append a custom expression to the string builder replacing any </s>