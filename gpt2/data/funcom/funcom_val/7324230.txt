TDAT: public void flush smtp data ( ) throws io exception {  <NL> if ( done ) return ;  <NL>  <NL>  / / ensure ending crlf <NL> if ( prev ! = ' \n ' & & prev ! = ' \r ' ) {  <NL> out . write ( ' \r ' ) ;  <NL> out . write ( ' \n ' ) ;  <NL>  }  <NL> out . write ( ' . ' ) ;  <NL> out . write ( ' \r ' ) ;  <NL> out . write ( ' \n ' ) ;  <NL>  <NL> done = true ;  <NL>  }  COM: <s> finish writing the data write terminating newline dot newline </s>