TDAT: private void wait for arrival ( ) {  <NL> boolean agent arrived = false ;  <NL> boolean graph perceived ;  <NL> string [ ] messages ;  <NL>  <NL>  _ print ( " awaiting arrival message " ) ;  <NL>  <NL> while ( ! agent arrived & & this . working ) {  <NL> thread . yield ( ) ;  <NL>  <NL> messages = connection . retrieve messages ( ) ;  <NL>  <NL> for ( int i = 0 ; i < messages . length ; i + + ) {  <NL> agent arrived = perceive arrival message ( messages [ i ] ) ;  <NL> if ( agent arrived ) {  <NL>  _ print ( " agent arrived : " + next node ) ;  <NL> break ;  <NL>  }  <NL>  <NL> graph perceived = perceive graph update ( messages [ i ] ) ;  <NL> if ( graph perceived ) {  <NL> continue ;  <NL>  }  <NL>  <NL> perceive broadcast of chosen node ( messages [ i ] ) ;  <NL>  }  <NL>  }  <NL>  <NL>  }  COM: <s> waits the agent to arrive at his destiny node </s>