TDAT: public output stream open selected file ( ) throws operator exception {  <NL> if ( ! file output port . is connected ( ) ) {  <NL> try {  <NL> return new file output stream ( operator . get parameter as file ( file parameter name ) ) ;  <NL>  } catch ( file not found exception e ) {  <NL> throw new user error ( operator , 301 , operator . get parameter as file ( file parameter name ) ) ;  <NL>  }  <NL>  } else {  <NL> return new byte array output stream ( ) {  <NL>  <NL>  @ override <NL> public void close ( ) throws io exception {  <NL> super . close ( ) ;  <NL> file output port . deliver ( new buffered file object ( this . to byte array ( ) ) ) ;  <NL>  }  <NL>  } ;  <NL>  }  <NL>  }  COM: <s> returns an output stream depending on whether the </s>