TDAT: public void complete response ( control connection connection ) {  <NL> if ( get response ( ) . is positive preliminary ( ) & & ! preliminary used ) {  <NL>  / / notifies listener and sets fresh response <NL> preliminary used = true ;  <NL> fire command intermediate ( connection ) ;  <NL> clear response ( ) ;  <NL>  }  <NL> else {  <NL> connection . command finished ( ) ;  <NL> fire command finished ( connection ) ;  <NL>  }  <NL>  }  COM: <s> accepts at most one preliminary response </s>