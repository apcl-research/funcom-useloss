TDAT: private double similarity ( rated test case rtc ) {  <NL> double sum = 0 ;  <NL>  / / if this rated test case is not correctly derived : return 0 <NL> if ( ! rtc . get derived solutions are up to date ( ) ) return sum ;  <NL>  <NL> list < solution > inter = intersect ( rtc . get expected solutions ( ) , rtc <NL>  . get derived solutions ( ) ) ;  <NL> rating similarity comparator = new individual similarity ( ) ;  <NL>  <NL> for ( solution d : inter ) {  <NL> sum + = comparator . rsim ( r ( d , rtc . get expected solutions ( ) ) ,  <NL> r ( d , rtc . get derived solutions ( ) ) ) ;  <NL>  }  <NL> return sum ;  <NL>  }  COM: <s> calculates an overall similarity of expected an derived solutions </s>