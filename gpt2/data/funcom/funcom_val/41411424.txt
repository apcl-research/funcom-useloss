TDAT: protected xml node read stanza ( ) {  <NL> busy = true ;  <NL> xml node x = new xml node ( ) ;  <NL> if ( ended ) {  <NL> terminate ( true ) ;  <NL> return x ;  <NL>  }  <NL> do {  <NL> if ( ! ended ) {  <NL> try {  <NL> x . init ( " " , is ) ;  <NL>  } catch ( exception e ) {  <NL> e . print stack trace ( ) ;  <NL> system . out . println ( " e : " + e . get message ( ) ) ;  <NL> ended = true ;  <NL>  }  <NL> busy = false ;  <NL>  }  <NL>  } while ( x . get name ( ) . equals ( " " ) & & ! ended ) ;  <NL> log ( " read stanza : " + x ) ;  <NL> return x ;  <NL>  }  COM: <s> this routine reads next packet from stream blocking </s>