TDAT: protected string do update execute ( ) throws exception {  <NL> try {  <NL> dao start transaction ( ) ;  <NL> if ( before update ( data ) ) {  <NL> update data ( data ) ;  <NL> after update ( data , source data ) ;  <NL> dao commit transaction ( ) ;  <NL> add action message ( get message ( message _ data _ update _ success ) ) ;  <NL> set method result ( result _ success ) ;  <NL>  }  <NL> else {  <NL> set method result ( has errors ( ) ? result _ input : result _ confirm ) ;  <NL>  }  <NL>  }  <NL> catch ( exception e ) {  <NL> log . error ( e . get message ( ) , e ) ;  <NL> add action error ( get message ( error _ data _ update _ failed , new string [ ] { e . get message ( ) } ) ) ;  <NL> set method result ( result _ confirm ) ;  <NL>  }  <NL> finally {  <NL> dao end transaction ( ) ;  <NL>  }  <NL> return success ;  <NL>  }  COM: <s> do update execute </s>