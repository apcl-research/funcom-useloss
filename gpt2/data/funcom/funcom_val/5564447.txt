TDAT: protected hex ref get edge or center ( point p ) {  <NL> final point hex = my grid . snap to hex ( p ) ; / / nearest hex centre <NL> final point snap = my grid . snap to ( p ) ; / / nearest centre or edge <NL> if ( close ( snap , hex ) ) {  <NL> return my grid . get hex pos ( p ) ;  <NL>  }  <NL> else {  <NL> return new edge ref ( snap , my grid ) ;  <NL>  }  <NL>  }  COM: <s> return a reference to the nearest hex centre or edge </s>