TDAT: private void checkpoint ( psm state state ) {  <NL> string state name = state . get name ( ) ;  <NL> if ( ! state name . equals ( state bean . get last resumable state name ( ) ) ) {  <NL> state bean . set last resumable state name ( state name ) ;  <NL> if ( checkpointer ! = null ) {  <NL> checkpointer . checkpoint ( state bean ) ;  <NL>  }  <NL>  }  <NL>  }  COM: <s> update the state bean and call the checkpointer to checkpoint the </s>