TDAT: public server state view set state ( server state state ) throws illegal argument exception {  <NL> for ( ; ; ) {  <NL> server state view previous state view = state ref . get ( ) ;  <NL> if ( previous state view . get state ( ) = = state ) {  <NL> return null ;  <NL>  }  <NL>  <NL> server state view new state view = inner compare and set state ( previous state view , state ) ;  <NL> if ( new state view ! = null ) {  <NL> return new state view ;  <NL>  }  <NL>  }  <NL>  }  COM: <s> sets the state of the server </s>