TDAT: public void send ( e mail email , string template name , map < string , string > args ) throws exception {  <NL> message template template = template dao . find by name and language ( template name , email . get locale ( ) . to string ( ) ) ;  <NL> if ( template = = null ) {  <NL> log . error ( " template " + template name + " was not found " ) ;  <NL> return ;  <NL>  }  <NL>  <NL> email . set subject ( template . get formatted subject ( args ) ) ;  <NL> email . set message text ( template . get formatted body ( args ) ) ;  <NL>  <NL> send ( email ) ;  <NL>  }  COM: <s> sends an email by using a given template </s>