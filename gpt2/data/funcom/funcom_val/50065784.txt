TDAT: protected int _ count ( class < ? > type ) {  <NL> list counts = get session ( ) . create query ( " select count ( _ it _ ) from " + get metadata util ( ) . get ( type ) . get entity name ( ) + " _ it _ " ) . list ( ) ;  <NL> int sum = 0 ;  <NL> for ( object count : counts ) {  <NL> sum + = ( ( long ) count ) . int value ( ) ;  <NL>  }  <NL> return sum ;  <NL>  }  COM: <s> returns the number of instances of this class in the datastore </s>