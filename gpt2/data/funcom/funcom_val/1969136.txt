TDAT: public charset match detect ( ) {  <NL>  / / a better implementation would be to copy the detect loop from <NL>  / / detect all ( ) , and cut it short as soon as a match with a high confidence <NL>  / / is found . this is something to be done later , after things are otherwise <NL>  / / working .  <NL> charset match matches [ ] = detect all ( ) ;  <NL>  <NL> if ( matches = = null || matches . length = = 0 ) {  <NL> return null ;  <NL>  }  <NL>  <NL> return matches [ 0 ] ;  <NL>  }  COM: <s> return the charset that best matches the supplied input data </s>