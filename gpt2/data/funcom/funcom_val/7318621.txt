TDAT: public collection get tcp peer identities ( predicate peer predicate ) {  <NL> collection ret val = new array list ( ) ;  <NL> for ( peer identity id : pid set ) {  <NL> if ( id . get peer address ( ) instanceof peer address . tcp <NL>  & & ! id . is local identity ( )  <NL>  & & peer predicate . evaluate ( id ) ) {  <NL> ret val . add ( id ) ;  <NL>  }  <NL>  }  <NL> return ret val ;  <NL>  }  COM: <s> return a filtered collection of v3 style peer identities </s>