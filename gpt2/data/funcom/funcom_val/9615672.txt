TDAT: public void add repository ( repository repository ) {  <NL> logger . config ( " adding repository " + repository . get name ( ) ) ;  <NL> repositories . add ( repository ) ;  <NL> if ( instance ! = null ) {  <NL>  / / we cannot call post install during init ( ) . the reason is that <NL>  / / post install may access repository manager . get instance ( ) which will be null and hence <NL>  / / trigger further recursive , endless calls to init ( )  <NL> repository . post install ( ) ;  <NL> save ( ) ;  <NL>  }  <NL> fire update ( repository ) ;  <NL>  }  COM: <s> registers a repository </s>