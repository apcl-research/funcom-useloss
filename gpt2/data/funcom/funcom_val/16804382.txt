TDAT: public long count ( ) {  <NL> check open token ( ) ;  <NL> if ( is top entity ( ) )  <NL> return this . db handle . count ( ) ;  <NL> else {  <NL> return this . db . perform action ( new database action < long > ( ) {  <NL> public long execute ( ) {  <NL> long count = 0 ;  <NL> for ( object item : entity . this )  <NL> count + + ;  <NL> return count ;  <NL>  }  <NL>  } ) ;  <NL>  }  <NL>  }  COM: <s> determine the total number of instances of this entity including sub entities </s>