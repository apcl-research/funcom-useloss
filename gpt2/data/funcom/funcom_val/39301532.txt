TDAT: public void register ( t element ) {  <NL> is dirty = true ;  <NL> for ( class < ? > c : element . supported classes ( ) ) {  <NL> if ( c = = null )  <NL> throw new runtime exception ( " failed to register "  <NL>  + element . get class ( ) . get name ( )  <NL>  + " ; error in implementation , no supported classes found " ) ;  <NL> element . set state ( state ) ;  <NL>  <NL> set < t > set = elements . get ( c ) ;  <NL> if ( set = = null ) {  <NL> set = new hash set < t > ( ) ;  <NL> elements . put ( c , set ) ;  <NL>  }  <NL> set . add ( element ) ;  <NL>  }  <NL>  }  COM: <s> registers a library element with the library </s>