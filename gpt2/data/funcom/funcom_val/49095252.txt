TDAT: protected message try all messages ( connection con , list < message > messages ) {  <NL> for ( message m : messages ) {  <NL> int ret val = start transfer ( m , con ) ;  <NL> if ( ret val = = rcv _ ok ) {  <NL> return m ; / / accepted a message , don ' t try others <NL>  }  <NL> else if ( ret val > 0 ) {  <NL> return null ; / / should try later - > don ' t bother trying others <NL>  }  <NL>  }  <NL>  <NL> return null ; / / no message was accepted <NL>  }  COM: <s> goes trough the messages until the other node accepts one </s>