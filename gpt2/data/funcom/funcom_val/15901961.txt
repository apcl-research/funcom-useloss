TDAT: private void propagate msg ( p2p mediator ) {  <NL> decrease hop count ( ) ;  <NL>  <NL> for ( iterator i = mediator . get site ( ) . neighbouring sites ( ) ; i . has next ( ) ; ) {  <NL> grid site n site = ( grid site ) i . next ( ) ;  <NL>  <NL> if ( ! test and set has contacted ( n site ) )  <NL> mediator . send message ( ( propagating message ) this . clone ( ) , n site ) ;  <NL>  }  <NL>  }  COM: <s> send a message to all neighbouring sites that havent </s>