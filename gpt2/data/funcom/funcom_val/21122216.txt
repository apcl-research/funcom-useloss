TDAT: public i environment get environment at offset ( int offset , boolean include disabled ) {  <NL> navigable map < integer , i environment > envs = get current environements ( ) ;  <NL> if ( envs = = null )  <NL> return null ;  <NL>  <NL> integer key = envs . floor key ( offset ) ;  <NL> if ( key ! = null ) {  <NL> collection < i environment > possible envs = envs . head map ( key , true ) . descending map ( ) . values ( ) ;  <NL> for ( i environment environment : possible envs ) {  <NL> if ( environment . get offset ( ) + environment . get length ( ) > offset & &  <NL> environment . handle separately ( ) ! = include disabled )  <NL> return environment ;  <NL>  }  <NL>  }  <NL> return current resource environment . get root ( ) ;  <NL>  }  COM: <s> searches for the environment which contains the given offset </s>