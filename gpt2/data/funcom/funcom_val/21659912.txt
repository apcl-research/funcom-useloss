TDAT: private void delay ( long wait time millis ) {  <NL> display display = display . get current ( ) ;  <NL>  <NL>  / / if this is the ui thread ,  <NL>  / / then process input .  <NL> if ( display ! = null ) {  <NL> long end time millis =  <NL> system . current time millis ( ) + wait time millis ;  <NL> while ( system . current time millis ( ) < end time millis )  <NL>  {  <NL> if ( ! display . read and dispatch ( ) )  <NL> display . sleep ( ) ;  <NL>  }  <NL> display . update ( ) ;  <NL>  }  <NL>  / / otherwise , perform a simple sleep .  <NL> else {  <NL> try {  <NL> thread . sleep ( wait time millis ) ;  <NL>  }  <NL> catch ( interrupted exception e ) {  <NL>  / / ignored .  <NL>  }  <NL>  }  <NL>  }  COM: <s> process ui input but do not return for the </s>