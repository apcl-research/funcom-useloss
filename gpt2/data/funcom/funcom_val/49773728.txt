TDAT: public long get sim time in millis ( ) {  <NL> if ( simulation active ) {  <NL> long real elapsed time = system . current time millis ( ) -  <NL> last sim time change in reality ;  <NL> long sim elapsed time = ( long ) ( real elapsed time * acceleration factor ) ;  <NL> return last sim time change in sim time + sim elapsed time ;  <NL>  } else {  <NL> return last sim time change in sim time ;  <NL>  }  <NL>  }  COM: <s> this function returns the current time in the simulation </s>