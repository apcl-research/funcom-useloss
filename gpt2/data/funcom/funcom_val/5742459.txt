TDAT: public void close ( ) {  <NL> m _ run = false ;  <NL>  <NL> synchronized ( this ) {  <NL> while ( busy ) {  <NL> write ( 0x7e ) ;  <NL> cancel wait ( ) ;  <NL> try {  <NL>  / / wait for the wait for event ( ) done event , if it doesn ' t work after <NL>  / / 500 ms , then we try generating that output _ empty event again .  <NL> wait ( 500 ) ;  <NL>  } catch ( interrupted exception e ) {  <NL> e . print stack trace ( ) ;  <NL>  }  <NL>  }  <NL>  }  <NL>  }  COM: <s> stop waiting for events </s>