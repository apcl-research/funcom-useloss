TDAT: public void set rollback only ( ) {  <NL> thread current thread = thread . current thread ( ) ;  <NL> synchronized ( transaction thread command table ) {  <NL> if ( transaction thread command table . contains key ( current thread ) ) {  <NL> synchronized ( transaction thread rollback only list ) {  <NL> transaction thread rollback only list . add ( current thread ) ;  <NL>  }  <NL>  } else {  <NL> throw new illegal state exception ( " no transaction to mark as rollback only : time out ? " ) ;  <NL>  }  <NL>  }  <NL>  }  COM: <s> ensures that the current transaction being managed for the calling </s>