TDAT: private instant interval get interval for ( instant i ) {  <NL> instant s ;  <NL> instant e ;  <NL> if ( drag type = = drag . left _ end ) {  <NL> s = i ;  <NL> e = ( instant ) start span . get end instant ( ) . previous ( ) ;  <NL>  } else {  <NL> s = start span . get start instant ( ) ;  <NL> e = i ;  <NL>  }  <NL> if ( s . compare to ( e ) > 0 ) {  <NL> i = s ;  <NL> s = e ;  <NL> e = i ;  <NL>  }  <NL> return ( instant interval ) start span . change ( s , e . next ( ) ) ;  <NL>  }  COM: <s> gets the new interval corresponding to the drag event so far </s>