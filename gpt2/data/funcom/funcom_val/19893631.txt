TDAT: public void stop ( ) {  <NL> mb stop request = true ;  <NL> if ( m data connection ! = null ) {  <NL> m data connection . reset ( ) ;  <NL> m data connection = null ;  <NL>  }  <NL> if ( m control socket ! = null ) {  <NL> try {  <NL> m control socket . close ( ) ;  <NL>  }  <NL> catch ( exception ex ) {  <NL>  }  <NL> m control socket = null ;  <NL>  }  <NL> if ( m user . has logged in ( ) ) {  <NL> m user . logout ( ) ;  <NL>  }  <NL> m observer = null ;  <NL>  }  COM: <s> user logout and stop this thread </s>