TDAT: public file get cache file ( url location ) {  <NL> try {  <NL> resource resource = get resource ( location ) ;  <NL> if ( ! resource . is set ( downloaded|error ) )  <NL> wait for resource ( location , 0 ) ;  <NL>  <NL> if ( resource . is set ( error ) )  <NL> return null ;  <NL>  <NL> if ( resource . get local file ( ) ! = null )  <NL> return resource . get local file ( ) ;  <NL>  <NL> if ( location . get protocol ( ) . equals ignore case ( " file " ) ) {  <NL> file file = new file ( location . get file ( ) ) ;  <NL> if ( file . exists ( ) )  <NL> return file ;  <NL>  }  <NL>  <NL> return null ;  <NL>  }  <NL> catch ( interrupted exception ex ) {  <NL> logger . log ( level . severe , " " , ex ) ;  <NL> return null ; / / need an error exception to throw <NL>  }  <NL>  }  COM: <s> returns a file containing the downloaded resource </s>