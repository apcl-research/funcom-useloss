TDAT: private void update world ( ) {  <NL> world state message message = new world state message ( ) ;  <NL> collection < light cloud > collection = this . server . get world state ( ) . get clouds ( ) ;  <NL> float [ ] [ ] clouds = new float [ collection . size ( ) ] [ 2 ] ;  <NL> int index = 0 ;  <NL> for ( light cloud cloud : collection ) {  <NL> clouds [ index ] [ 0 ] = cloud . get id ( ) ;  <NL> clouds [ index ] [ 1 ] = cloud . get scale ( ) ;  <NL> index + + ;  <NL>  }  <NL> message . set clouds ( clouds ) ;  <NL> this . broadcast ( ( short ) - 1 , ( message ) message ) ;  <NL>  }  COM: <s> update all players with the world state </s>