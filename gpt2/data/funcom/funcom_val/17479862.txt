TDAT: public service register find service register ( class service , injection key key ) {  <NL> service register service register = registered named services . get ( key ) ;  <NL> if ( service register = = null & & ! service . is interface ( ) ) {  <NL> service register = register ( key , false ) ;  <NL>  } else if ( service register = = null & & service . is interface ( ) ) {  <NL> service register = register for interface ( key , false ) ;  <NL>  }  <NL> return service register ;  <NL>  }  COM: <s> will find the service register but also perform registration where applicable </s>