TDAT: public owl class get refined class ( ) {  <NL> owl class refined = base class . get refined class ( assign map ) ;  <NL> if ( refined = = null ) {  <NL> boolean valid = true ;  <NL> for ( string field : assign map . key set ( ) ) {  <NL> owl thing assigned = assign map . get ( field ) ;  <NL> valid & = base class . is valid property ( field , assigned ) ;  <NL>  }  <NL> if ( valid ) {  <NL> refined = base class ;  <NL>  }  <NL>  }  <NL> return refined ;  <NL>  }  COM: <s> get the refined class for this base class and assignment map </s>