TDAT: public void flush base64 ( ) throws io exception {  <NL> if ( position > 0 ) {  <NL> if ( encode ) {  <NL> out . write ( encode3to4 ( b4 , buffer , position , options ) ) ;  <NL> position = 0 ;  <NL>  } / / end if : encoding <NL> else {  <NL> throw new io exception (  <NL>  " base64 input not properly padded . " ) ;  <NL>  } / / end else : decoding <NL>  } / / end if : buffer partially full <NL>  <NL>  } / / end flush  COM: <s> method added by phil </s>