TDAT: public void undo action ( ) {  <NL> if ( undo log ! = null & & undo log . size ( ) > 0 ) {  <NL> action data data = ( action data ) undo log . remove last ( ) ;  <NL> set circuit state ( data . circuit state ) ;  <NL> action action = data . action ;  <NL> if ( action . is modification ( ) ) - - undo mods ;  <NL> action . undo ( this ) ;  <NL> file . set dirty ( is file dirty ( ) ) ;  <NL> fire event ( repaint ) ;  <NL>  }  <NL>  }  COM: <s> undoes the last code action code </s>