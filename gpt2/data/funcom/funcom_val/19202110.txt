TDAT: public void set state ( int p state ) {  <NL>  / / only send a notification if the state really changes <NL> if ( p state ! = m state ) {  <NL> m state = p state ;  <NL>  / / now send the event to the jsr - 77 listeners <NL> m target . send notification (  <NL> new notification (  <NL> state management . s types [ m state + 2 ] ,  <NL> m target . get name ( ) ,  <NL> 1 ,  <NL> system . current time millis ( ) ,  <NL>  " state changed "  <NL>  )  <NL>  ) ;  <NL>  }  <NL>  }  COM: <s> sets a new state and if it changed the appropriate </s>