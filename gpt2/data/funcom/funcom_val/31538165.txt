TDAT: protected p packet finalize packet stack ( stack paks )  <NL>  { p packet last ;  <NL>  <NL> if ( paks . empty ( ) )  <NL> return null ;  <NL>  <NL> last = ( p packet ) paks . peek ( ) ;  <NL> if ( last instanceof p operator )  <NL>  ( ( p operator ) last ) . verify completion ( ) ;  <NL>  <NL> return ( p packet ) paks . first element ( ) ;  <NL>  } ;  COM: <s> internal method which produces a final packet representing the given stack of packets </s>