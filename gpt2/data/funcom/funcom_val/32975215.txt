TDAT: public xcf event copy ( ) {  <NL>  / / fixme ? metadata needs to be copied , else is connected to the original document <NL> xcf event copy = new xcf event ( ( document ) this . get document ( ) . copy ( ) , meta ) ;  <NL> iterator < string > it = message . get uri iterator ( ) ;  <NL> while ( it . has next ( ) ) {  <NL> string uri = it . next ( ) ;  <NL> copy . message . add attachment ( uri , message . get attachment ( uri ) ) ;  <NL>  }  <NL> copy . source = source ;  <NL> return copy ;  <NL>  }  COM: <s> shallow copies the xcf event except for its binary attachments </s>