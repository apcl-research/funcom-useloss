TDAT: public void process event ( world world ) {  <NL>  / / get dtn hosts and pass messages between them <NL> dtn host from = world . get node by address ( this . from addr ) ;  <NL> dtn host to = world . get node by address ( this . to addr ) ;  <NL>  <NL> switch ( stage ) {  <NL> case sending :  <NL> from . send message ( id , to ) ;  <NL> break ;  <NL> case transferred :  <NL> to . message transferred ( id , from ) ;  <NL> break ;  <NL> case aborted :  <NL> to . message aborted ( id , from , - 1 ) ;  <NL> break ;  <NL> default :  <NL> assert false : " invalid stage ( " + stage + " ) for " + this ;  <NL>  }  <NL>  }  COM: <s> relays the message </s>