TDAT: public int callback ( int dw control , int dw event type , pointer lp event data , pointer lp context ) {  <NL> switch ( dw control ) {  <NL> case winsvc . service _ control _ stop :  <NL> case winsvc . service _ control _ shutdown :  <NL> report status ( winsvc . service _ stop _ pending , winerror . no _ error , 5000 ) ;  <NL> on stop ( ) ;  <NL> synchronized ( wait object ) {  <NL> wait object . notify all ( ) ;  <NL>  }  <NL>  }  <NL> return winerror . no _ error ;  <NL>  }  COM: <s> called when the service get a control code </s>