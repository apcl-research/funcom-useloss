TDAT: public void add header ( field header ) {  <NL> binary string name = header . get name ( ) . to lower case ( ) ;  <NL> name . trim in place ( ) ;  <NL> for ( binary string singular : singular headers ) {  <NL> if ( singular . equals ( name ) ) {  <NL> headers . put ( name , header ) ;  <NL> return ;  <NL>  }  <NL>  }  <NL> byte index = 0 ;  <NL> name . append ( binary string . wrap ( index ) ) ;  <NL> while ( headers . contains key ( name ) ) {  <NL> index + + ;  <NL> name . substring in place ( 0 , name . length ( ) - 1 ) ;  <NL> name . append ( binary string . wrap ( index ) ) ;  <NL>  }  <NL> headers . put ( name , header ) ;  <NL>  }  COM: <s> adds the header to the message </s>