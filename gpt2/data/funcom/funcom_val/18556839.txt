TDAT: protected point constrain point ( point p ) {  <NL> dimension size = get size ( ) ;  <NL> p . x = geom . range ( 1 , ( int ) ( size . width / scale ) , p . x ) ;  <NL> p . y = geom . range ( 1 , ( int ) ( size . height / scale ) , p . y ) ;  <NL> if ( get constrainer ( ) ! = null )  <NL> return get constrainer ( ) . constrain point ( p ) ;  <NL> return p ;  <NL>  }  COM: <s> constrain to user coordinates not screen coordinates </s>