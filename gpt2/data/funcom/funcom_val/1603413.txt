TDAT: public country get country ( long ip address ) {  <NL> if ( file = = null & & ( dboptions & geoip _ memory _ cache ) = = 0 ) {  <NL> throw new illegal state exception ( " database has been closed . " ) ;  <NL>  }  <NL> int ret = seek country ( ip address ) - country _ begin ;  <NL> if ( ret = = 0 ) {  <NL> return unknown _ country ;  <NL>  }  <NL> else {  <NL> return new country ( country code [ ret ] , country name [ ret ] ) ;  <NL>  }  <NL>  }  COM: <s> returns the country the ip address is in </s>