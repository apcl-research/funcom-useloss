TDAT: private void store peer ( image reference image ref , image peer peer ) {  <NL> if ( ref2peer = = null ) {  <NL> ref2peer = new weak hash map ( ) ;  <NL>  }  <NL> weak reference peer weak ref = new weak reference ( peer ) ;  <NL> ref2peer . put ( image ref , peer weak ref ) ;  <NL> if ( ref2peer . size ( ) > cache _ size ) {  <NL> reduce ( ) ;  <NL>  }  <NL>  <NL> if ( image ref instanceof resource image reference ) {  <NL> resource image reference peers . add ( peer ) ;  <NL>  }  <NL>  }  COM: <s> stores an image peer in the cache for the specifeid image </s>